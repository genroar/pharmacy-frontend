var q3=Object.defineProperty;var h1=e=>{throw TypeError(e)};var H3=(e,t,r)=>t in e?q3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ed=(e,t,r)=>H3(e,typeof t!="symbol"?t+"":t,r),Gg=(e,t,r)=>t.has(e)||h1("Cannot "+r);var je=(e,t,r)=>(Gg(e,t,"read from private field"),r?r.call(e):t.get(e)),Et=(e,t,r)=>t.has(e)?h1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ht=(e,t,r,s)=>(Gg(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),nn=(e,t,r)=>(Gg(e,t,"access private method"),r);var lh=(e,t,r,s)=>({set _(a){ht(e,t,a,r)},get _(){return je(e,t,s)}});function W3(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var DE={exports:{}},ax={},$E={exports:{}},Pt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=Symbol.for("react.element"),K3=Symbol.for("react.portal"),G3=Symbol.for("react.fragment"),Y3=Symbol.for("react.strict_mode"),X3=Symbol.for("react.profiler"),Q3=Symbol.for("react.provider"),J3=Symbol.for("react.context"),Z3=Symbol.for("react.forward_ref"),e5=Symbol.for("react.suspense"),t5=Symbol.for("react.memo"),r5=Symbol.for("react.lazy"),m1=Symbol.iterator;function n5(e){return e===null||typeof e!="object"?null:(e=m1&&e[m1]||e["@@iterator"],typeof e=="function"?e:null)}var LE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FE=Object.assign,BE={};function ed(e,t,r){this.props=e,this.context=t,this.refs=BE,this.updater=r||LE}ed.prototype.isReactComponent={};ed.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ed.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UE(){}UE.prototype=ed.prototype;function Nj(e,t,r){this.props=e,this.context=t,this.refs=BE,this.updater=r||LE}var Sj=Nj.prototype=new UE;Sj.constructor=Nj;FE(Sj,ed.prototype);Sj.isPureReactComponent=!0;var p1=Array.isArray,zE=Object.prototype.hasOwnProperty,Pj={current:null},VE={key:!0,ref:!0,__self:!0,__source:!0};function qE(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)zE.call(t,s)&&!VE.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Rf,type:e,key:i,ref:o,props:a,_owner:Pj.current}}function s5(e,t){return{$$typeof:Rf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cj(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rf}function a5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var x1=/\/+/g;function Yg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a5(""+e.key):t.toString(36)}function Qh(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Rf:case K3:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+Yg(o,0):s,p1(a)?(r="",e!=null&&(r=e.replace(x1,"$&/")+"/"),Qh(a,t,r,"",function(d){return d})):a!=null&&(Cj(a)&&(a=s5(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(x1,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",p1(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+Yg(i,l);o+=Qh(i,t,r,c,a)}else if(c=n5(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+Yg(i,l++),o+=Qh(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function dh(e,t,r){if(e==null)return e;var s=[],a=0;return Qh(e,s,"","",function(i){return t.call(r,i,a++)}),s}function i5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wn={current:null},Jh={transition:null},o5={ReactCurrentDispatcher:wn,ReactCurrentBatchConfig:Jh,ReactCurrentOwner:Pj};function HE(){throw Error("act(...) is not supported in production builds of React.")}Pt.Children={map:dh,forEach:function(e,t,r){dh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return dh(e,function(){t++}),t},toArray:function(e){return dh(e,function(t){return t})||[]},only:function(e){if(!Cj(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Pt.Component=ed;Pt.Fragment=G3;Pt.Profiler=X3;Pt.PureComponent=Nj;Pt.StrictMode=Y3;Pt.Suspense=e5;Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o5;Pt.act=HE;Pt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=FE({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Pj.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)zE.call(t,c)&&!VE.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Rf,type:e.type,key:a,ref:i,props:s,_owner:o}};Pt.createContext=function(e){return e={$$typeof:J3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Q3,_context:e},e.Consumer=e};Pt.createElement=qE;Pt.createFactory=function(e){var t=qE.bind(null,e);return t.type=e,t};Pt.createRef=function(){return{current:null}};Pt.forwardRef=function(e){return{$$typeof:Z3,render:e}};Pt.isValidElement=Cj;Pt.lazy=function(e){return{$$typeof:r5,_payload:{_status:-1,_result:e},_init:i5}};Pt.memo=function(e,t){return{$$typeof:t5,type:e,compare:t===void 0?null:t}};Pt.startTransition=function(e){var t=Jh.transition;Jh.transition={};try{e()}finally{Jh.transition=t}};Pt.unstable_act=HE;Pt.useCallback=function(e,t){return wn.current.useCallback(e,t)};Pt.useContext=function(e){return wn.current.useContext(e)};Pt.useDebugValue=function(){};Pt.useDeferredValue=function(e){return wn.current.useDeferredValue(e)};Pt.useEffect=function(e,t){return wn.current.useEffect(e,t)};Pt.useId=function(){return wn.current.useId()};Pt.useImperativeHandle=function(e,t,r){return wn.current.useImperativeHandle(e,t,r)};Pt.useInsertionEffect=function(e,t){return wn.current.useInsertionEffect(e,t)};Pt.useLayoutEffect=function(e,t){return wn.current.useLayoutEffect(e,t)};Pt.useMemo=function(e,t){return wn.current.useMemo(e,t)};Pt.useReducer=function(e,t,r){return wn.current.useReducer(e,t,r)};Pt.useRef=function(e){return wn.current.useRef(e)};Pt.useState=function(e){return wn.current.useState(e)};Pt.useSyncExternalStore=function(e,t,r){return wn.current.useSyncExternalStore(e,t,r)};Pt.useTransition=function(){return wn.current.useTransition()};Pt.version="18.3.1";$E.exports=Pt;var m=$E.exports;const F=Lt(m),Aj=W3({__proto__:null,default:F},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l5=m,c5=Symbol.for("react.element"),d5=Symbol.for("react.fragment"),u5=Object.prototype.hasOwnProperty,f5=l5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h5={key:!0,ref:!0,__self:!0,__source:!0};function WE(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)u5.call(t,s)&&!h5.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:c5,type:e,key:i,ref:o,props:a,_owner:f5.current}}ax.Fragment=d5;ax.jsx=WE;ax.jsxs=WE;DE.exports=ax;var n=DE.exports,KE={exports:{}},Zn={},GE={exports:{}},YE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,_){var O=E.length;E.push(_);e:for(;0<O;){var M=O-1>>>1,A=E[M];if(0<a(A,_))E[M]=_,E[O]=A,O=M;else break e}}function r(E){return E.length===0?null:E[0]}function s(E){if(E.length===0)return null;var _=E[0],O=E.pop();if(O!==_){E[0]=O;e:for(var M=0,A=E.length,U=A>>>1;M<U;){var ee=2*(M+1)-1,V=E[ee],X=ee+1,Q=E[X];if(0>a(V,O))X<A&&0>a(Q,V)?(E[M]=Q,E[X]=O,M=X):(E[M]=V,E[ee]=O,M=ee);else if(X<A&&0>a(Q,O))E[M]=Q,E[X]=O,M=X;else break e}}return _}function a(E,_){var O=E.sortIndex-_.sortIndex;return O!==0?O:E.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,p=!1,b=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(E){for(var _=r(d);_!==null;){if(_.callback===null)s(d);else if(_.startTime<=E)s(d),_.sortIndex=_.expirationTime,t(c,_);else break;_=r(d)}}function S(E){if(x=!1,j(E),!b)if(r(c)!==null)b=!0,I(w);else{var _=r(d);_!==null&&L(S,_.startTime-E)}}function w(E,_){b=!1,x&&(x=!1,y(C),C=-1),p=!0;var O=h;try{for(j(_),f=r(c);f!==null&&(!(f.expirationTime>_)||E&&!T());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var A=M(f.expirationTime<=_);_=e.unstable_now(),typeof A=="function"?f.callback=A:f===r(c)&&s(c),j(_)}else s(c);f=r(c)}if(f!==null)var U=!0;else{var ee=r(d);ee!==null&&L(S,ee.startTime-_),U=!1}return U}finally{f=null,h=O,p=!1}}var N=!1,P=null,C=-1,k=5,D=-1;function T(){return!(e.unstable_now()-D<k)}function R(){if(P!==null){var E=e.unstable_now();D=E;var _=!0;try{_=P(!0,E)}finally{_?q():(N=!1,P=null)}}else N=!1}var q;if(typeof v=="function")q=function(){v(R)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,B=$.port2;$.port1.onmessage=R,q=function(){B.postMessage(null)}}else q=function(){g(R,0)};function I(E){P=E,N||(N=!0,q())}function L(E,_){C=g(function(){E(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,I(w))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var O=h;h=_;try{return E()}finally{h=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,_){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var O=h;h=E;try{return _()}finally{h=O}},e.unstable_scheduleCallback=function(E,_,O){var M=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?M+O:M):O=M,E){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=O+A,E={id:u++,callback:_,priorityLevel:E,startTime:O,expirationTime:A,sortIndex:-1},O>M?(E.sortIndex=O,t(d,E),r(c)===null&&E===r(d)&&(x?(y(C),C=-1):x=!0,L(S,O-M))):(E.sortIndex=A,t(c,E),b||p||(b=!0,I(w))),E},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(E){var _=h;return function(){var O=h;h=_;try{return E.apply(this,arguments)}finally{h=O}}}})(YE);GE.exports=YE;var m5=GE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p5=m,Qn=m5;function Re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XE=new Set,Nu={};function el(e,t){xc(e,t),xc(e+"Capture",t)}function xc(e,t){for(Nu[e]=t,e=0;e<t.length;e++)XE.add(t[e])}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yy=Object.prototype.hasOwnProperty,x5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g1={},v1={};function g5(e){return yy.call(v1,e)?!0:yy.call(g1,e)?!1:x5.test(e)?v1[e]=!0:(g1[e]=!0,!1)}function v5(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function y5(e,t,r,s){if(t===null||typeof t>"u"||v5(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nn(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new Nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new Nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new Nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new Nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new Nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new Nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new Nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new Nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new Nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ej=/[\-:]([a-z])/g;function Oj(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ej,Oj);tn[t]=new Nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ej,Oj);tn[t]=new Nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ej,Oj);tn[t]=new Nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new Nn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new Nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function kj(e,t,r,s){var a=tn.hasOwnProperty(t)?tn[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(y5(t,r,a,s)&&(r=null),s||a===null?g5(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Za=p5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uh=Symbol.for("react.element"),Ol=Symbol.for("react.portal"),kl=Symbol.for("react.fragment"),Tj=Symbol.for("react.strict_mode"),by=Symbol.for("react.profiler"),QE=Symbol.for("react.provider"),JE=Symbol.for("react.context"),Ij=Symbol.for("react.forward_ref"),jy=Symbol.for("react.suspense"),wy=Symbol.for("react.suspense_list"),_j=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),ZE=Symbol.for("react.offscreen"),y1=Symbol.iterator;function Od(e){return e===null||typeof e!="object"?null:(e=y1&&e[y1]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,Xg;function Qd(e){if(Xg===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xg=t&&t[1]||""}return`
`+Xg+e}var Qg=!1;function Jg(e,t){if(!e||Qg)return"";Qg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Qg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qd(e):""}function b5(e){switch(e.tag){case 5:return Qd(e.type);case 16:return Qd("Lazy");case 13:return Qd("Suspense");case 19:return Qd("SuspenseList");case 0:case 2:case 15:return e=Jg(e.type,!1),e;case 11:return e=Jg(e.type.render,!1),e;case 1:return e=Jg(e.type,!0),e;default:return""}}function Ny(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kl:return"Fragment";case Ol:return"Portal";case by:return"Profiler";case Tj:return"StrictMode";case jy:return"Suspense";case wy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JE:return(e.displayName||"Context")+".Consumer";case QE:return(e._context.displayName||"Context")+".Provider";case Ij:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _j:return t=e.displayName||null,t!==null?t:Ny(e.type)||"Memo";case fi:t=e._payload,e=e._init;try{return Ny(e(t))}catch{}}return null}function j5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ny(t);case 8:return t===Tj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w5(e){var t=eO(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fh(e){e._valueTracker||(e._valueTracker=w5(e))}function tO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=eO(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function gm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sy(e,t){var r=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function b1(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Bi(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rO(e,t){t=t.checked,t!=null&&kj(e,"checked",t,!1)}function Py(e,t){rO(e,t);var r=Bi(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cy(e,t.type,r):t.hasOwnProperty("defaultValue")&&Cy(e,t.type,Bi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function j1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Cy(e,t,r){(t!=="number"||gm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jd=Array.isArray;function Kl(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Bi(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ay(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Re(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function w1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Re(92));if(Jd(r)){if(1<r.length)throw Error(Re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bi(r)}}function nO(e,t){var r=Bi(t.value),s=Bi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function N1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ey(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hh,aO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hh=hh||document.createElement("div"),hh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Su(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N5=["Webkit","ms","Moz","O"];Object.keys(au).forEach(function(e){N5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),au[t]=au[e]})});function iO(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||au.hasOwnProperty(e)&&au[e]?(""+t).trim():t+"px"}function oO(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=iO(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var S5=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oy(e,t){if(t){if(S5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Re(62))}}function ky(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ty=null;function Rj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Iy=null,Gl=null,Yl=null;function S1(e){if(e=$f(e)){if(typeof Iy!="function")throw Error(Re(280));var t=e.stateNode;t&&(t=dx(t),Iy(e.stateNode,e.type,t))}}function lO(e){Gl?Yl?Yl.push(e):Yl=[e]:Gl=e}function cO(){if(Gl){var e=Gl,t=Yl;if(Yl=Gl=null,S1(e),t)for(e=0;e<t.length;e++)S1(t[e])}}function dO(e,t){return e(t)}function uO(){}var Zg=!1;function fO(e,t,r){if(Zg)return e(t,r);Zg=!0;try{return dO(e,t,r)}finally{Zg=!1,(Gl!==null||Yl!==null)&&(uO(),cO())}}function Pu(e,t){var r=e.stateNode;if(r===null)return null;var s=dx(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Re(231,t,typeof r));return r}var _y=!1;if(Ua)try{var kd={};Object.defineProperty(kd,"passive",{get:function(){_y=!0}}),window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{_y=!1}function P5(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var iu=!1,vm=null,ym=!1,Ry=null,C5={onError:function(e){iu=!0,vm=e}};function A5(e,t,r,s,a,i,o,l,c){iu=!1,vm=null,P5.apply(C5,arguments)}function E5(e,t,r,s,a,i,o,l,c){if(A5.apply(this,arguments),iu){if(iu){var d=vm;iu=!1,vm=null}else throw Error(Re(198));ym||(ym=!0,Ry=d)}}function tl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function hO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P1(e){if(tl(e)!==e)throw Error(Re(188))}function O5(e){var t=e.alternate;if(!t){if(t=tl(e),t===null)throw Error(Re(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return P1(a),e;if(i===s)return P1(a),t;i=i.sibling}throw Error(Re(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(Re(189))}}if(r.alternate!==s)throw Error(Re(190))}if(r.tag!==3)throw Error(Re(188));return r.stateNode.current===r?e:t}function mO(e){return e=O5(e),e!==null?pO(e):null}function pO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pO(e);if(t!==null)return t;e=e.sibling}return null}var xO=Qn.unstable_scheduleCallback,C1=Qn.unstable_cancelCallback,k5=Qn.unstable_shouldYield,T5=Qn.unstable_requestPaint,jr=Qn.unstable_now,I5=Qn.unstable_getCurrentPriorityLevel,Mj=Qn.unstable_ImmediatePriority,gO=Qn.unstable_UserBlockingPriority,bm=Qn.unstable_NormalPriority,_5=Qn.unstable_LowPriority,vO=Qn.unstable_IdlePriority,ix=null,aa=null;function R5(e){if(aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(ix,e,void 0,(e.current.flags&128)===128)}catch{}}var Ms=Math.clz32?Math.clz32:$5,M5=Math.log,D5=Math.LN2;function $5(e){return e>>>=0,e===0?32:31-(M5(e)/D5|0)|0}var mh=64,ph=4194304;function Zd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jm(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=Zd(l):(i&=o,i!==0&&(s=Zd(i)))}else o=r&~a,o!==0?s=Zd(o):i!==0&&(s=Zd(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ms(t),a=1<<r,s|=e[r],t&=~a;return s}function L5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F5(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ms(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=L5(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function My(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yO(){var e=mh;return mh<<=1,!(mh&4194240)&&(mh=64),e}function ev(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Mf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ms(t),e[t]=r}function B5(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ms(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function Dj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ms(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Ut=0;function bO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jO,$j,wO,NO,SO,Dy=!1,xh=[],Ei=null,Oi=null,ki=null,Cu=new Map,Au=new Map,pi=[],U5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A1(e,t){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Cu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(t.pointerId)}}function Td(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=$f(t),t!==null&&$j(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function z5(e,t,r,s,a){switch(t){case"focusin":return Ei=Td(Ei,e,t,r,s,a),!0;case"dragenter":return Oi=Td(Oi,e,t,r,s,a),!0;case"mouseover":return ki=Td(ki,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Cu.set(i,Td(Cu.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Au.set(i,Td(Au.get(i)||null,e,t,r,s,a)),!0}return!1}function PO(e){var t=go(e.target);if(t!==null){var r=tl(t);if(r!==null){if(t=r.tag,t===13){if(t=hO(r),t!==null){e.blockedOn=t,SO(e.priority,function(){wO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$y(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Ty=s,r.target.dispatchEvent(s),Ty=null}else return t=$f(r),t!==null&&$j(t),e.blockedOn=r,!1;t.shift()}return!0}function E1(e,t,r){Zh(e)&&r.delete(t)}function V5(){Dy=!1,Ei!==null&&Zh(Ei)&&(Ei=null),Oi!==null&&Zh(Oi)&&(Oi=null),ki!==null&&Zh(ki)&&(ki=null),Cu.forEach(E1),Au.forEach(E1)}function Id(e,t){e.blockedOn===t&&(e.blockedOn=null,Dy||(Dy=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,V5)))}function Eu(e){function t(a){return Id(a,e)}if(0<xh.length){Id(xh[0],e);for(var r=1;r<xh.length;r++){var s=xh[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Ei!==null&&Id(Ei,e),Oi!==null&&Id(Oi,e),ki!==null&&Id(ki,e),Cu.forEach(t),Au.forEach(t),r=0;r<pi.length;r++)s=pi[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<pi.length&&(r=pi[0],r.blockedOn===null);)PO(r),r.blockedOn===null&&pi.shift()}var Xl=Za.ReactCurrentBatchConfig,wm=!0;function q5(e,t,r,s){var a=Ut,i=Xl.transition;Xl.transition=null;try{Ut=1,Lj(e,t,r,s)}finally{Ut=a,Xl.transition=i}}function H5(e,t,r,s){var a=Ut,i=Xl.transition;Xl.transition=null;try{Ut=4,Lj(e,t,r,s)}finally{Ut=a,Xl.transition=i}}function Lj(e,t,r,s){if(wm){var a=$y(e,t,r,s);if(a===null)dv(e,t,s,Nm,r),A1(e,s);else if(z5(a,e,t,r,s))s.stopPropagation();else if(A1(e,s),t&4&&-1<U5.indexOf(e)){for(;a!==null;){var i=$f(a);if(i!==null&&jO(i),i=$y(e,t,r,s),i===null&&dv(e,t,s,Nm,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else dv(e,t,s,null,r)}}var Nm=null;function $y(e,t,r,s){if(Nm=null,e=Rj(s),e=go(e),e!==null)if(t=tl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=hO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nm=e,null}function CO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I5()){case Mj:return 1;case gO:return 4;case bm:case _5:return 16;case vO:return 536870912;default:return 16}default:return 16}}var Ni=null,Fj=null,em=null;function AO(){if(em)return em;var e,t=Fj,r=t.length,s,a="value"in Ni?Ni.value:Ni.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return em=a.slice(e,1<s?1-s:void 0)}function tm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gh(){return!0}function O1(){return!1}function es(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gh:O1,this.isPropagationStopped=O1,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gh)},persist:function(){},isPersistent:gh}),t}var td={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bj=es(td),Df=mr({},td,{view:0,detail:0}),W5=es(Df),tv,rv,_d,ox=mr({},Df,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_d&&(_d&&e.type==="mousemove"?(tv=e.screenX-_d.screenX,rv=e.screenY-_d.screenY):rv=tv=0,_d=e),tv)},movementY:function(e){return"movementY"in e?e.movementY:rv}}),k1=es(ox),K5=mr({},ox,{dataTransfer:0}),G5=es(K5),Y5=mr({},Df,{relatedTarget:0}),nv=es(Y5),X5=mr({},td,{animationName:0,elapsedTime:0,pseudoElement:0}),Q5=es(X5),J5=mr({},td,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Z5=es(J5),eL=mr({},td,{data:0}),T1=es(eL),tL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nL[e])?!!t[e]:!1}function Uj(){return sL}var aL=mr({},Df,{key:function(e){if(e.key){var t=tL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uj,charCode:function(e){return e.type==="keypress"?tm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iL=es(aL),oL=mr({},ox,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I1=es(oL),lL=mr({},Df,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uj}),cL=es(lL),dL=mr({},td,{propertyName:0,elapsedTime:0,pseudoElement:0}),uL=es(dL),fL=mr({},ox,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hL=es(fL),mL=[9,13,27,32],zj=Ua&&"CompositionEvent"in window,ou=null;Ua&&"documentMode"in document&&(ou=document.documentMode);var pL=Ua&&"TextEvent"in window&&!ou,EO=Ua&&(!zj||ou&&8<ou&&11>=ou),_1=" ",R1=!1;function OO(e,t){switch(e){case"keyup":return mL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tl=!1;function xL(e,t){switch(e){case"compositionend":return kO(t);case"keypress":return t.which!==32?null:(R1=!0,_1);case"textInput":return e=t.data,e===_1&&R1?null:e;default:return null}}function gL(e,t){if(Tl)return e==="compositionend"||!zj&&OO(e,t)?(e=AO(),em=Fj=Ni=null,Tl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return EO&&t.locale!=="ko"?null:t.data;default:return null}}var vL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vL[e.type]:t==="textarea"}function TO(e,t,r,s){lO(s),t=Sm(t,"onChange"),0<t.length&&(r=new Bj("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var lu=null,Ou=null;function yL(e){zO(e,0)}function lx(e){var t=Rl(e);if(tO(t))return e}function bL(e,t){if(e==="change")return t}var IO=!1;if(Ua){var sv;if(Ua){var av="oninput"in document;if(!av){var D1=document.createElement("div");D1.setAttribute("oninput","return;"),av=typeof D1.oninput=="function"}sv=av}else sv=!1;IO=sv&&(!document.documentMode||9<document.documentMode)}function $1(){lu&&(lu.detachEvent("onpropertychange",_O),Ou=lu=null)}function _O(e){if(e.propertyName==="value"&&lx(Ou)){var t=[];TO(t,Ou,e,Rj(e)),fO(yL,t)}}function jL(e,t,r){e==="focusin"?($1(),lu=t,Ou=r,lu.attachEvent("onpropertychange",_O)):e==="focusout"&&$1()}function wL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lx(Ou)}function NL(e,t){if(e==="click")return lx(t)}function SL(e,t){if(e==="input"||e==="change")return lx(t)}function PL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bs=typeof Object.is=="function"?Object.is:PL;function ku(e,t){if(Bs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!yy.call(t,a)||!Bs(e[a],t[a]))return!1}return!0}function L1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function F1(e,t){var r=L1(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=L1(r)}}function RO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?RO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function MO(){for(var e=window,t=gm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gm(e.document)}return t}function Vj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function CL(e){var t=MO(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&RO(r.ownerDocument.documentElement,r)){if(s!==null&&Vj(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=F1(r,i);var o=F1(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AL=Ua&&"documentMode"in document&&11>=document.documentMode,Il=null,Ly=null,cu=null,Fy=!1;function B1(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fy||Il==null||Il!==gm(s)||(s=Il,"selectionStart"in s&&Vj(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),cu&&ku(cu,s)||(cu=s,s=Sm(Ly,"onSelect"),0<s.length&&(t=new Bj("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Il)))}function vh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _l={animationend:vh("Animation","AnimationEnd"),animationiteration:vh("Animation","AnimationIteration"),animationstart:vh("Animation","AnimationStart"),transitionend:vh("Transition","TransitionEnd")},iv={},DO={};Ua&&(DO=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function cx(e){if(iv[e])return iv[e];if(!_l[e])return e;var t=_l[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in DO)return iv[e]=t[r];return e}var $O=cx("animationend"),LO=cx("animationiteration"),FO=cx("animationstart"),BO=cx("transitionend"),UO=new Map,U1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(e,t){UO.set(e,t),el(t,[e])}for(var ov=0;ov<U1.length;ov++){var lv=U1[ov],EL=lv.toLowerCase(),OL=lv[0].toUpperCase()+lv.slice(1);Wi(EL,"on"+OL)}Wi($O,"onAnimationEnd");Wi(LO,"onAnimationIteration");Wi(FO,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(BO,"onTransitionEnd");xc("onMouseEnter",["mouseout","mouseover"]);xc("onMouseLeave",["mouseout","mouseover"]);xc("onPointerEnter",["pointerout","pointerover"]);xc("onPointerLeave",["pointerout","pointerover"]);el("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));el("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));el("onBeforeInput",["compositionend","keypress","textInput","paste"]);el("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));el("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));el("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kL=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function z1(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,E5(s,t,void 0,e),e.currentTarget=null}function zO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;z1(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;z1(a,l,d),i=c}}}if(ym)throw e=Ry,ym=!1,Ry=null,e}function er(e,t){var r=t[qy];r===void 0&&(r=t[qy]=new Set);var s=e+"__bubble";r.has(s)||(VO(t,e,2,!1),r.add(s))}function cv(e,t,r){var s=0;t&&(s|=4),VO(r,e,s,t)}var yh="_reactListening"+Math.random().toString(36).slice(2);function Tu(e){if(!e[yh]){e[yh]=!0,XE.forEach(function(r){r!=="selectionchange"&&(kL.has(r)||cv(r,!1,e),cv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yh]||(t[yh]=!0,cv("selectionchange",!1,t))}}function VO(e,t,r,s){switch(CO(t)){case 1:var a=q5;break;case 4:a=H5;break;default:a=Lj}r=a.bind(null,t,r,e),a=void 0,!_y||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function dv(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=go(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}fO(function(){var d=i,u=Rj(r),f=[];e:{var h=UO.get(e);if(h!==void 0){var p=Bj,b=e;switch(e){case"keypress":if(tm(r)===0)break e;case"keydown":case"keyup":p=iL;break;case"focusin":b="focus",p=nv;break;case"focusout":b="blur",p=nv;break;case"beforeblur":case"afterblur":p=nv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=k1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=G5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cL;break;case $O:case LO:case FO:p=Q5;break;case BO:p=uL;break;case"scroll":p=W5;break;case"wheel":p=hL;break;case"copy":case"cut":case"paste":p=Z5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=I1}var x=(t&4)!==0,g=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var v=d,j;v!==null;){j=v;var S=j.stateNode;if(j.tag===5&&S!==null&&(j=S,y!==null&&(S=Pu(v,y),S!=null&&x.push(Iu(v,S,j)))),g)break;v=v.return}0<x.length&&(h=new p(h,b,null,r,u),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Ty&&(b=r.relatedTarget||r.fromElement)&&(go(b)||b[za]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=d,b=b?go(b):null,b!==null&&(g=tl(b),b!==g||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=d),p!==b)){if(x=k1,S="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=I1,S="onPointerLeave",y="onPointerEnter",v="pointer"),g=p==null?h:Rl(p),j=b==null?h:Rl(b),h=new x(S,v+"leave",p,r,u),h.target=g,h.relatedTarget=j,S=null,go(u)===d&&(x=new x(y,v+"enter",b,r,u),x.target=j,x.relatedTarget=g,S=x),g=S,p&&b)t:{for(x=p,y=b,v=0,j=x;j;j=gl(j))v++;for(j=0,S=y;S;S=gl(S))j++;for(;0<v-j;)x=gl(x),v--;for(;0<j-v;)y=gl(y),j--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=gl(x),y=gl(y)}x=null}else x=null;p!==null&&V1(f,h,p,x,!1),b!==null&&g!==null&&V1(f,g,b,x,!0)}}e:{if(h=d?Rl(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=bL;else if(M1(h))if(IO)w=SL;else{w=wL;var N=jL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=NL);if(w&&(w=w(e,d))){TO(f,w,r,u);break e}N&&N(e,h,d),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Cy(h,"number",h.value)}switch(N=d?Rl(d):window,e){case"focusin":(M1(N)||N.contentEditable==="true")&&(Il=N,Ly=d,cu=null);break;case"focusout":cu=Ly=Il=null;break;case"mousedown":Fy=!0;break;case"contextmenu":case"mouseup":case"dragend":Fy=!1,B1(f,r,u);break;case"selectionchange":if(AL)break;case"keydown":case"keyup":B1(f,r,u)}var P;if(zj)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Tl?OO(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(EO&&r.locale!=="ko"&&(Tl||C!=="onCompositionStart"?C==="onCompositionEnd"&&Tl&&(P=AO()):(Ni=u,Fj="value"in Ni?Ni.value:Ni.textContent,Tl=!0)),N=Sm(d,C),0<N.length&&(C=new T1(C,e,null,r,u),f.push({event:C,listeners:N}),P?C.data=P:(P=kO(r),P!==null&&(C.data=P)))),(P=pL?xL(e,r):gL(e,r))&&(d=Sm(d,"onBeforeInput"),0<d.length&&(u=new T1("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=P))}zO(f,t)})}function Iu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Sm(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Pu(e,r),i!=null&&s.unshift(Iu(e,i,a)),i=Pu(e,t),i!=null&&s.push(Iu(e,i,a))),e=e.return}return s}function gl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function V1(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Pu(r,i),c!=null&&o.unshift(Iu(r,c,l))):a||(c=Pu(r,i),c!=null&&o.push(Iu(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var TL=/\r\n?/g,IL=/\u0000|\uFFFD/g;function q1(e){return(typeof e=="string"?e:""+e).replace(TL,`
`).replace(IL,"")}function bh(e,t,r){if(t=q1(t),q1(e)!==t&&r)throw Error(Re(425))}function Pm(){}var By=null,Uy=null;function zy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vy=typeof setTimeout=="function"?setTimeout:void 0,_L=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,RL=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(e){return H1.resolve(null).then(e).catch(ML)}:Vy;function ML(e){setTimeout(function(){throw e})}function uv(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Eu(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Eu(t)}function Ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function W1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rd=Math.random().toString(36).slice(2),Zs="__reactFiber$"+rd,_u="__reactProps$"+rd,za="__reactContainer$"+rd,qy="__reactEvents$"+rd,DL="__reactListeners$"+rd,$L="__reactHandles$"+rd;function go(e){var t=e[Zs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[za]||r[Zs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=W1(e);e!==null;){if(r=e[Zs])return r;e=W1(e)}return t}e=r,r=e.parentNode}return null}function $f(e){return e=e[Zs]||e[za],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Re(33))}function dx(e){return e[_u]||null}var Hy=[],Ml=-1;function Ki(e){return{current:e}}function sr(e){0>Ml||(e.current=Hy[Ml],Hy[Ml]=null,Ml--)}function Xt(e,t){Ml++,Hy[Ml]=e.current,e.current=t}var Ui={},un=Ki(Ui),Tn=Ki(!1),$o=Ui;function gc(e,t){var r=e.type.contextTypes;if(!r)return Ui;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function In(e){return e=e.childContextTypes,e!=null}function Cm(){sr(Tn),sr(un)}function K1(e,t,r){if(un.current!==Ui)throw Error(Re(168));Xt(un,t),Xt(Tn,r)}function qO(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Re(108,j5(e)||"Unknown",a));return mr({},r,s)}function Am(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ui,$o=un.current,Xt(un,e),Xt(Tn,Tn.current),!0}function G1(e,t,r){var s=e.stateNode;if(!s)throw Error(Re(169));r?(e=qO(e,t,$o),s.__reactInternalMemoizedMergedChildContext=e,sr(Tn),sr(un),Xt(un,e)):sr(Tn),Xt(Tn,r)}var Ca=null,ux=!1,fv=!1;function HO(e){Ca===null?Ca=[e]:Ca.push(e)}function LL(e){ux=!0,HO(e)}function Gi(){if(!fv&&Ca!==null){fv=!0;var e=0,t=Ut;try{var r=Ca;for(Ut=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Ca=null,ux=!1}catch(a){throw Ca!==null&&(Ca=Ca.slice(e+1)),xO(Mj,Gi),a}finally{Ut=t,fv=!1}}return null}var Dl=[],$l=0,Em=null,Om=0,is=[],os=0,Lo=null,Ea=1,Oa="";function co(e,t){Dl[$l++]=Om,Dl[$l++]=Em,Em=e,Om=t}function WO(e,t,r){is[os++]=Ea,is[os++]=Oa,is[os++]=Lo,Lo=e;var s=Ea;e=Oa;var a=32-Ms(s)-1;s&=~(1<<a),r+=1;var i=32-Ms(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Ea=1<<32-Ms(t)+a|r<<a|s,Oa=i+e}else Ea=1<<i|r<<a|s,Oa=e}function qj(e){e.return!==null&&(co(e,1),WO(e,1,0))}function Hj(e){for(;e===Em;)Em=Dl[--$l],Dl[$l]=null,Om=Dl[--$l],Dl[$l]=null;for(;e===Lo;)Lo=is[--os],is[os]=null,Oa=is[--os],is[os]=null,Ea=is[--os],is[os]=null}var Wn=null,Hn=null,or=!1,Is=null;function KO(e,t){var r=cs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Y1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wn=e,Hn=Ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wn=e,Hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Lo!==null?{id:Ea,overflow:Oa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wn=e,Hn=null,!0):!1;default:return!1}}function Wy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ky(e){if(or){var t=Hn;if(t){var r=t;if(!Y1(e,t)){if(Wy(e))throw Error(Re(418));t=Ti(r.nextSibling);var s=Wn;t&&Y1(e,t)?KO(s,r):(e.flags=e.flags&-4097|2,or=!1,Wn=e)}}else{if(Wy(e))throw Error(Re(418));e.flags=e.flags&-4097|2,or=!1,Wn=e}}}function X1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wn=e}function jh(e){if(e!==Wn)return!1;if(!or)return X1(e),or=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zy(e.type,e.memoizedProps)),t&&(t=Hn)){if(Wy(e))throw GO(),Error(Re(418));for(;t;)KO(e,t),t=Ti(t.nextSibling)}if(X1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hn=Ti(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hn=null}}else Hn=Wn?Ti(e.stateNode.nextSibling):null;return!0}function GO(){for(var e=Hn;e;)e=Ti(e.nextSibling)}function vc(){Hn=Wn=null,or=!1}function Wj(e){Is===null?Is=[e]:Is.push(e)}var FL=Za.ReactCurrentBatchConfig;function Rd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Re(309));var s=r.stateNode}if(!s)throw Error(Re(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Re(284));if(!r._owner)throw Error(Re(290,e))}return e}function wh(e,t){throw e=Object.prototype.toString.call(t),Error(Re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Q1(e){var t=e._init;return t(e._payload)}function YO(e){function t(y,v){if(e){var j=y.deletions;j===null?(y.deletions=[v],y.flags|=16):j.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function s(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=Mi(y,v),y.index=0,y.sibling=null,y}function i(y,v,j){return y.index=j,e?(j=y.alternate,j!==null?(j=j.index,j<v?(y.flags|=2,v):j):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,j,S){return v===null||v.tag!==6?(v=yv(j,y.mode,S),v.return=y,v):(v=a(v,j),v.return=y,v)}function c(y,v,j,S){var w=j.type;return w===kl?u(y,v,j.props.children,S,j.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fi&&Q1(w)===v.type)?(S=a(v,j.props),S.ref=Rd(y,v,j),S.return=y,S):(S=lm(j.type,j.key,j.props,null,y.mode,S),S.ref=Rd(y,v,j),S.return=y,S)}function d(y,v,j,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==j.containerInfo||v.stateNode.implementation!==j.implementation?(v=bv(j,y.mode,S),v.return=y,v):(v=a(v,j.children||[]),v.return=y,v)}function u(y,v,j,S,w){return v===null||v.tag!==7?(v=Io(j,y.mode,S,w),v.return=y,v):(v=a(v,j),v.return=y,v)}function f(y,v,j){if(typeof v=="string"&&v!==""||typeof v=="number")return v=yv(""+v,y.mode,j),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case uh:return j=lm(v.type,v.key,v.props,null,y.mode,j),j.ref=Rd(y,null,v),j.return=y,j;case Ol:return v=bv(v,y.mode,j),v.return=y,v;case fi:var S=v._init;return f(y,S(v._payload),j)}if(Jd(v)||Od(v))return v=Io(v,y.mode,j,null),v.return=y,v;wh(y,v)}return null}function h(y,v,j,S){var w=v!==null?v.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:l(y,v,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case uh:return j.key===w?c(y,v,j,S):null;case Ol:return j.key===w?d(y,v,j,S):null;case fi:return w=j._init,h(y,v,w(j._payload),S)}if(Jd(j)||Od(j))return w!==null?null:u(y,v,j,S,null);wh(y,j)}return null}function p(y,v,j,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(j)||null,l(v,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uh:return y=y.get(S.key===null?j:S.key)||null,c(v,y,S,w);case Ol:return y=y.get(S.key===null?j:S.key)||null,d(v,y,S,w);case fi:var N=S._init;return p(y,v,j,N(S._payload),w)}if(Jd(S)||Od(S))return y=y.get(j)||null,u(v,y,S,w,null);wh(v,S)}return null}function b(y,v,j,S){for(var w=null,N=null,P=v,C=v=0,k=null;P!==null&&C<j.length;C++){P.index>C?(k=P,P=null):k=P.sibling;var D=h(y,P,j[C],S);if(D===null){P===null&&(P=k);break}e&&P&&D.alternate===null&&t(y,P),v=i(D,v,C),N===null?w=D:N.sibling=D,N=D,P=k}if(C===j.length)return r(y,P),or&&co(y,C),w;if(P===null){for(;C<j.length;C++)P=f(y,j[C],S),P!==null&&(v=i(P,v,C),N===null?w=P:N.sibling=P,N=P);return or&&co(y,C),w}for(P=s(y,P);C<j.length;C++)k=p(P,y,C,j[C],S),k!==null&&(e&&k.alternate!==null&&P.delete(k.key===null?C:k.key),v=i(k,v,C),N===null?w=k:N.sibling=k,N=k);return e&&P.forEach(function(T){return t(y,T)}),or&&co(y,C),w}function x(y,v,j,S){var w=Od(j);if(typeof w!="function")throw Error(Re(150));if(j=w.call(j),j==null)throw Error(Re(151));for(var N=w=null,P=v,C=v=0,k=null,D=j.next();P!==null&&!D.done;C++,D=j.next()){P.index>C?(k=P,P=null):k=P.sibling;var T=h(y,P,D.value,S);if(T===null){P===null&&(P=k);break}e&&P&&T.alternate===null&&t(y,P),v=i(T,v,C),N===null?w=T:N.sibling=T,N=T,P=k}if(D.done)return r(y,P),or&&co(y,C),w;if(P===null){for(;!D.done;C++,D=j.next())D=f(y,D.value,S),D!==null&&(v=i(D,v,C),N===null?w=D:N.sibling=D,N=D);return or&&co(y,C),w}for(P=s(y,P);!D.done;C++,D=j.next())D=p(P,y,C,D.value,S),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?C:D.key),v=i(D,v,C),N===null?w=D:N.sibling=D,N=D);return e&&P.forEach(function(R){return t(y,R)}),or&&co(y,C),w}function g(y,v,j,S){if(typeof j=="object"&&j!==null&&j.type===kl&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case uh:e:{for(var w=j.key,N=v;N!==null;){if(N.key===w){if(w=j.type,w===kl){if(N.tag===7){r(y,N.sibling),v=a(N,j.props.children),v.return=y,y=v;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fi&&Q1(w)===N.type){r(y,N.sibling),v=a(N,j.props),v.ref=Rd(y,N,j),v.return=y,y=v;break e}r(y,N);break}else t(y,N);N=N.sibling}j.type===kl?(v=Io(j.props.children,y.mode,S,j.key),v.return=y,y=v):(S=lm(j.type,j.key,j.props,null,y.mode,S),S.ref=Rd(y,v,j),S.return=y,y=S)}return o(y);case Ol:e:{for(N=j.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===j.containerInfo&&v.stateNode.implementation===j.implementation){r(y,v.sibling),v=a(v,j.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=bv(j,y.mode,S),v.return=y,y=v}return o(y);case fi:return N=j._init,g(y,v,N(j._payload),S)}if(Jd(j))return b(y,v,j,S);if(Od(j))return x(y,v,j,S);wh(y,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,v!==null&&v.tag===6?(r(y,v.sibling),v=a(v,j),v.return=y,y=v):(r(y,v),v=yv(j,y.mode,S),v.return=y,y=v),o(y)):r(y,v)}return g}var yc=YO(!0),XO=YO(!1),km=Ki(null),Tm=null,Ll=null,Kj=null;function Gj(){Kj=Ll=Tm=null}function Yj(e){var t=km.current;sr(km),e._currentValue=t}function Gy(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Ql(e,t){Tm=e,Kj=Ll=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(On=!0),e.firstContext=null)}function ps(e){var t=e._currentValue;if(Kj!==e)if(e={context:e,memoizedValue:t,next:null},Ll===null){if(Tm===null)throw Error(Re(308));Ll=e,Tm.dependencies={lanes:0,firstContext:e}}else Ll=Ll.next=e;return t}var vo=null;function Xj(e){vo===null?vo=[e]:vo.push(e)}function QO(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Xj(t)):(r.next=a.next,a.next=r),t.interleaved=r,Va(e,s)}function Va(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var hi=!1;function Qj(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ma(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,At&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Va(e,r)}return a=s.interleaved,a===null?(t.next=t,Xj(s)):(t.next=a.next,a.next=t),s.interleaved=t,Va(e,r)}function rm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Dj(e,r)}}function J1(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Im(e,t,r,s){var a=e.updateQueue;hi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,x=l;switch(h=t,p=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(p,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,h=typeof b=="function"?b.call(p,f,h):b,h==null)break e;f=mr({},f,h);break e;case 2:hi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Bo|=o,e.lanes=o,e.memoizedState=f}}function Z1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(Re(191,a));a.call(s)}}}var Lf={},ia=Ki(Lf),Ru=Ki(Lf),Mu=Ki(Lf);function yo(e){if(e===Lf)throw Error(Re(174));return e}function Jj(e,t){switch(Xt(Mu,t),Xt(Ru,e),Xt(ia,Lf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ey(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ey(t,e)}sr(ia),Xt(ia,t)}function bc(){sr(ia),sr(Ru),sr(Mu)}function ZO(e){yo(Mu.current);var t=yo(ia.current),r=Ey(t,e.type);t!==r&&(Xt(Ru,e),Xt(ia,r))}function Zj(e){Ru.current===e&&(sr(ia),sr(Ru))}var dr=Ki(0);function _m(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hv=[];function ew(){for(var e=0;e<hv.length;e++)hv[e]._workInProgressVersionPrimary=null;hv.length=0}var nm=Za.ReactCurrentDispatcher,mv=Za.ReactCurrentBatchConfig,Fo=0,hr=null,Rr=null,Ur=null,Rm=!1,du=!1,Du=0,BL=0;function sn(){throw Error(Re(321))}function tw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bs(e[r],t[r]))return!1;return!0}function rw(e,t,r,s,a,i){if(Fo=i,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nm.current=e===null||e.memoizedState===null?qL:HL,e=r(s,a),du){i=0;do{if(du=!1,Du=0,25<=i)throw Error(Re(301));i+=1,Ur=Rr=null,t.updateQueue=null,nm.current=WL,e=r(s,a)}while(du)}if(nm.current=Mm,t=Rr!==null&&Rr.next!==null,Fo=0,Ur=Rr=hr=null,Rm=!1,t)throw Error(Re(300));return e}function nw(){var e=Du!==0;return Du=0,e}function Gs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?hr.memoizedState=Ur=e:Ur=Ur.next=e,Ur}function xs(){if(Rr===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=Rr.next;var t=Ur===null?hr.memoizedState:Ur.next;if(t!==null)Ur=t,Rr=e;else{if(e===null)throw Error(Re(310));Rr=e,e={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Ur===null?hr.memoizedState=Ur=e:Ur=Ur.next=e}return Ur}function $u(e,t){return typeof t=="function"?t(e):t}function pv(e){var t=xs(),r=t.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=e;var s=Rr,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Fo&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,hr.lanes|=u,Bo|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Bs(s,t.memoizedState)||(On=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,hr.lanes|=i,Bo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xv(e){var t=xs(),r=t.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Bs(i,t.memoizedState)||(On=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function ek(){}function tk(e,t){var r=hr,s=xs(),a=t(),i=!Bs(s.memoizedState,a);if(i&&(s.memoizedState=a,On=!0),s=s.queue,sw(sk.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Ur!==null&&Ur.memoizedState.tag&1){if(r.flags|=2048,Lu(9,nk.bind(null,r,s,a,t),void 0,null),Wr===null)throw Error(Re(349));Fo&30||rk(r,t,a)}return a}function rk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function nk(e,t,r,s){t.value=r,t.getSnapshot=s,ak(t)&&ik(e)}function sk(e,t,r){return r(function(){ak(t)&&ik(e)})}function ak(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bs(e,r)}catch{return!0}}function ik(e){var t=Va(e,1);t!==null&&Ds(t,e,1,-1)}function eS(e){var t=Gs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:e},t.queue=e,e=e.dispatch=VL.bind(null,hr,e),[t.memoizedState,e]}function Lu(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function ok(){return xs().memoizedState}function sm(e,t,r,s){var a=Gs();hr.flags|=e,a.memoizedState=Lu(1|t,r,void 0,s===void 0?null:s)}function fx(e,t,r,s){var a=xs();s=s===void 0?null:s;var i=void 0;if(Rr!==null){var o=Rr.memoizedState;if(i=o.destroy,s!==null&&tw(s,o.deps)){a.memoizedState=Lu(t,r,i,s);return}}hr.flags|=e,a.memoizedState=Lu(1|t,r,i,s)}function tS(e,t){return sm(8390656,8,e,t)}function sw(e,t){return fx(2048,8,e,t)}function lk(e,t){return fx(4,2,e,t)}function ck(e,t){return fx(4,4,e,t)}function dk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uk(e,t,r){return r=r!=null?r.concat([e]):null,fx(4,4,dk.bind(null,t,e),r)}function aw(){}function fk(e,t){var r=xs();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&tw(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function hk(e,t){var r=xs();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&tw(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function mk(e,t,r){return Fo&21?(Bs(r,t)||(r=yO(),hr.lanes|=r,Bo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,On=!0),e.memoizedState=r)}function UL(e,t){var r=Ut;Ut=r!==0&&4>r?r:4,e(!0);var s=mv.transition;mv.transition={};try{e(!1),t()}finally{Ut=r,mv.transition=s}}function pk(){return xs().memoizedState}function zL(e,t,r){var s=Ri(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},xk(e))gk(t,r);else if(r=QO(e,t,r,s),r!==null){var a=bn();Ds(r,e,s,a),vk(r,t,s)}}function VL(e,t,r){var s=Ri(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(xk(e))gk(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Bs(l,o)){var c=t.interleaved;c===null?(a.next=a,Xj(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=QO(e,t,a,s),r!==null&&(a=bn(),Ds(r,e,s,a),vk(r,t,s))}}function xk(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function gk(e,t){du=Rm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vk(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Dj(e,r)}}var Mm={readContext:ps,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},qL={readContext:ps,useCallback:function(e,t){return Gs().memoizedState=[e,t===void 0?null:t],e},useContext:ps,useEffect:tS,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,sm(4194308,4,dk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sm(4194308,4,e,t)},useInsertionEffect:function(e,t){return sm(4,2,e,t)},useMemo:function(e,t){var r=Gs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Gs();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=zL.bind(null,hr,e),[s.memoizedState,e]},useRef:function(e){var t=Gs();return e={current:e},t.memoizedState=e},useState:eS,useDebugValue:aw,useDeferredValue:function(e){return Gs().memoizedState=e},useTransition:function(){var e=eS(!1),t=e[0];return e=UL.bind(null,e[1]),Gs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=hr,a=Gs();if(or){if(r===void 0)throw Error(Re(407));r=r()}else{if(r=t(),Wr===null)throw Error(Re(349));Fo&30||rk(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,tS(sk.bind(null,s,i,e),[e]),s.flags|=2048,Lu(9,nk.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Gs(),t=Wr.identifierPrefix;if(or){var r=Oa,s=Ea;r=(s&~(1<<32-Ms(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Du++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=BL++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HL={readContext:ps,useCallback:fk,useContext:ps,useEffect:sw,useImperativeHandle:uk,useInsertionEffect:lk,useLayoutEffect:ck,useMemo:hk,useReducer:pv,useRef:ok,useState:function(){return pv($u)},useDebugValue:aw,useDeferredValue:function(e){var t=xs();return mk(t,Rr.memoizedState,e)},useTransition:function(){var e=pv($u)[0],t=xs().memoizedState;return[e,t]},useMutableSource:ek,useSyncExternalStore:tk,useId:pk,unstable_isNewReconciler:!1},WL={readContext:ps,useCallback:fk,useContext:ps,useEffect:sw,useImperativeHandle:uk,useInsertionEffect:lk,useLayoutEffect:ck,useMemo:hk,useReducer:xv,useRef:ok,useState:function(){return xv($u)},useDebugValue:aw,useDeferredValue:function(e){var t=xs();return Rr===null?t.memoizedState=e:mk(t,Rr.memoizedState,e)},useTransition:function(){var e=xv($u)[0],t=xs().memoizedState;return[e,t]},useMutableSource:ek,useSyncExternalStore:tk,useId:pk,unstable_isNewReconciler:!1};function Ps(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Yy(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:mr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hx={isMounted:function(e){return(e=e._reactInternals)?tl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=bn(),a=Ri(e),i=Ma(s,a);i.payload=t,r!=null&&(i.callback=r),t=Ii(e,i,a),t!==null&&(Ds(t,e,a,s),rm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=bn(),a=Ri(e),i=Ma(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ii(e,i,a),t!==null&&(Ds(t,e,a,s),rm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bn(),s=Ri(e),a=Ma(r,s);a.tag=2,t!=null&&(a.callback=t),t=Ii(e,a,s),t!==null&&(Ds(t,e,s,r),rm(t,e,s))}};function rS(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!ku(r,s)||!ku(a,i):!0}function yk(e,t,r){var s=!1,a=Ui,i=t.contextType;return typeof i=="object"&&i!==null?i=ps(i):(a=In(t)?$o:un.current,s=t.contextTypes,i=(s=s!=null)?gc(e,a):Ui),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hx,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function nS(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&hx.enqueueReplaceState(t,t.state,null)}function Xy(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Qj(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ps(i):(i=In(t)?$o:un.current,a.context=gc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Yy(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&hx.enqueueReplaceState(a,a.state,null),Im(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function jc(e,t){try{var r="",s=t;do r+=b5(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function gv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Qy(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var KL=typeof WeakMap=="function"?WeakMap:Map;function bk(e,t,r){r=Ma(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){$m||($m=!0,o0=s),Qy(e,t)},r}function jk(e,t,r){r=Ma(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Qy(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Qy(e,t),typeof s!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function sS(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new KL;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=o6.bind(null,e,t,r),t.then(e,e))}function aS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iS(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ma(-1,1),t.tag=2,Ii(r,t,1))),r.lanes|=1),e)}var GL=Za.ReactCurrentOwner,On=!1;function pn(e,t,r,s){t.child=e===null?XO(t,null,r,s):yc(t,e.child,r,s)}function oS(e,t,r,s,a){r=r.render;var i=t.ref;return Ql(t,a),s=rw(e,t,r,s,i,a),r=nw(),e!==null&&!On?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qa(e,t,a)):(or&&r&&qj(t),t.flags|=1,pn(e,t,s,a),t.child)}function lS(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!hw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,wk(e,t,i,s,a)):(e=lm(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ku,r(o,s)&&e.ref===t.ref)return qa(e,t,a)}return t.flags|=1,e=Mi(i,s),e.ref=t.ref,e.return=t,t.child=e}function wk(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(ku(i,s)&&e.ref===t.ref)if(On=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(On=!0);else return t.lanes=e.lanes,qa(e,t,a)}return Jy(e,t,r,s,a)}function Nk(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Bl,Un),Un|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt(Bl,Un),Un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Xt(Bl,Un),Un|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Xt(Bl,Un),Un|=s;return pn(e,t,a,r),t.child}function Sk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Jy(e,t,r,s,a){var i=In(r)?$o:un.current;return i=gc(t,i),Ql(t,a),r=rw(e,t,r,s,i,a),s=nw(),e!==null&&!On?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qa(e,t,a)):(or&&s&&qj(t),t.flags|=1,pn(e,t,r,a),t.child)}function cS(e,t,r,s,a){if(In(r)){var i=!0;Am(t)}else i=!1;if(Ql(t,a),t.stateNode===null)am(e,t),yk(t,r,s),Xy(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ps(d):(d=In(r)?$o:un.current,d=gc(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&nS(t,o,s,d),hi=!1;var h=t.memoizedState;o.state=h,Im(t,s,o,a),c=t.memoizedState,l!==s||h!==c||Tn.current||hi?(typeof u=="function"&&(Yy(t,r,u,s),c=t.memoizedState),(l=hi||rS(t,r,l,s,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,JO(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Ps(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ps(c):(c=In(r)?$o:un.current,c=gc(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&nS(t,o,s,c),hi=!1,h=t.memoizedState,o.state=h,Im(t,s,o,a);var b=t.memoizedState;l!==f||h!==b||Tn.current||hi?(typeof p=="function"&&(Yy(t,r,p,s),b=t.memoizedState),(d=hi||rS(t,r,d,s,h,b,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),o.props=s,o.state=b,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Zy(e,t,r,s,i,a)}function Zy(e,t,r,s,a,i){Sk(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&G1(t,r,!1),qa(e,t,i);s=t.stateNode,GL.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=yc(t,e.child,null,i),t.child=yc(t,null,l,i)):pn(e,t,l,i),t.memoizedState=s.state,a&&G1(t,r,!0),t.child}function Pk(e){var t=e.stateNode;t.pendingContext?K1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&K1(e,t.context,!1),Jj(e,t.containerInfo)}function dS(e,t,r,s,a){return vc(),Wj(a),t.flags|=256,pn(e,t,r,s),t.child}var e0={dehydrated:null,treeContext:null,retryLane:0};function t0(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ck(e,t,r){var s=t.pendingProps,a=dr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Xt(dr,a&1),e===null)return Ky(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xx(o,s,0,null),e=Io(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=t0(r),t.memoizedState=e0,e):iw(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return YL(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Mi(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Mi(l,i):(i=Io(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?t0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=e0,s}return i=e.child,e=i.sibling,s=Mi(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function iw(e,t){return t=xx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nh(e,t,r,s){return s!==null&&Wj(s),yc(t,e.child,null,r),e=iw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YL(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=gv(Error(Re(422))),Nh(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=xx({mode:"visible",children:s.children},a,0,null),i=Io(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&yc(t,e.child,null,o),t.child.memoizedState=t0(o),t.memoizedState=e0,i);if(!(t.mode&1))return Nh(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Re(419)),s=gv(i,s,void 0),Nh(e,t,o,s)}if(l=(o&e.childLanes)!==0,On||l){if(s=Wr,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Va(e,a),Ds(s,e,a,-1))}return fw(),s=gv(Error(Re(421))),Nh(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=l6.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Hn=Ti(a.nextSibling),Wn=t,or=!0,Is=null,e!==null&&(is[os++]=Ea,is[os++]=Oa,is[os++]=Lo,Ea=e.id,Oa=e.overflow,Lo=t),t=iw(t,s.children),t.flags|=4096,t)}function uS(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Gy(e.return,t,r)}function vv(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function Ak(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(pn(e,t,s.children,r),s=dr.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uS(e,r,t);else if(e.tag===19)uS(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Xt(dr,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&_m(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),vv(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&_m(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}vv(t,!0,r,null,i);break;case"together":vv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function am(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Re(153));if(t.child!==null){for(e=t.child,r=Mi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function XL(e,t,r){switch(t.tag){case 3:Pk(t),vc();break;case 5:ZO(t);break;case 1:In(t.type)&&Am(t);break;case 4:Jj(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Xt(km,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Xt(dr,dr.current&1),t.flags|=128,null):r&t.child.childLanes?Ck(e,t,r):(Xt(dr,dr.current&1),e=qa(e,t,r),e!==null?e.sibling:null);Xt(dr,dr.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Ak(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Xt(dr,dr.current),s)break;return null;case 22:case 23:return t.lanes=0,Nk(e,t,r)}return qa(e,t,r)}var Ek,r0,Ok,kk;Ek=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};r0=function(){};Ok=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,yo(ia.current);var i=null;switch(r){case"input":a=Sy(e,a),s=Sy(e,s),i=[];break;case"select":a=mr({},a,{value:void 0}),s=mr({},s,{value:void 0}),i=[];break;case"textarea":a=Ay(e,a),s=Ay(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Pm)}Oy(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Nu.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Nu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&er("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};kk=function(e,t,r,s){r!==s&&(t.flags|=4)};function Md(e,t){if(!or)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function an(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function QL(e,t,r){var s=t.pendingProps;switch(Hj(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(t),null;case 1:return In(t.type)&&Cm(),an(t),null;case 3:return s=t.stateNode,bc(),sr(Tn),sr(un),ew(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(jh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Is!==null&&(d0(Is),Is=null))),r0(e,t),an(t),null;case 5:Zj(t);var a=yo(Mu.current);if(r=t.type,e!==null&&t.stateNode!=null)Ok(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Re(166));return an(t),null}if(e=yo(ia.current),jh(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Zs]=t,s[_u]=i,e=(t.mode&1)!==0,r){case"dialog":er("cancel",s),er("close",s);break;case"iframe":case"object":case"embed":er("load",s);break;case"video":case"audio":for(a=0;a<eu.length;a++)er(eu[a],s);break;case"source":er("error",s);break;case"img":case"image":case"link":er("error",s),er("load",s);break;case"details":er("toggle",s);break;case"input":b1(s,i),er("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},er("invalid",s);break;case"textarea":w1(s,i),er("invalid",s)}Oy(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&bh(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&bh(s.textContent,l,e),a=["children",""+l]):Nu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&er("scroll",s)}switch(r){case"input":fh(s),j1(s,i,!0);break;case"textarea":fh(s),N1(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Pm)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sO(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Zs]=t,e[_u]=s,Ek(e,t,!1,!1),t.stateNode=e;e:{switch(o=ky(r,s),r){case"dialog":er("cancel",e),er("close",e),a=s;break;case"iframe":case"object":case"embed":er("load",e),a=s;break;case"video":case"audio":for(a=0;a<eu.length;a++)er(eu[a],e);a=s;break;case"source":er("error",e),a=s;break;case"img":case"image":case"link":er("error",e),er("load",e),a=s;break;case"details":er("toggle",e),a=s;break;case"input":b1(e,s),a=Sy(e,s),er("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=mr({},s,{value:void 0}),er("invalid",e);break;case"textarea":w1(e,s),a=Ay(e,s),er("invalid",e);break;default:a=s}Oy(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?oO(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&aO(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Su(e,c):typeof c=="number"&&Su(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Nu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&er("scroll",e):c!=null&&kj(e,i,c,o))}switch(r){case"input":fh(e),j1(e,s,!1);break;case"textarea":fh(e),N1(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Bi(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Kl(e,!!s.multiple,i,!1):s.defaultValue!=null&&Kl(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Pm)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return an(t),null;case 6:if(e&&t.stateNode!=null)kk(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Re(166));if(r=yo(Mu.current),yo(ia.current),jh(t)){if(s=t.stateNode,r=t.memoizedProps,s[Zs]=t,(i=s.nodeValue!==r)&&(e=Wn,e!==null))switch(e.tag){case 3:bh(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bh(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Zs]=t,t.stateNode=s}return an(t),null;case 13:if(sr(dr),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(or&&Hn!==null&&t.mode&1&&!(t.flags&128))GO(),vc(),t.flags|=98560,i=!1;else if(i=jh(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Re(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Re(317));i[Zs]=t}else vc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;an(t),i=!1}else Is!==null&&(d0(Is),Is=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||dr.current&1?Dr===0&&(Dr=3):fw())),t.updateQueue!==null&&(t.flags|=4),an(t),null);case 4:return bc(),r0(e,t),e===null&&Tu(t.stateNode.containerInfo),an(t),null;case 10:return Yj(t.type._context),an(t),null;case 17:return In(t.type)&&Cm(),an(t),null;case 19:if(sr(dr),i=t.memoizedState,i===null)return an(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Md(i,!1);else{if(Dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_m(e),o!==null){for(t.flags|=128,Md(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xt(dr,dr.current&1|2),t.child}e=e.sibling}i.tail!==null&&jr()>wc&&(t.flags|=128,s=!0,Md(i,!1),t.lanes=4194304)}else{if(!s)if(e=_m(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Md(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!or)return an(t),null}else 2*jr()-i.renderingStartTime>wc&&r!==1073741824&&(t.flags|=128,s=!0,Md(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jr(),t.sibling=null,r=dr.current,Xt(dr,s?r&1|2:r&1),t):(an(t),null);case 22:case 23:return uw(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Un&1073741824&&(an(t),t.subtreeFlags&6&&(t.flags|=8192)):an(t),null;case 24:return null;case 25:return null}throw Error(Re(156,t.tag))}function JL(e,t){switch(Hj(t),t.tag){case 1:return In(t.type)&&Cm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bc(),sr(Tn),sr(un),ew(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zj(t),null;case 13:if(sr(dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Re(340));vc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sr(dr),null;case 4:return bc(),null;case 10:return Yj(t.type._context),null;case 22:case 23:return uw(),null;case 24:return null;default:return null}}var Sh=!1,cn=!1,ZL=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Fl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){gr(e,t,s)}else r.current=null}function n0(e,t,r){try{r()}catch(s){gr(e,t,s)}}var fS=!1;function e6(e,t){if(By=wm,e=MO(),Vj(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===s&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uy={focusedElem:e,selectionRange:r},wm=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,g=b.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ps(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(S){gr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return b=fS,fS=!1,b}function uu(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&n0(t,r,i)}a=a.next}while(a!==s)}}function mx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function s0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Tk(e){var t=e.alternate;t!==null&&(e.alternate=null,Tk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zs],delete t[_u],delete t[qy],delete t[DL],delete t[$L])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ik(e){return e.tag===5||e.tag===3||e.tag===4}function hS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ik(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function a0(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pm));else if(s!==4&&(e=e.child,e!==null))for(a0(e,t,r),e=e.sibling;e!==null;)a0(e,t,r),e=e.sibling}function i0(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(i0(e,t,r),e=e.sibling;e!==null;)i0(e,t,r),e=e.sibling}var Qr=null,Os=!1;function ai(e,t,r){for(r=r.child;r!==null;)_k(e,t,r),r=r.sibling}function _k(e,t,r){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(ix,r)}catch{}switch(r.tag){case 5:cn||Fl(r,t);case 6:var s=Qr,a=Os;Qr=null,ai(e,t,r),Qr=s,Os=a,Qr!==null&&(Os?(e=Qr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qr.removeChild(r.stateNode));break;case 18:Qr!==null&&(Os?(e=Qr,r=r.stateNode,e.nodeType===8?uv(e.parentNode,r):e.nodeType===1&&uv(e,r),Eu(e)):uv(Qr,r.stateNode));break;case 4:s=Qr,a=Os,Qr=r.stateNode.containerInfo,Os=!0,ai(e,t,r),Qr=s,Os=a;break;case 0:case 11:case 14:case 15:if(!cn&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&n0(r,t,o),a=a.next}while(a!==s)}ai(e,t,r);break;case 1:if(!cn&&(Fl(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){gr(r,t,l)}ai(e,t,r);break;case 21:ai(e,t,r);break;case 22:r.mode&1?(cn=(s=cn)||r.memoizedState!==null,ai(e,t,r),cn=s):ai(e,t,r);break;default:ai(e,t,r)}}function mS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ZL),t.forEach(function(s){var a=c6.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function js(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Qr=l.stateNode,Os=!1;break e;case 3:Qr=l.stateNode.containerInfo,Os=!0;break e;case 4:Qr=l.stateNode.containerInfo,Os=!0;break e}l=l.return}if(Qr===null)throw Error(Re(160));_k(i,o,a),Qr=null,Os=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){gr(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rk(t,e),t=t.sibling}function Rk(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(js(t,e),Ks(e),s&4){try{uu(3,e,e.return),mx(3,e)}catch(x){gr(e,e.return,x)}try{uu(5,e,e.return)}catch(x){gr(e,e.return,x)}}break;case 1:js(t,e),Ks(e),s&512&&r!==null&&Fl(r,r.return);break;case 5:if(js(t,e),Ks(e),s&512&&r!==null&&Fl(r,r.return),e.flags&32){var a=e.stateNode;try{Su(a,"")}catch(x){gr(e,e.return,x)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&rO(a,i),ky(l,o);var d=ky(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?oO(a,f):u==="dangerouslySetInnerHTML"?aO(a,f):u==="children"?Su(a,f):kj(a,u,f,d)}switch(l){case"input":Py(a,i);break;case"textarea":nO(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Kl(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Kl(a,!!i.multiple,i.defaultValue,!0):Kl(a,!!i.multiple,i.multiple?[]:"",!1))}a[_u]=i}catch(x){gr(e,e.return,x)}}break;case 6:if(js(t,e),Ks(e),s&4){if(e.stateNode===null)throw Error(Re(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){gr(e,e.return,x)}}break;case 3:if(js(t,e),Ks(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Eu(t.containerInfo)}catch(x){gr(e,e.return,x)}break;case 4:js(t,e),Ks(e);break;case 13:js(t,e),Ks(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(cw=jr())),s&4&&mS(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(cn=(d=cn)||u,js(t,e),cn=d):js(t,e),Ks(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Ke=e,u=e.child;u!==null;){for(f=Ke=u;Ke!==null;){switch(h=Ke,p=h.child,h.tag){case 0:case 11:case 14:case 15:uu(4,h,h.return);break;case 1:Fl(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){s=h,r=h.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){gr(s,r,x)}}break;case 5:Fl(h,h.return);break;case 22:if(h.memoizedState!==null){xS(f);continue}}p!==null?(p.return=h,Ke=p):xS(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=iO("display",o))}catch(x){gr(e,e.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){gr(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:js(t,e),Ks(e),s&4&&mS(e);break;case 21:break;default:js(t,e),Ks(e)}}function Ks(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ik(r)){var s=r;break e}r=r.return}throw Error(Re(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Su(a,""),s.flags&=-33);var i=hS(e);i0(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=hS(e);a0(e,l,o);break;default:throw Error(Re(161))}}catch(c){gr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function t6(e,t,r){Ke=e,Mk(e)}function Mk(e,t,r){for(var s=(e.mode&1)!==0;Ke!==null;){var a=Ke,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Sh;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||cn;l=Sh;var d=cn;if(Sh=o,(cn=c)&&!d)for(Ke=a;Ke!==null;)o=Ke,c=o.child,o.tag===22&&o.memoizedState!==null?gS(a):c!==null?(c.return=o,Ke=c):gS(a);for(;i!==null;)Ke=i,Mk(i),i=i.sibling;Ke=a,Sh=l,cn=d}pS(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ke=i):pS(e)}}function pS(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cn||mx(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!cn)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ps(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Z1(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Z1(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Eu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}cn||t.flags&512&&s0(t)}catch(h){gr(t,t.return,h)}}if(t===e){Ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function xS(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function gS(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mx(4,t)}catch(c){gr(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){gr(t,a,c)}}var i=t.return;try{s0(t)}catch(c){gr(t,i,c)}break;case 5:var o=t.return;try{s0(t)}catch(c){gr(t,o,c)}}}catch(c){gr(t,t.return,c)}if(t===e){Ke=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ke=l;break}Ke=t.return}}var r6=Math.ceil,Dm=Za.ReactCurrentDispatcher,ow=Za.ReactCurrentOwner,fs=Za.ReactCurrentBatchConfig,At=0,Wr=null,Er=null,en=0,Un=0,Bl=Ki(0),Dr=0,Fu=null,Bo=0,px=0,lw=0,fu=null,An=null,cw=0,wc=1/0,Sa=null,$m=!1,o0=null,_i=null,Ph=!1,Si=null,Lm=0,hu=0,l0=null,im=-1,om=0;function bn(){return At&6?jr():im!==-1?im:im=jr()}function Ri(e){return e.mode&1?At&2&&en!==0?en&-en:FL.transition!==null?(om===0&&(om=yO()),om):(e=Ut,e!==0||(e=window.event,e=e===void 0?16:CO(e.type)),e):1}function Ds(e,t,r,s){if(50<hu)throw hu=0,l0=null,Error(Re(185));Mf(e,r,s),(!(At&2)||e!==Wr)&&(e===Wr&&(!(At&2)&&(px|=r),Dr===4&&xi(e,en)),_n(e,s),r===1&&At===0&&!(t.mode&1)&&(wc=jr()+500,ux&&Gi()))}function _n(e,t){var r=e.callbackNode;F5(e,t);var s=jm(e,e===Wr?en:0);if(s===0)r!==null&&C1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&C1(r),t===1)e.tag===0?LL(vS.bind(null,e)):HO(vS.bind(null,e)),RL(function(){!(At&6)&&Gi()}),r=null;else{switch(bO(s)){case 1:r=Mj;break;case 4:r=gO;break;case 16:r=bm;break;case 536870912:r=vO;break;default:r=bm}r=Vk(r,Dk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Dk(e,t){if(im=-1,om=0,At&6)throw Error(Re(327));var r=e.callbackNode;if(Jl()&&e.callbackNode!==r)return null;var s=jm(e,e===Wr?en:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Fm(e,s);else{t=s;var a=At;At|=2;var i=Lk();(Wr!==e||en!==t)&&(Sa=null,wc=jr()+500,To(e,t));do try{a6();break}catch(l){$k(e,l)}while(!0);Gj(),Dm.current=i,At=a,Er!==null?t=0:(Wr=null,en=0,t=Dr)}if(t!==0){if(t===2&&(a=My(e),a!==0&&(s=a,t=c0(e,a))),t===1)throw r=Fu,To(e,0),xi(e,s),_n(e,jr()),r;if(t===6)xi(e,s);else{if(a=e.current.alternate,!(s&30)&&!n6(a)&&(t=Fm(e,s),t===2&&(i=My(e),i!==0&&(s=i,t=c0(e,i))),t===1))throw r=Fu,To(e,0),xi(e,s),_n(e,jr()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Re(345));case 2:uo(e,An,Sa);break;case 3:if(xi(e,s),(s&130023424)===s&&(t=cw+500-jr(),10<t)){if(jm(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){bn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Vy(uo.bind(null,e,An,Sa),t);break}uo(e,An,Sa);break;case 4:if(xi(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Ms(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=jr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*r6(s/1960))-s,10<s){e.timeoutHandle=Vy(uo.bind(null,e,An,Sa),s);break}uo(e,An,Sa);break;case 5:uo(e,An,Sa);break;default:throw Error(Re(329))}}}return _n(e,jr()),e.callbackNode===r?Dk.bind(null,e):null}function c0(e,t){var r=fu;return e.current.memoizedState.isDehydrated&&(To(e,t).flags|=256),e=Fm(e,t),e!==2&&(t=An,An=r,t!==null&&d0(t)),e}function d0(e){An===null?An=e:An.push.apply(An,e)}function n6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Bs(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xi(e,t){for(t&=~lw,t&=~px,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ms(t),s=1<<r;e[r]=-1,t&=~s}}function vS(e){if(At&6)throw Error(Re(327));Jl();var t=jm(e,0);if(!(t&1))return _n(e,jr()),null;var r=Fm(e,t);if(e.tag!==0&&r===2){var s=My(e);s!==0&&(t=s,r=c0(e,s))}if(r===1)throw r=Fu,To(e,0),xi(e,t),_n(e,jr()),r;if(r===6)throw Error(Re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uo(e,An,Sa),_n(e,jr()),null}function dw(e,t){var r=At;At|=1;try{return e(t)}finally{At=r,At===0&&(wc=jr()+500,ux&&Gi())}}function Uo(e){Si!==null&&Si.tag===0&&!(At&6)&&Jl();var t=At;At|=1;var r=fs.transition,s=Ut;try{if(fs.transition=null,Ut=1,e)return e()}finally{Ut=s,fs.transition=r,At=t,!(At&6)&&Gi()}}function uw(){Un=Bl.current,sr(Bl)}function To(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_L(r)),Er!==null)for(r=Er.return;r!==null;){var s=r;switch(Hj(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Cm();break;case 3:bc(),sr(Tn),sr(un),ew();break;case 5:Zj(s);break;case 4:bc();break;case 13:sr(dr);break;case 19:sr(dr);break;case 10:Yj(s.type._context);break;case 22:case 23:uw()}r=r.return}if(Wr=e,Er=e=Mi(e.current,null),en=Un=t,Dr=0,Fu=null,lw=px=Bo=0,An=fu=null,vo!==null){for(t=0;t<vo.length;t++)if(r=vo[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}vo=null}return e}function $k(e,t){do{var r=Er;try{if(Gj(),nm.current=Mm,Rm){for(var s=hr.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Rm=!1}if(Fo=0,Ur=Rr=hr=null,du=!1,Du=0,ow.current=null,r===null||r.return===null){Dr=1,Fu=t,Er=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=en,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=aS(o);if(p!==null){p.flags&=-257,iS(p,o,l,i,t),p.mode&1&&sS(i,d,t),t=p,c=d;var b=t.updateQueue;if(b===null){var x=new Set;x.add(c),t.updateQueue=x}else b.add(c);break e}else{if(!(t&1)){sS(i,d,t),fw();break e}c=Error(Re(426))}}else if(or&&l.mode&1){var g=aS(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),iS(g,o,l,i,t),Wj(jc(c,l));break e}}i=c=jc(c,l),Dr!==4&&(Dr=2),fu===null?fu=[i]:fu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=bk(i,c,t);J1(i,y);break e;case 1:l=c;var v=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(_i===null||!_i.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=jk(i,l,t);J1(i,S);break e}}i=i.return}while(i!==null)}Bk(r)}catch(w){t=w,Er===r&&r!==null&&(Er=r=r.return);continue}break}while(!0)}function Lk(){var e=Dm.current;return Dm.current=Mm,e===null?Mm:e}function fw(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Wr===null||!(Bo&268435455)&&!(px&268435455)||xi(Wr,en)}function Fm(e,t){var r=At;At|=2;var s=Lk();(Wr!==e||en!==t)&&(Sa=null,To(e,t));do try{s6();break}catch(a){$k(e,a)}while(!0);if(Gj(),At=r,Dm.current=s,Er!==null)throw Error(Re(261));return Wr=null,en=0,Dr}function s6(){for(;Er!==null;)Fk(Er)}function a6(){for(;Er!==null&&!k5();)Fk(Er)}function Fk(e){var t=zk(e.alternate,e,Un);e.memoizedProps=e.pendingProps,t===null?Bk(e):Er=t,ow.current=null}function Bk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=JL(r,t),r!==null){r.flags&=32767,Er=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dr=6,Er=null;return}}else if(r=QL(r,t,Un),r!==null){Er=r;return}if(t=t.sibling,t!==null){Er=t;return}Er=t=e}while(t!==null);Dr===0&&(Dr=5)}function uo(e,t,r){var s=Ut,a=fs.transition;try{fs.transition=null,Ut=1,i6(e,t,r,s)}finally{fs.transition=a,Ut=s}return null}function i6(e,t,r,s){do Jl();while(Si!==null);if(At&6)throw Error(Re(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Re(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(B5(e,i),e===Wr&&(Er=Wr=null,en=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ph||(Ph=!0,Vk(bm,function(){return Jl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=fs.transition,fs.transition=null;var o=Ut;Ut=1;var l=At;At|=4,ow.current=null,e6(e,r),Rk(r,e),CL(Uy),wm=!!By,Uy=By=null,e.current=r,t6(r),T5(),At=l,Ut=o,fs.transition=i}else e.current=r;if(Ph&&(Ph=!1,Si=e,Lm=a),i=e.pendingLanes,i===0&&(_i=null),R5(r.stateNode),_n(e,jr()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if($m)throw $m=!1,e=o0,o0=null,e;return Lm&1&&e.tag!==0&&Jl(),i=e.pendingLanes,i&1?e===l0?hu++:(hu=0,l0=e):hu=0,Gi(),null}function Jl(){if(Si!==null){var e=bO(Lm),t=fs.transition,r=Ut;try{if(fs.transition=null,Ut=16>e?16:e,Si===null)var s=!1;else{if(e=Si,Si=null,Lm=0,At&6)throw Error(Re(331));var a=At;for(At|=4,Ke=e.current;Ke!==null;){var i=Ke,o=i.child;if(Ke.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ke=d;Ke!==null;){var u=Ke;switch(u.tag){case 0:case 11:case 15:uu(8,u,i)}var f=u.child;if(f!==null)f.return=u,Ke=f;else for(;Ke!==null;){u=Ke;var h=u.sibling,p=u.return;if(Tk(u),u===d){Ke=null;break}if(h!==null){h.return=p,Ke=h;break}Ke=p}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(x!==null)}}Ke=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ke=o;else e:for(;Ke!==null;){if(i=Ke,i.flags&2048)switch(i.tag){case 0:case 11:case 15:uu(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ke=y;break e}Ke=i.return}}var v=e.current;for(Ke=v;Ke!==null;){o=Ke;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Ke=j;else e:for(o=v;Ke!==null;){if(l=Ke,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mx(9,l)}}catch(w){gr(l,l.return,w)}if(l===o){Ke=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Ke=S;break e}Ke=l.return}}if(At=a,Gi(),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(ix,e)}catch{}s=!0}return s}finally{Ut=r,fs.transition=t}}return!1}function yS(e,t,r){t=jc(r,t),t=bk(e,t,1),e=Ii(e,t,1),t=bn(),e!==null&&(Mf(e,1,t),_n(e,t))}function gr(e,t,r){if(e.tag===3)yS(e,e,r);else for(;t!==null;){if(t.tag===3){yS(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(_i===null||!_i.has(s))){e=jc(r,e),e=jk(t,e,1),t=Ii(t,e,1),e=bn(),t!==null&&(Mf(t,1,e),_n(t,e));break}}t=t.return}}function o6(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=bn(),e.pingedLanes|=e.suspendedLanes&r,Wr===e&&(en&r)===r&&(Dr===4||Dr===3&&(en&130023424)===en&&500>jr()-cw?To(e,0):lw|=r),_n(e,t)}function Uk(e,t){t===0&&(e.mode&1?(t=ph,ph<<=1,!(ph&130023424)&&(ph=4194304)):t=1);var r=bn();e=Va(e,t),e!==null&&(Mf(e,t,r),_n(e,r))}function l6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Uk(e,r)}function c6(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Re(314))}s!==null&&s.delete(t),Uk(e,r)}var zk;zk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tn.current)On=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return On=!1,XL(e,t,r);On=!!(e.flags&131072)}else On=!1,or&&t.flags&1048576&&WO(t,Om,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;am(e,t),e=t.pendingProps;var a=gc(t,un.current);Ql(t,r),a=rw(null,t,s,e,a,r);var i=nw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(s)?(i=!0,Am(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Qj(t),a.updater=hx,t.stateNode=a,a._reactInternals=t,Xy(t,s,e,r),t=Zy(null,t,s,!0,i,r)):(t.tag=0,or&&i&&qj(t),pn(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(am(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=u6(s),e=Ps(s,e),a){case 0:t=Jy(null,t,s,e,r);break e;case 1:t=cS(null,t,s,e,r);break e;case 11:t=oS(null,t,s,e,r);break e;case 14:t=lS(null,t,s,Ps(s.type,e),r);break e}throw Error(Re(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ps(s,a),Jy(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ps(s,a),cS(e,t,s,a,r);case 3:e:{if(Pk(t),e===null)throw Error(Re(387));s=t.pendingProps,i=t.memoizedState,a=i.element,JO(e,t),Im(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=jc(Error(Re(423)),t),t=dS(e,t,s,r,a);break e}else if(s!==a){a=jc(Error(Re(424)),t),t=dS(e,t,s,r,a);break e}else for(Hn=Ti(t.stateNode.containerInfo.firstChild),Wn=t,or=!0,Is=null,r=XO(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vc(),s===a){t=qa(e,t,r);break e}pn(e,t,s,r)}t=t.child}return t;case 5:return ZO(t),e===null&&Ky(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,zy(s,a)?o=null:i!==null&&zy(s,i)&&(t.flags|=32),Sk(e,t),pn(e,t,o,r),t.child;case 6:return e===null&&Ky(t),null;case 13:return Ck(e,t,r);case 4:return Jj(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=yc(t,null,s,r):pn(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ps(s,a),oS(e,t,s,a,r);case 7:return pn(e,t,t.pendingProps,r),t.child;case 8:return pn(e,t,t.pendingProps.children,r),t.child;case 12:return pn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Xt(km,s._currentValue),s._currentValue=o,i!==null)if(Bs(i.value,o)){if(i.children===a.children&&!Tn.current){t=qa(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Ma(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Gy(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Re(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Gy(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Ql(t,r),a=ps(a),s=s(a),t.flags|=1,pn(e,t,s,r),t.child;case 14:return s=t.type,a=Ps(s,t.pendingProps),a=Ps(s.type,a),lS(e,t,s,a,r);case 15:return wk(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Ps(s,a),am(e,t),t.tag=1,In(s)?(e=!0,Am(t)):e=!1,Ql(t,r),yk(t,s,a),Xy(t,s,a,r),Zy(null,t,s,!0,e,r);case 19:return Ak(e,t,r);case 22:return Nk(e,t,r)}throw Error(Re(156,t.tag))};function Vk(e,t){return xO(e,t)}function d6(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(e,t,r,s){return new d6(e,t,r,s)}function hw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u6(e){if(typeof e=="function")return hw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ij)return 11;if(e===_j)return 14}return 2}function Mi(e,t){var r=e.alternate;return r===null?(r=cs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function lm(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")hw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case kl:return Io(r.children,a,i,t);case Tj:o=8,a|=8;break;case by:return e=cs(12,r,t,a|2),e.elementType=by,e.lanes=i,e;case jy:return e=cs(13,r,t,a),e.elementType=jy,e.lanes=i,e;case wy:return e=cs(19,r,t,a),e.elementType=wy,e.lanes=i,e;case ZE:return xx(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case QE:o=10;break e;case JE:o=9;break e;case Ij:o=11;break e;case _j:o=14;break e;case fi:o=16,s=null;break e}throw Error(Re(130,e==null?e:typeof e,""))}return t=cs(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Io(e,t,r,s){return e=cs(7,e,s,t),e.lanes=r,e}function xx(e,t,r,s){return e=cs(22,e,s,t),e.elementType=ZE,e.lanes=r,e.stateNode={isHidden:!1},e}function yv(e,t,r){return e=cs(6,e,null,t),e.lanes=r,e}function bv(e,t,r){return t=cs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function f6(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ev(0),this.expirationTimes=ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ev(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mw(e,t,r,s,a,i,o,l,c){return e=new f6(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=cs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qj(i),e}function h6(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ol,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function qk(e){if(!e)return Ui;e=e._reactInternals;e:{if(tl(e)!==e||e.tag!==1)throw Error(Re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Re(171))}if(e.tag===1){var r=e.type;if(In(r))return qO(e,r,t)}return t}function Hk(e,t,r,s,a,i,o,l,c){return e=mw(r,s,!0,e,a,i,o,l,c),e.context=qk(null),r=e.current,s=bn(),a=Ri(r),i=Ma(s,a),i.callback=t??null,Ii(r,i,a),e.current.lanes=a,Mf(e,a,s),_n(e,s),e}function gx(e,t,r,s){var a=t.current,i=bn(),o=Ri(a);return r=qk(r),t.context===null?t.context=r:t.pendingContext=r,t=Ma(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ii(a,t,o),e!==null&&(Ds(e,a,o,i),rm(e,a,o)),o}function Bm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pw(e,t){bS(e,t),(e=e.alternate)&&bS(e,t)}function m6(){return null}var Wk=typeof reportError=="function"?reportError:function(e){console.error(e)};function xw(e){this._internalRoot=e}vx.prototype.render=xw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Re(409));gx(e,t,null,null)};vx.prototype.unmount=xw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uo(function(){gx(null,e,null,null)}),t[za]=null}};function vx(e){this._internalRoot=e}vx.prototype.unstable_scheduleHydration=function(e){if(e){var t=NO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<pi.length&&t!==0&&t<pi[r].priority;r++);pi.splice(r,0,e),r===0&&PO(e)}};function gw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jS(){}function p6(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Bm(o);i.call(d)}}var o=Hk(t,s,e,0,null,!1,!1,"",jS);return e._reactRootContainer=o,e[za]=o.current,Tu(e.nodeType===8?e.parentNode:e),Uo(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Bm(c);l.call(d)}}var c=mw(e,0,!1,null,null,!1,!1,"",jS);return e._reactRootContainer=c,e[za]=c.current,Tu(e.nodeType===8?e.parentNode:e),Uo(function(){gx(t,c,r,s)}),c}function bx(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Bm(o);l.call(c)}}gx(t,o,e,a)}else o=p6(r,t,e,a,s);return Bm(o)}jO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zd(t.pendingLanes);r!==0&&(Dj(t,r|1),_n(t,jr()),!(At&6)&&(wc=jr()+500,Gi()))}break;case 13:Uo(function(){var s=Va(e,1);if(s!==null){var a=bn();Ds(s,e,1,a)}}),pw(e,1)}};$j=function(e){if(e.tag===13){var t=Va(e,134217728);if(t!==null){var r=bn();Ds(t,e,134217728,r)}pw(e,134217728)}};wO=function(e){if(e.tag===13){var t=Ri(e),r=Va(e,t);if(r!==null){var s=bn();Ds(r,e,t,s)}pw(e,t)}};NO=function(){return Ut};SO=function(e,t){var r=Ut;try{return Ut=e,t()}finally{Ut=r}};Iy=function(e,t,r){switch(t){case"input":if(Py(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=dx(s);if(!a)throw Error(Re(90));tO(s),Py(s,a)}}}break;case"textarea":nO(e,r);break;case"select":t=r.value,t!=null&&Kl(e,!!r.multiple,t,!1)}};dO=dw;uO=Uo;var x6={usingClientEntryPoint:!1,Events:[$f,Rl,dx,lO,cO,dw]},Dd={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g6={bundleType:Dd.bundleType,version:Dd.version,rendererPackageName:Dd.rendererPackageName,rendererConfig:Dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Za.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mO(e),e===null?null:e.stateNode},findFiberByHostInstance:Dd.findFiberByHostInstance||m6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{ix=Ch.inject(g6),aa=Ch}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x6;Zn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gw(t))throw Error(Re(200));return h6(e,t,null,r)};Zn.createRoot=function(e,t){if(!gw(e))throw Error(Re(299));var r=!1,s="",a=Wk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=mw(e,1,!1,null,null,r,!1,s,a),e[za]=t.current,Tu(e.nodeType===8?e.parentNode:e),new xw(t)};Zn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Re(188)):(e=Object.keys(e).join(","),Error(Re(268,e)));return e=mO(t),e=e===null?null:e.stateNode,e};Zn.flushSync=function(e){return Uo(e)};Zn.hydrate=function(e,t,r){if(!yx(t))throw Error(Re(200));return bx(null,e,t,!0,r)};Zn.hydrateRoot=function(e,t,r){if(!gw(e))throw Error(Re(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=Wk;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Hk(t,null,e,1,r??null,a,!1,i,o),e[za]=t.current,Tu(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new vx(t)};Zn.render=function(e,t,r){if(!yx(t))throw Error(Re(200));return bx(null,e,t,!1,r)};Zn.unmountComponentAtNode=function(e){if(!yx(e))throw Error(Re(40));return e._reactRootContainer?(Uo(function(){bx(null,null,e,!1,function(){e._reactRootContainer=null,e[za]=null})}),!0):!1};Zn.unstable_batchedUpdates=dw;Zn.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!yx(r))throw Error(Re(200));if(e==null||e._reactInternals===void 0)throw Error(Re(38));return bx(e,t,r,!1,s)};Zn.version="18.3.1-next-f1338f8080-20240426";function Kk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kk)}catch(e){console.error(e)}}Kk(),KE.exports=Zn;var rl=KE.exports;const Gk=Lt(rl);var Yk,wS=rl;Yk=wS.createRoot,wS.hydrateRoot;const v6=1,y6=1e6;let jv=0;function b6(){return jv=(jv+1)%Number.MAX_SAFE_INTEGER,jv.toString()}const wv=new Map,NS=e=>{if(wv.has(e))return;const t=setTimeout(()=>{wv.delete(e),mu({type:"REMOVE_TOAST",toastId:e})},y6);wv.set(e,t)},j6=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,v6)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?NS(r):e.toasts.forEach(s=>{NS(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},cm=[];let dm={toasts:[]};function mu(e){dm=j6(dm,e),cm.forEach(t=>{t(dm)})}function w6({...e}){const t=b6(),r=a=>mu({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>mu({type:"DISMISS_TOAST",toastId:t});return mu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function nd(){const[e,t]=m.useState(dm);return m.useEffect(()=>(cm.push(t),()=>{const r=cm.indexOf(t);r>-1&&cm.splice(r,1)}),[e]),{...e,toast:w6,dismiss:r=>mu({type:"DISMISS_TOAST",toastId:r})}}function Fe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function SS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ha(...e){return t=>{let r=!1;const s=e.map(a=>{const i=SS(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():SS(e[a],null)}}}}function Ct(...e){return m.useCallback(Ha(...e),e)}function N6(e,t){const r=m.createContext(t),s=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function vs(e,t=[]){let r=[];function s(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const d=f=>{var y;const{scope:h,children:p,...b}=f,x=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,g=m.useMemo(()=>b,Object.values(b));return n.jsx(x.Provider,{value:g,children:p})};d.displayName=i+"Provider";function u(f,h){var x;const p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=m.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,S6(a,...t)]}function S6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function zi(e){const t=P6(e),r=m.forwardRef((s,a)=>{const{children:i,...o}=s,l=m.Children.toArray(i),c=l.find(A6);if(c){const d=c.props.children,u=l.map(f=>f===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:f);return n.jsx(t,{...o,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var sd=zi("Slot");function P6(e){const t=m.forwardRef((r,s)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const o=O6(a),l=E6(i,a.props);return a.type!==m.Fragment&&(l.ref=s?Ha(s,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xk=Symbol("radix.slottable");function C6(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Xk,t}function A6(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xk}function E6(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function O6(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function jx(e){const t=e+"CollectionProvider",[r,s]=vs(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:g,children:y}=x,v=F.useRef(null),j=F.useRef(new Map).current;return n.jsx(a,{scope:g,itemMap:j,collectionRef:v,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=zi(l),d=F.forwardRef((x,g)=>{const{scope:y,children:v}=x,j=i(l,y),S=Ct(g,j.collectionRef);return n.jsx(c,{ref:S,children:v})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",h=zi(u),p=F.forwardRef((x,g)=>{const{scope:y,children:v,...j}=x,S=F.useRef(null),w=Ct(g,S),N=i(u,y);return F.useEffect(()=>(N.itemMap.set(S,{ref:S,...j}),()=>void N.itemMap.delete(S))),n.jsx(h,{[f]:"",ref:w,children:v})});p.displayName=u;function b(x){const g=i(e+"CollectionConsumer",x);return F.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const j=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((N,P)=>j.indexOf(N.ref.current)-j.indexOf(P.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},b,s]}var k6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=k6.reduce((e,t)=>{const r=zi(`Primitive.${t}`),s=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function vw(e,t){e&&rl.flushSync(()=>e.dispatchEvent(t))}function Mn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function T6(e,t=globalThis==null?void 0:globalThis.document){const r=Mn(e);m.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var I6="DismissableLayer",u0="dismissableLayer.update",_6="dismissableLayer.pointerDownOutside",R6="dismissableLayer.focusOutside",PS,Qk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nl=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(Qk),[u,f]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),b=Ct(t,P=>f(P)),x=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(g),v=u?x.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,S=v>=y,w=D6(P=>{const C=P.target,k=[...d.branches].some(D=>D.contains(C));!S||k||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},h),N=$6(P=>{const C=P.target;[...d.branches].some(D=>D.contains(C))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},h);return T6(P=>{v===d.layers.size-1&&(s==null||s(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},h),m.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(PS=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),CS(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=PS)}},[u,h,r,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),CS())},[u,d]),m.useEffect(()=>{const P=()=>p({});return document.addEventListener(u0,P),()=>document.removeEventListener(u0,P)},[]),n.jsx(Qe.div,{...c,ref:b,style:{pointerEvents:j?S?"auto":"none":void 0,...e.style},onFocusCapture:Fe(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Fe(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Fe(e.onPointerDownCapture,w.onPointerDownCapture)})});nl.displayName=I6;var M6="DismissableLayerBranch",Jk=m.forwardRef((e,t)=>{const r=m.useContext(Qk),s=m.useRef(null),a=Ct(t,s);return m.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(Qe.div,{...e,ref:a})});Jk.displayName=M6;function D6(e,t=globalThis==null?void 0:globalThis.document){const r=Mn(e),s=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){Zk(_6,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function $6(e,t=globalThis==null?void 0:globalThis.document){const r=Mn(e),s=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!s.current&&Zk(R6,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function CS(){const e=new CustomEvent(u0);document.dispatchEvent(e)}function Zk(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?vw(a,i):a.dispatchEvent(i)}var L6=nl,F6=Jk,rn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},B6="Portal",ad=m.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=m.useState(!1);rn(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Gk.createPortal(n.jsx(Qe.div,{...s,ref:t}),o):null});ad.displayName=B6;function U6(e,t){return m.useReducer((r,s)=>t[r][s]??r,e)}var ts=e=>{const{present:t,children:r}=e,s=z6(t),a=typeof r=="function"?r({present:s.isPresent}):m.Children.only(r),i=Ct(s.ref,V6(a));return typeof r=="function"||s.isPresent?m.cloneElement(a,{ref:i}):null};ts.displayName="Presence";function z6(e){const[t,r]=m.useState(),s=m.useRef(null),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=U6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Ah(s.current);i.current=l==="mounted"?d:"none"},[l]),rn(()=>{const d=s.current,u=a.current;if(u!==e){const h=i.current,p=Ah(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),rn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const x=Ah(s.current).includes(p.animationName);if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(i.current=Ah(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{s.current=d?getComputedStyle(d):null,r(d)},[])}}function Ah(e){return(e==null?void 0:e.animationName)||"none"}function V6(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var q6=Aj[" useInsertionEffect ".trim().toString()]||rn;function ha({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=H6({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,s])}const d=m.useCallback(u=>{var f;if(l){const h=W6(u)?u(e):u;h!==e&&((f=o.current)==null||f.call(o,h))}else i(u)},[l,e,i,o]);return[c,d]}function H6({defaultProp:e,onChange:t}){const[r,s]=m.useState(e),a=m.useRef(r),i=m.useRef(t);return q6(()=>{i.current=t},[t]),m.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,s,i]}function W6(e){return typeof e=="function"}var eT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),K6="VisuallyHidden",wx=m.forwardRef((e,t)=>n.jsx(Qe.span,{...e,ref:t,style:{...eT,...e.style}}));wx.displayName=K6;var G6=wx,yw="ToastProvider",[bw,Y6,X6]=jx("Toast"),[tT,Kbe]=vs("Toast",[X6]),[Q6,Nx]=tT(yw),rT=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=m.useState(null),[d,u]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${yw}\`. Expected non-empty \`string\`.`),n.jsx(bw.Provider,{scope:t,children:n.jsx(Q6,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(p=>p+1),[]),onToastRemove:m.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};rT.displayName=yw;var nT="ToastViewport",J6=["F8"],f0="toast.viewportPause",h0="toast.viewportResume",sT=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=J6,label:a="Notifications ({hotkey})",...i}=e,o=Nx(nT,r),l=Y6(r),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),f=m.useRef(null),h=Ct(t,f,o.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;m.useEffect(()=>{const g=y=>{var j;s.length!==0&&s.every(S=>y[S]||y.code===S)&&((j=f.current)==null||j.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[s]),m.useEffect(()=>{const g=c.current,y=f.current;if(b&&g&&y){const v=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(f0);y.dispatchEvent(N),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(h0);y.dispatchEvent(N),o.isClosePausedRef.current=!1}},S=N=>{!g.contains(N.relatedTarget)&&j()},w=()=>{g.contains(document.activeElement)||j()};return g.addEventListener("focusin",v),g.addEventListener("focusout",S),g.addEventListener("pointermove",v),g.addEventListener("pointerleave",w),window.addEventListener("blur",v),window.addEventListener("focus",j),()=>{g.removeEventListener("focusin",v),g.removeEventListener("focusout",S),g.removeEventListener("pointermove",v),g.removeEventListener("pointerleave",w),window.removeEventListener("blur",v),window.removeEventListener("focus",j)}}},[b,o.isClosePausedRef]);const x=m.useCallback(({tabbingDirection:g})=>{const v=l().map(j=>{const S=j.ref.current,w=[S,...uF(S)];return g==="forwards"?w:w.reverse()});return(g==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const g=f.current;if(g){const y=v=>{var w,N,P;const j=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!j){const C=document.activeElement,k=v.shiftKey;if(v.target===g&&k){(w=d.current)==null||w.focus();return}const R=x({tabbingDirection:k?"backwards":"forwards"}),q=R.findIndex($=>$===C);Nv(R.slice(q+1))?v.preventDefault():k?(N=d.current)==null||N.focus():(P=u.current)==null||P.focus()}};return g.addEventListener("keydown",y),()=>g.removeEventListener("keydown",y)}},[l,x]),n.jsxs(F6,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&n.jsx(m0,{ref:d,onFocusFromOutsideViewport:()=>{const g=x({tabbingDirection:"forwards"});Nv(g)}}),n.jsx(bw.Slot,{scope:r,children:n.jsx(Qe.ol,{tabIndex:-1,...i,ref:h})}),b&&n.jsx(m0,{ref:u,onFocusFromOutsideViewport:()=>{const g=x({tabbingDirection:"backwards"});Nv(g)}})]})});sT.displayName=nT;var aT="ToastFocusProxy",m0=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=Nx(aT,r);return n.jsx(wx,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});m0.displayName=aT;var Ff="Toast",Z6="toast.swipeStart",eF="toast.swipeMove",tF="toast.swipeCancel",rF="toast.swipeEnd",iT=m.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=ha({prop:s,defaultProp:a??!0,onChange:i,caller:Ff});return n.jsx(ts,{present:r||l,children:n.jsx(aF,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Mn(e.onPause),onResume:Mn(e.onResume),onSwipeStart:Fe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Fe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});iT.displayName=Ff;var[nF,sF]=tT(Ff,{onClose(){}}),aF=m.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...b}=e,x=Nx(Ff,r),[g,y]=m.useState(null),v=Ct(t,$=>y($)),j=m.useRef(null),S=m.useRef(null),w=a||x.duration,N=m.useRef(0),P=m.useRef(w),C=m.useRef(0),{onToastAdd:k,onToastRemove:D}=x,T=Mn(()=>{var B;(g==null?void 0:g.contains(document.activeElement))&&((B=x.viewport)==null||B.focus()),o()}),R=m.useCallback($=>{!$||$===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout(T,$))},[T]);m.useEffect(()=>{const $=x.viewport;if($){const B=()=>{R(P.current),d==null||d()},I=()=>{const L=new Date().getTime()-N.current;P.current=P.current-L,window.clearTimeout(C.current),c==null||c()};return $.addEventListener(f0,I),$.addEventListener(h0,B),()=>{$.removeEventListener(f0,I),$.removeEventListener(h0,B)}}},[x.viewport,w,c,d,R]),m.useEffect(()=>{i&&!x.isClosePausedRef.current&&R(w)},[i,w,x.isClosePausedRef,R]),m.useEffect(()=>(k(),()=>D()),[k,D]);const q=m.useMemo(()=>g?hT(g):null,[g]);return x.viewport?n.jsxs(n.Fragment,{children:[q&&n.jsx(iF,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),n.jsx(nF,{scope:r,onClose:T,children:rl.createPortal(n.jsx(bw.ItemSlot,{scope:r,children:n.jsx(L6,{asChild:!0,onEscapeKeyDown:Fe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||T(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Fe(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Fe(e.onPointerDown,$=>{$.button===0&&(j.current={x:$.clientX,y:$.clientY})}),onPointerMove:Fe(e.onPointerMove,$=>{if(!j.current)return;const B=$.clientX-j.current.x,I=$.clientY-j.current.y,L=!!S.current,E=["left","right"].includes(x.swipeDirection),_=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,O=E?_(0,B):0,M=E?0:_(0,I),A=$.pointerType==="touch"?10:2,U={x:O,y:M},ee={originalEvent:$,delta:U};L?(S.current=U,Eh(eF,f,ee,{discrete:!1})):AS(U,x.swipeDirection,A)?(S.current=U,Eh(Z6,u,ee,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(B)>A||Math.abs(I)>A)&&(j.current=null)}),onPointerUp:Fe(e.onPointerUp,$=>{const B=S.current,I=$.target;if(I.hasPointerCapture($.pointerId)&&I.releasePointerCapture($.pointerId),S.current=null,j.current=null,B){const L=$.currentTarget,E={originalEvent:$,delta:B};AS(B,x.swipeDirection,x.swipeThreshold)?Eh(rF,p,E,{discrete:!0}):Eh(tF,h,E,{discrete:!0}),L.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),iF=e=>{const{__scopeToast:t,children:r,...s}=e,a=Nx(Ff,t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return cF(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(ad,{asChild:!0,children:n.jsx(wx,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},oF="ToastTitle",oT=m.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Qe.div,{...s,ref:t})});oT.displayName=oF;var lF="ToastDescription",lT=m.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Qe.div,{...s,ref:t})});lT.displayName=lF;var cT="ToastAction",dT=m.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(fT,{altText:r,asChild:!0,children:n.jsx(jw,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${cT}\`. Expected non-empty \`string\`.`),null)});dT.displayName=cT;var uT="ToastClose",jw=m.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=sF(uT,r);return n.jsx(fT,{asChild:!0,children:n.jsx(Qe.button,{type:"button",...s,ref:t,onClick:Fe(e.onClick,a.onClose)})})});jw.displayName=uT;var fT=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(Qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function hT(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),dF(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...hT(s))}}),t}function Eh(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?vw(a,i):a.dispatchEvent(i)}var AS=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function cF(e=()=>{}){const t=Mn(e);rn(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function dF(e){return e.nodeType===e.ELEMENT_NODE}function uF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Nv(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var fF=rT,mT=sT,pT=iT,xT=oT,gT=lT,vT=dT,yT=jw;function bT(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=bT(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function ft(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=bT(e))&&(s&&(s+=" "),s+=t);return s}const ES=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,OS=ft,sl=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return OS(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const h=ES(u)||ES(f);return a[d][h]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(b=>{let[x,g]=b;return Array.isArray(g)?g.includes({...i,...l}[x]):{...i,...l}[x]===g})?[...d,f,h]:d},[]);return OS(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jT=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...mF,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:jT("lucide",a),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(e,t)=>{const r=m.forwardRef(({className:s,...a},i)=>m.createElement(pF,{ref:i,iconNode:t,className:jT(`lucide-${hF(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=Ie("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=Ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=Ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Ie("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=Ie("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=Ie("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=Ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Ie("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Ie("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=Ie("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=Ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Ie("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=Ie("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Ie("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=Ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=Ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Ie("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=Ie("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Ie("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=Ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Ie("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=Ie("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Ie("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Ie("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Ie("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=Ie("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=Ie("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=Ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Ie("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Ie("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=Ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=Ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=Ie("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Ie("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=Ie("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Ie("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=Ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Ie("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Ie("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=Ie("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Ie("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=Ie("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Ie("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Ie("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=Ie("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Ie("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Ie("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Ie("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Ie("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Ie("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Ie("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ie("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=Ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Ie("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Ie("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Ie("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=Ie("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=Ie("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Ie("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Cw="-",LF=e=>{const t=BF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Cw);return l[0]===""&&l.length!==1&&l.shift(),OT(l,t)||FF(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},OT=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?OT(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Cw);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},_S=/^\[(.+)\]$/,FF=e=>{if(_S.test(e)){const t=_S.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},BF=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return zF(Object.entries(e.classGroups),r).forEach(([i,o])=>{w0(o,s,i,t)}),s},w0=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:RS(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(UF(a)){w0(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{w0(o,RS(t,i),r,s)})})},RS=(e,t)=>{let r=e;return t.split(Cw).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},UF=e=>e.isThemeGetter,zF=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,VF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},kT="!",qF=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let g=0;g<l.length;g++){let y=l[g];if(d===0){if(y===a&&(s||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(y==="/"){f=g;continue}}y==="["?d++:y==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(kT),b=p?h.substring(1):h,x=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},HF=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},WF=e=>({cache:VF(e.cacheSize),parseClassName:qF(e),...LF(e)}),KF=/\s+/,GF=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(KF);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(d);let b=!!p,x=s(b?h.substring(0,p):h);if(!x){if(!b){l=d+(l.length>0?" "+l:l);continue}if(x=s(h),!x){l=d+(l.length>0?" "+l:l);continue}b=!1}const g=HF(u).join(":"),y=f?g+kT:g,v=y+x;if(i.includes(v))continue;i.push(v);const j=a(x,b);for(let S=0;S<j.length;++S){const w=j[S];i.push(y+w)}l=d+(l.length>0?" "+l:l)}return l};function YF(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=TT(t))&&(s&&(s+=" "),s+=r);return s}const TT=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=TT(e[s]))&&(r&&(r+=" "),r+=t);return r};function XF(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=WF(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=GF(c,r);return a(c,u),u}return function(){return i(YF.apply(null,arguments))}}const Zt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},IT=/^\[(?:([a-z-]+):)?(.+)\]$/i,QF=/^\d+\/\d+$/,JF=new Set(["px","full","screen"]),ZF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tB=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rB=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nB=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ja=e=>tc(e)||JF.has(e)||QF.test(e),ii=e=>id(e,"length",uB),tc=e=>!!e&&!Number.isNaN(Number(e)),Av=e=>id(e,"number",tc),$d=e=>!!e&&Number.isInteger(Number(e)),sB=e=>e.endsWith("%")&&tc(e.slice(0,-1)),xt=e=>IT.test(e),oi=e=>ZF.test(e),aB=new Set(["length","size","percentage"]),iB=e=>id(e,aB,_T),oB=e=>id(e,"position",_T),lB=new Set(["image","url"]),cB=e=>id(e,lB,hB),dB=e=>id(e,"",fB),Ld=()=>!0,id=(e,t,r)=>{const s=IT.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},uB=e=>eB.test(e)&&!tB.test(e),_T=()=>!1,fB=e=>rB.test(e),hB=e=>nB.test(e),mB=()=>{const e=Zt("colors"),t=Zt("spacing"),r=Zt("blur"),s=Zt("brightness"),a=Zt("borderColor"),i=Zt("borderRadius"),o=Zt("borderSpacing"),l=Zt("borderWidth"),c=Zt("contrast"),d=Zt("grayscale"),u=Zt("hueRotate"),f=Zt("invert"),h=Zt("gap"),p=Zt("gradientColorStops"),b=Zt("gradientColorStopPositions"),x=Zt("inset"),g=Zt("margin"),y=Zt("opacity"),v=Zt("padding"),j=Zt("saturate"),S=Zt("scale"),w=Zt("sepia"),N=Zt("skew"),P=Zt("space"),C=Zt("translate"),k=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",xt,t],R=()=>[xt,t],q=()=>["",ja,ii],$=()=>["auto",tc,xt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",xt],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[tc,xt];return{cacheSize:500,separator:":",theme:{colors:[Ld],spacing:[ja,ii],blur:["none","",oi,xt],brightness:M(),borderColor:[e],borderRadius:["none","","full",oi,xt],borderSpacing:R(),borderWidth:q(),contrast:M(),grayscale:_(),hueRotate:M(),invert:_(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[sB,ii],inset:T(),margin:T(),opacity:M(),padding:R(),saturate:M(),scale:M(),sepia:_(),skew:M(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",xt]}],container:["container"],columns:[{columns:[oi]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),xt]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$d,xt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xt]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",$d,xt]}],"grid-cols":[{"grid-cols":[Ld]}],"col-start-end":[{col:["auto",{span:["full",$d,xt]},xt]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Ld]}],"row-start-end":[{row:["auto",{span:[$d,xt]},xt]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xt,t]}],"min-w":[{"min-w":[xt,t,"min","max","fit"]}],"max-w":[{"max-w":[xt,t,"none","full","min","max","fit","prose",{screen:[oi]},oi]}],h:[{h:[xt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",oi,ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Av]}],"font-family":[{font:[Ld]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xt]}],"line-clamp":[{"line-clamp":["none",tc,Av]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ja,xt]}],"list-image":[{"list-image":["none",xt]}],"list-style-type":[{list:["none","disc","decimal",xt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ja,ii]}],"underline-offset":[{"underline-offset":["auto",ja,xt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),oB]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cB]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[ja,xt]}],"outline-w":[{outline:[ja,ii]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ja,ii]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",oi,dB]}],"shadow-color":[{shadow:[Ld]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",oi,xt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xt]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",xt]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",xt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[$d,xt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ja,ii,Av]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pB=XF(mB);function Oe(...e){return pB(ft(e))}const xB=fF,RT=m.forwardRef(({className:e,...t},r)=>n.jsx(mT,{ref:r,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));RT.displayName=mT.displayName;const gB=sl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),MT=m.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(pT,{ref:s,className:Oe(gB({variant:t}),e),...r}));MT.displayName=pT.displayName;const vB=m.forwardRef(({className:e,...t},r)=>n.jsx(vT,{ref:r,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vB.displayName=vT.displayName;const DT=m.forwardRef(({className:e,...t},r)=>n.jsx(yT,{ref:r,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ta,{className:"h-4 w-4"})}));DT.displayName=yT.displayName;const $T=m.forwardRef(({className:e,...t},r)=>n.jsx(xT,{ref:r,className:Oe("text-sm font-semibold",e),...t}));$T.displayName=xT.displayName;const LT=m.forwardRef(({className:e,...t},r)=>n.jsx(gT,{ref:r,className:Oe("text-sm opacity-90",e),...t}));LT.displayName=gT.displayName;function yB(){const{toasts:e}=nd();return n.jsxs(xB,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(MT,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx($T,{children:r}),s&&n.jsx(LT,{children:s})]}),a,n.jsx(DT,{})]},t)}),n.jsx(RT,{})]})}var MS=["light","dark"],bB="(prefers-color-scheme: dark)",jB=m.createContext(void 0),wB={setTheme:e=>{},themes:[]},NB=()=>{var e;return(e=m.useContext(jB))!=null?e:wB};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?MS.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(b,x=!1,g=!0)=>{let y=o?o[b]:b,v=x?b+"|| ''":`'${y}'`,j="";return a&&g&&!x&&MS.includes(b)&&(j+=`d.style.colorScheme = '${b}';`),r==="class"?x||y?j+=`c.add(${v})`:j+="null":y&&(j+=`d[s](n,${v})`),j},p=e?`!function(){${u}${h(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${bB}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var SB=e=>{switch(e){case"success":return AB;case"info":return OB;case"warning":return EB;case"error":return kB;default:return null}},PB=Array(12).fill(0),CB=({visible:e,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},F.createElement("div",{className:"sonner-spinner"},PB.map((r,s)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),AB=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EB=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OB=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kB=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TB=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),IB=()=>{let[e,t]=F.useState(document.hidden);return F.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},N0=1,_B=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:N0++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0,i,o=s.then(async c=>{if(i=["resolve",c],F.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(MB(c)&&!c.ok){a=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){a=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||N0++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Cn=new _B,RB=(e,t)=>{let r=(t==null?void 0:t.id)||N0++;return Cn.addToast({title:e,...t,id:r}),r},MB=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",DB=RB,$B=()=>Cn.toasts,LB=()=>Cn.getActiveToasts();Object.assign(DB,{success:Cn.success,info:Cn.info,warning:Cn.warning,error:Cn.error,custom:Cn.custom,message:Cn.message,promise:Cn.promise,dismiss:Cn.dismiss,loading:Cn.loading},{getHistory:$B,getToasts:LB});function FB(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}FB(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function kh(e){return e.label!==void 0}var BB=3,UB="32px",zB="16px",DS=4e3,VB=356,qB=14,HB=20,WB=200;function ws(...e){return e.filter(Boolean).join(" ")}function KB(e){let[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}var GB=e=>{var t,r,s,a,i,o,l,c,d,u,f;let{invert:h,toast:p,unstyled:b,interacting:x,setHeights:g,visibleToasts:y,heights:v,index:j,toasts:S,expanded:w,removeToast:N,defaultRichColors:P,closeButton:C,style:k,cancelButtonStyle:D,actionButtonStyle:T,className:R="",descriptionClassName:q="",duration:$,position:B,gap:I,loadingIcon:L,expandByDefault:E,classNames:_,icons:O,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:A}=e,[U,ee]=F.useState(null),[V,X]=F.useState(null),[Q,le]=F.useState(!1),[H,ce]=F.useState(!1),[se,Y]=F.useState(!1),[Ee,ye]=F.useState(!1),[J,ke]=F.useState(!1),[Me,Le]=F.useState(0),[Te,mt]=F.useState(0),ct=F.useRef(p.duration||$||DS),Ye=F.useRef(null),ut=F.useRef(null),_t=j===0,Vt=j+1<=y,xe=p.type,Z=p.dismissible!==!1,Pe=p.className||"",Ne=p.descriptionClassName||"",K=F.useMemo(()=>v.findIndex(ue=>ue.toastId===p.id)||0,[v,p.id]),ge=F.useMemo(()=>{var ue;return(ue=p.closeButton)!=null?ue:C},[p.closeButton,C]),we=F.useMemo(()=>p.duration||$||DS,[p.duration,$]),De=F.useRef(0),We=F.useRef(0),Ue=F.useRef(0),de=F.useRef(null),[G,ie]=B.split("-"),fe=F.useMemo(()=>v.reduce((ue,$e,Be)=>Be>=K?ue:ue+$e.height,0),[v,K]),he=IB(),Ve=p.invert||h,He=xe==="loading";We.current=F.useMemo(()=>K*I+fe,[K,fe]),F.useEffect(()=>{ct.current=we},[we]),F.useEffect(()=>{le(!0)},[]),F.useEffect(()=>{let ue=ut.current;if(ue){let $e=ue.getBoundingClientRect().height;return mt($e),g(Be=>[{toastId:p.id,height:$e,position:p.position},...Be]),()=>g(Be=>Be.filter(wt=>wt.toastId!==p.id))}},[g,p.id]),F.useLayoutEffect(()=>{if(!Q)return;let ue=ut.current,$e=ue.style.height;ue.style.height="auto";let Be=ue.getBoundingClientRect().height;ue.style.height=$e,mt(Be),g(wt=>wt.find(Ze=>Ze.toastId===p.id)?wt.map(Ze=>Ze.toastId===p.id?{...Ze,height:Be}:Ze):[{toastId:p.id,height:Be,position:p.position},...wt])},[Q,p.title,p.description,g,p.id]);let be=F.useCallback(()=>{ce(!0),Le(We.current),g(ue=>ue.filter($e=>$e.toastId!==p.id)),setTimeout(()=>{N(p)},WB)},[p,N,g,We]);F.useEffect(()=>{if(p.promise&&xe==="loading"||p.duration===1/0||p.type==="loading")return;let ue;return w||x||A&&he?(()=>{if(Ue.current<De.current){let $e=new Date().getTime()-De.current;ct.current=ct.current-$e}Ue.current=new Date().getTime()})():ct.current!==1/0&&(De.current=new Date().getTime(),ue=setTimeout(()=>{var $e;($e=p.onAutoClose)==null||$e.call(p,p),be()},ct.current)),()=>clearTimeout(ue)},[w,x,p,xe,A,he,be]),F.useEffect(()=>{p.delete&&be()},[be,p.delete]);function Je(){var ue,$e,Be;return O!=null&&O.loading?F.createElement("div",{className:ws(_==null?void 0:_.loader,(ue=p==null?void 0:p.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":xe==="loading"},O.loading):L?F.createElement("div",{className:ws(_==null?void 0:_.loader,($e=p==null?void 0:p.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":xe==="loading"},L):F.createElement(CB,{className:ws(_==null?void 0:_.loader,(Be=p==null?void 0:p.classNames)==null?void 0:Be.loader),visible:xe==="loading"})}return F.createElement("li",{tabIndex:0,ref:ut,className:ws(R,Pe,_==null?void 0:_.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,_==null?void 0:_.default,_==null?void 0:_[xe],(r=p==null?void 0:p.classNames)==null?void 0:r[xe]),"data-sonner-toast":"","data-rich-colors":(s=p.richColors)!=null?s:P,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":J,"data-removed":H,"data-visible":Vt,"data-y-position":G,"data-x-position":ie,"data-index":j,"data-front":_t,"data-swiping":se,"data-dismissible":Z,"data-type":xe,"data-invert":Ve,"data-swipe-out":Ee,"data-swipe-direction":V,"data-expanded":!!(w||E&&Q),style:{"--index":j,"--toasts-before":j,"--z-index":S.length-j,"--offset":`${H?Me:We.current}px`,"--initial-height":E?"auto":`${Te}px`,...k,...p.style},onDragEnd:()=>{Y(!1),ee(null),de.current=null},onPointerDown:ue=>{He||!Z||(Ye.current=new Date,Le(We.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(Y(!0),de.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,$e,Be,wt;if(Ee||!Z)return;de.current=null;let Ze=Number(((ue=ut.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gt=Number((($e=ut.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bt=new Date().getTime()-((Be=Ye.current)==null?void 0:Be.getTime()),Nt=U==="x"?Ze:gt,et=Math.abs(Nt)/bt;if(Math.abs(Nt)>=HB||et>.11){Le(We.current),(wt=p.onDismiss)==null||wt.call(p,p),X(U==="x"?Ze>0?"right":"left":gt>0?"down":"up"),be(),ye(!0),ke(!1);return}Y(!1),ee(null)},onPointerMove:ue=>{var $e,Be,wt,Ze;if(!de.current||!Z||(($e=window.getSelection())==null?void 0:$e.toString().length)>0)return;let gt=ue.clientY-de.current.y,bt=ue.clientX-de.current.x,Nt=(Be=e.swipeDirections)!=null?Be:KB(B);!U&&(Math.abs(bt)>1||Math.abs(gt)>1)&&ee(Math.abs(bt)>Math.abs(gt)?"x":"y");let et={x:0,y:0};U==="y"?(Nt.includes("top")||Nt.includes("bottom"))&&(Nt.includes("top")&&gt<0||Nt.includes("bottom")&&gt>0)&&(et.y=gt):U==="x"&&(Nt.includes("left")||Nt.includes("right"))&&(Nt.includes("left")&&bt<0||Nt.includes("right")&&bt>0)&&(et.x=bt),(Math.abs(et.x)>0||Math.abs(et.y)>0)&&ke(!0),(wt=ut.current)==null||wt.style.setProperty("--swipe-amount-x",`${et.x}px`),(Ze=ut.current)==null||Ze.style.setProperty("--swipe-amount-y",`${et.y}px`)}},ge&&!p.jsx?F.createElement("button",{"aria-label":M,"data-disabled":He,"data-close-button":!0,onClick:He||!Z?()=>{}:()=>{var ue;be(),(ue=p.onDismiss)==null||ue.call(p,p)},className:ws(_==null?void 0:_.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=O==null?void 0:O.close)!=null?i:TB):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:F.createElement(F.Fragment,null,xe||p.icon||p.promise?F.createElement("div",{"data-icon":"",className:ws(_==null?void 0:_.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Je():null,p.type!=="loading"?p.icon||(O==null?void 0:O[xe])||SB(xe):null):null,F.createElement("div",{"data-content":"",className:ws(_==null?void 0:_.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},F.createElement("div",{"data-title":"",className:ws(_==null?void 0:_.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?F.createElement("div",{"data-description":"",className:ws(q,Ne,_==null?void 0:_.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&kh(p.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||D,onClick:ue=>{var $e,Be;kh(p.cancel)&&Z&&((Be=($e=p.cancel).onClick)==null||Be.call($e,ue),be())},className:ws(_==null?void 0:_.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&kh(p.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||T,onClick:ue=>{var $e,Be;kh(p.action)&&((Be=($e=p.action).onClick)==null||Be.call($e,ue),!ue.defaultPrevented&&be())},className:ws(_==null?void 0:_.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function $S(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function YB(e,t){let r={};return[e,t].forEach((s,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?zB:UB;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):c(l)}),r}var XB=m.forwardRef(function(e,t){let{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:f,duration:h,style:p,visibleToasts:b=BB,toastOptions:x,dir:g=$S(),gap:y=qB,loadingIcon:v,icons:j,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:w}=e,[N,P]=F.useState([]),C=F.useMemo(()=>Array.from(new Set([s].concat(N.filter(A=>A.position).map(A=>A.position)))),[N,s]),[k,D]=F.useState([]),[T,R]=F.useState(!1),[q,$]=F.useState(!1),[B,I]=F.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=F.useRef(null),E=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=F.useRef(null),O=F.useRef(!1),M=F.useCallback(A=>{P(U=>{var ee;return(ee=U.find(V=>V.id===A.id))!=null&&ee.delete||Cn.dismiss(A.id),U.filter(({id:V})=>V!==A.id)})},[]);return F.useEffect(()=>Cn.subscribe(A=>{if(A.dismiss){P(U=>U.map(ee=>ee.id===A.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{Gk.flushSync(()=>{P(U=>{let ee=U.findIndex(V=>V.id===A.id);return ee!==-1?[...U.slice(0,ee),{...U[ee],...A},...U.slice(ee+1)]:[A,...U]})})})}),[]),F.useEffect(()=>{if(u!=="system"){I(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;let A=window.matchMedia("(prefers-color-scheme: dark)");try{A.addEventListener("change",({matches:U})=>{I(U?"dark":"light")})}catch{A.addListener(({matches:ee})=>{try{I(ee?"dark":"light")}catch(V){console.error(V)}})}},[u]),F.useEffect(()=>{N.length<=1&&R(!1)},[N]),F.useEffect(()=>{let A=U=>{var ee,V;a.every(X=>U[X]||U.code===X)&&(R(!0),(ee=L.current)==null||ee.focus()),U.code==="Escape"&&(document.activeElement===L.current||(V=L.current)!=null&&V.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[a]),F.useEffect(()=>{if(L.current)return()=>{_.current&&(_.current.focus({preventScroll:!0}),_.current=null,O.current=!1)}},[L.current]),F.createElement("section",{ref:t,"aria-label":`${S} ${E}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((A,U)=>{var ee;let[V,X]=A.split("-");return N.length?F.createElement("ol",{key:A,dir:g==="auto"?$S():g,tabIndex:-1,ref:L,className:l,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":V,"data-lifted":T&&N.length>1&&!i,"data-x-position":X,style:{"--front-toast-height":`${((ee=k[0])==null?void 0:ee.height)||0}px`,"--width":`${VB}px`,"--gap":`${y}px`,...p,...YB(c,d)},onBlur:Q=>{O.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(O.current=!1,_.current&&(_.current.focus({preventScroll:!0}),_.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||O.current||(O.current=!0,_.current=Q.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{q||R(!1)},onDragEnd:()=>R(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},N.filter(Q=>!Q.position&&U===0||Q.position===A).map((Q,le)=>{var H,ce;return F.createElement(GB,{key:Q.id,icons:j,index:le,toast:Q,defaultRichColors:f,duration:(H=x==null?void 0:x.duration)!=null?H:h,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:b,closeButton:(ce=x==null?void 0:x.closeButton)!=null?ce:o,interacting:q,position:A,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:M,toasts:N.filter(se=>se.position==Q.position),heights:k.filter(se=>se.position==Q.position),setHeights:D,expandByDefault:i,gap:y,loadingIcon:v,expanded:T,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const QB=({...e})=>{const{theme:t="system"}=NB();return n.jsx(XB,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var JB=Aj[" useId ".trim().toString()]||(()=>{}),ZB=0;function Kr(e){const[t,r]=m.useState(JB());return rn(()=>{r(s=>s??String(ZB++))},[e]),t?`radix-${t}`:""}const e8=["top","right","bottom","left"],Vi=Math.min,Vn=Math.max,qm=Math.round,Th=Math.floor,la=e=>({x:e,y:e}),t8={left:"right",right:"left",bottom:"top",top:"bottom"},r8={start:"end",end:"start"};function S0(e,t,r){return Vn(e,Vi(t,r))}function Ka(e,t){return typeof e=="function"?e(t):e}function Ga(e){return e.split("-")[0]}function od(e){return e.split("-")[1]}function Aw(e){return e==="x"?"y":"x"}function Ew(e){return e==="y"?"height":"width"}const n8=new Set(["top","bottom"]);function ra(e){return n8.has(Ga(e))?"y":"x"}function Ow(e){return Aw(ra(e))}function s8(e,t,r){r===void 0&&(r=!1);const s=od(e),a=Ow(e),i=Ew(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Hm(o)),[o,Hm(o)]}function a8(e){const t=Hm(e);return[P0(e),t,P0(t)]}function P0(e){return e.replace(/start|end/g,t=>r8[t])}const LS=["left","right"],FS=["right","left"],i8=["top","bottom"],o8=["bottom","top"];function l8(e,t,r){switch(e){case"top":case"bottom":return r?t?FS:LS:t?LS:FS;case"left":case"right":return t?i8:o8;default:return[]}}function c8(e,t,r,s){const a=od(e);let i=l8(Ga(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(P0)))),i}function Hm(e){return e.replace(/left|right|bottom|top/g,t=>t8[t])}function d8(e){return{top:0,right:0,bottom:0,left:0,...e}}function FT(e){return typeof e!="number"?d8(e):{top:e,right:e,bottom:e,left:e}}function Wm(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function BS(e,t,r){let{reference:s,floating:a}=e;const i=ra(t),o=Ow(t),l=Ew(o),c=Ga(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,h=s[l]/2-a[l]/2;let p;switch(c){case"top":p={x:u,y:s.y-a.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:f};break;case"left":p={x:s.x-a.width,y:f};break;default:p={x:s.x,y:s.y}}switch(od(t)){case"start":p[o]-=h*(r&&d?-1:1);break;case"end":p[o]+=h*(r&&d?-1:1);break}return p}const u8=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=BS(d,s,c),h=s,p={},b=0;for(let x=0;x<l.length;x++){const{name:g,fn:y}=l[x],{x:v,y:j,data:S,reset:w}=await y({x:u,y:f,initialPlacement:s,placement:h,strategy:a,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,f=j??f,p={...p,[g]:{...p[g],...S}},w&&b<=50&&(b++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):w.rects),{x:u,y:f}=BS(d,h,c)),x=-1)}return{x:u,y:f,placement:h,strategy:a,middlewareData:p}};async function Uu(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ka(t,e),b=FT(p),g=l[h?f==="floating"?"reference":"floating":f],y=Wm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},w=Wm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:j,strategy:c}):v);return{top:(y.top-w.top+b.top)/S.y,bottom:(w.bottom-y.bottom+b.bottom)/S.y,left:(y.left-w.left+b.left)/S.x,right:(w.right-y.right+b.right)/S.x}}const f8=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Ka(e,t)||{};if(d==null)return{};const f=FT(u),h={x:r,y:s},p=Ow(a),b=Ew(p),x=await o.getDimensions(d),g=p==="y",y=g?"top":"left",v=g?"bottom":"right",j=g?"clientHeight":"clientWidth",S=i.reference[b]+i.reference[p]-h[p]-i.floating[b],w=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=N?N[j]:0;(!P||!await(o.isElement==null?void 0:o.isElement(N)))&&(P=l.floating[j]||i.floating[b]);const C=S/2-w/2,k=P/2-x[b]/2-1,D=Vi(f[y],k),T=Vi(f[v],k),R=D,q=P-x[b]-T,$=P/2-x[b]/2+C,B=S0(R,$,q),I=!c.arrow&&od(a)!=null&&$!==B&&i.reference[b]/2-($<R?D:T)-x[b]/2<0,L=I?$<R?$-R:$-q:0;return{[p]:h[p]+L,data:{[p]:B,centerOffset:$-B-L,...I&&{alignmentOffset:L}},reset:I}}}),h8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...g}=Ka(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Ga(a),v=ra(l),j=Ga(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=h||(j||!x?[Hm(l)]:a8(l)),N=b!=="none";!h&&N&&w.push(...c8(l,x,b,S));const P=[l,...w],C=await Uu(t,g),k=[];let D=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&k.push(C[y]),f){const $=s8(a,o,S);k.push(C[$[0]],C[$[1]])}if(D=[...D,{placement:a,overflows:k}],!k.every($=>$<=0)){var T,R;const $=(((T=i.flip)==null?void 0:T.index)||0)+1,B=P[$];if(B&&(!(f==="alignment"?v!==ra(B):!1)||D.every(E=>E.overflows[0]>0&&ra(E.placement)===v)))return{data:{index:$,overflows:D},reset:{placement:B}};let I=(R=D.filter(L=>L.overflows[0]<=0).sort((L,E)=>L.overflows[1]-E.overflows[1])[0])==null?void 0:R.placement;if(!I)switch(p){case"bestFit":{var q;const L=(q=D.filter(E=>{if(N){const _=ra(E.placement);return _===v||_==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(_=>_>0).reduce((_,O)=>_+O,0)]).sort((E,_)=>E[1]-_[1])[0])==null?void 0:q[0];L&&(I=L);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function US(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function zS(e){return e8.some(t=>e[t]>=0)}const m8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Ka(e,t);switch(s){case"referenceHidden":{const i=await Uu(t,{...a,elementContext:"reference"}),o=US(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:zS(o)}}}case"escaped":{const i=await Uu(t,{...a,altBoundary:!0}),o=US(i,r.floating);return{data:{escapedOffsets:o,escaped:zS(o)}}}default:return{}}}}},BT=new Set(["left","top"]);async function p8(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Ga(r),l=od(r),c=ra(r)==="y",d=BT.has(o)?-1:1,u=i&&c?-1:1,f=Ka(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const x8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await p8(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},g8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...c}=Ka(e,t),d={x:r,y:s},u=await Uu(t,c),f=ra(Ga(a)),h=Aw(f);let p=d[h],b=d[f];if(i){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=p+u[g],j=p-u[y];p=S0(v,p,j)}if(o){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=b+u[g],j=b-u[y];b=S0(v,b,j)}const x=l.fn({...t,[h]:p,[f]:b});return{...x,data:{x:x.x-r,y:x.y-s,enabled:{[h]:i,[f]:o}}}}}},v8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ka(e,t),u={x:r,y:s},f=ra(a),h=Aw(f);let p=u[h],b=u[f];const x=Ka(l,t),g=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const j=h==="y"?"height":"width",S=i.reference[h]-i.floating[j]+g.mainAxis,w=i.reference[h]+i.reference[j]-g.mainAxis;p<S?p=S:p>w&&(p=w)}if(d){var y,v;const j=h==="y"?"width":"height",S=BT.has(Ga(a)),w=i.reference[f]-i.floating[j]+(S&&((y=o.offset)==null?void 0:y[f])||0)+(S?0:g.crossAxis),N=i.reference[f]+i.reference[j]+(S?0:((v=o.offset)==null?void 0:v[f])||0)-(S?g.crossAxis:0);b<w?b=w:b>N&&(b=N)}return{[h]:p,[f]:b}}}},y8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Ka(e,t),u=await Uu(t,d),f=Ga(a),h=od(a),p=ra(a)==="y",{width:b,height:x}=i.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,g=h==="end"?"top":"bottom");const v=x-u.top-u.bottom,j=b-u.left-u.right,S=Vi(x-u[g],v),w=Vi(b-u[y],j),N=!t.middlewareData.shift;let P=S,C=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=j),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=v),N&&!h){const D=Vn(u.left,0),T=Vn(u.right,0),R=Vn(u.top,0),q=Vn(u.bottom,0);p?C=b-2*(D!==0||T!==0?D+T:Vn(u.left,u.right)):P=x-2*(R!==0||q!==0?R+q:Vn(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:P});const k=await o.getDimensions(l.floating);return b!==k.width||x!==k.height?{reset:{rects:!0}}:{}}}};function Px(){return typeof window<"u"}function ld(e){return UT(e)?(e.nodeName||"").toLowerCase():"#document"}function Gn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ga(e){var t;return(t=(UT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function UT(e){return Px()?e instanceof Node||e instanceof Gn(e).Node:!1}function Us(e){return Px()?e instanceof Element||e instanceof Gn(e).Element:!1}function pa(e){return Px()?e instanceof HTMLElement||e instanceof Gn(e).HTMLElement:!1}function VS(e){return!Px()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gn(e).ShadowRoot}const b8=new Set(["inline","contents"]);function Bf(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=zs(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!b8.has(a)}const j8=new Set(["table","td","th"]);function w8(e){return j8.has(ld(e))}const N8=[":popover-open",":modal"];function Cx(e){return N8.some(t=>{try{return e.matches(t)}catch{return!1}})}const S8=["transform","translate","scale","rotate","perspective"],P8=["transform","translate","scale","rotate","perspective","filter"],C8=["paint","layout","strict","content"];function kw(e){const t=Tw(),r=Us(e)?zs(e):e;return S8.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||P8.some(s=>(r.willChange||"").includes(s))||C8.some(s=>(r.contain||"").includes(s))}function A8(e){let t=qi(e);for(;pa(t)&&!Pc(t);){if(kw(t))return t;if(Cx(t))return null;t=qi(t)}return null}function Tw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const E8=new Set(["html","body","#document"]);function Pc(e){return E8.has(ld(e))}function zs(e){return Gn(e).getComputedStyle(e)}function Ax(e){return Us(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qi(e){if(ld(e)==="html")return e;const t=e.assignedSlot||e.parentNode||VS(e)&&e.host||ga(e);return VS(t)?t.host:t}function zT(e){const t=qi(e);return Pc(t)?e.ownerDocument?e.ownerDocument.body:e.body:pa(t)&&Bf(t)?t:zT(t)}function zu(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=zT(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Gn(a);if(i){const l=C0(o);return t.concat(o,o.visualViewport||[],Bf(a)?a:[],l&&r?zu(l):[])}return t.concat(a,zu(a,[],r))}function C0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function VT(e){const t=zs(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=pa(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=qm(r)!==i||qm(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Iw(e){return Us(e)?e:e.contextElement}function rc(e){const t=Iw(e);if(!pa(t))return la(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=VT(t);let o=(i?qm(r.width):r.width)/s,l=(i?qm(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const O8=la(0);function qT(e){const t=Gn(e);return!Tw()||!t.visualViewport?O8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function k8(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Gn(e)?!1:t}function zo(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Iw(e);let o=la(1);t&&(s?Us(s)&&(o=rc(s)):o=rc(e));const l=k8(i,r,s)?qT(i):la(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const h=Gn(i),p=s&&Us(s)?Gn(s):s;let b=h,x=C0(b);for(;x&&s&&p!==b;){const g=rc(x),y=x.getBoundingClientRect(),v=zs(x),j=y.left+(x.clientLeft+parseFloat(v.paddingLeft))*g.x,S=y.top+(x.clientTop+parseFloat(v.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,f*=g.y,c+=j,d+=S,b=Gn(x),x=C0(b)}}return Wm({width:u,height:f,x:c,y:d})}function _w(e,t){const r=Ax(e).scrollLeft;return t?t.left+r:zo(ga(e)).left+r}function HT(e,t,r){r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=s.left+t.scrollLeft-(r?0:_w(e,s)),i=s.top+t.scrollTop;return{x:a,y:i}}function T8(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=ga(s),l=t?Cx(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=la(1);const u=la(0),f=pa(s);if((f||!f&&!i)&&((ld(s)!=="body"||Bf(o))&&(c=Ax(s)),pa(s))){const p=zo(s);d=rc(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const h=o&&!f&&!i?HT(o,c,!0):la(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:r.y*d.y-c.scrollTop*d.y+u.y+h.y}}function I8(e){return Array.from(e.getClientRects())}function _8(e){const t=ga(e),r=Ax(e),s=e.ownerDocument.body,a=Vn(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Vn(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+_w(e);const l=-r.scrollTop;return zs(s).direction==="rtl"&&(o+=Vn(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function R8(e,t){const r=Gn(e),s=ga(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Tw();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const M8=new Set(["absolute","fixed"]);function D8(e,t){const r=zo(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=pa(e)?rc(e):la(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function qS(e,t,r){let s;if(t==="viewport")s=R8(e,r);else if(t==="document")s=_8(ga(e));else if(Us(t))s=D8(t,r);else{const a=qT(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Wm(s)}function WT(e,t){const r=qi(e);return r===t||!Us(r)||Pc(r)?!1:zs(r).position==="fixed"||WT(r,t)}function $8(e,t){const r=t.get(e);if(r)return r;let s=zu(e,[],!1).filter(l=>Us(l)&&ld(l)!=="body"),a=null;const i=zs(e).position==="fixed";let o=i?qi(e):e;for(;Us(o)&&!Pc(o);){const l=zs(o),c=kw(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&M8.has(a.position)||Bf(o)&&!c&&WT(e,o))?s=s.filter(u=>u!==o):a=l,o=qi(o)}return t.set(e,s),s}function L8(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?Cx(t)?[]:$8(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const f=qS(t,u,a);return d.top=Vn(f.top,d.top),d.right=Vi(f.right,d.right),d.bottom=Vi(f.bottom,d.bottom),d.left=Vn(f.left,d.left),d},qS(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function F8(e){const{width:t,height:r}=VT(e);return{width:t,height:r}}function B8(e,t,r){const s=pa(t),a=ga(t),i=r==="fixed",o=zo(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=la(0);function d(){c.x=_w(a)}if(s||!s&&!i)if((ld(t)!=="body"||Bf(a))&&(l=Ax(t)),s){const p=zo(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&d();i&&!s&&a&&d();const u=a&&!s&&!i?HT(a,l):la(0),f=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function Ev(e){return zs(e).position==="static"}function HS(e,t){if(!pa(e)||zs(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ga(e)===r&&(r=r.ownerDocument.body),r}function KT(e,t){const r=Gn(e);if(Cx(e))return r;if(!pa(e)){let a=qi(e);for(;a&&!Pc(a);){if(Us(a)&&!Ev(a))return a;a=qi(a)}return r}let s=HS(e,t);for(;s&&w8(s)&&Ev(s);)s=HS(s,t);return s&&Pc(s)&&Ev(s)&&!kw(s)?r:s||A8(e)||r}const U8=async function(e){const t=this.getOffsetParent||KT,r=this.getDimensions,s=await r(e.floating);return{reference:B8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function z8(e){return zs(e).direction==="rtl"}const V8={convertOffsetParentRelativeRectToViewportRelativeRect:T8,getDocumentElement:ga,getClippingRect:L8,getOffsetParent:KT,getElementRects:U8,getClientRects:I8,getDimensions:F8,getScale:rc,isElement:Us,isRTL:z8};function GT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function q8(e,t){let r=null,s;const a=ga(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=d;if(l||t(),!h||!p)return;const b=Th(f),x=Th(a.clientWidth-(u+h)),g=Th(a.clientHeight-(f+p)),y=Th(u),j={rootMargin:-b+"px "+-x+"px "+-g+"px "+-y+"px",threshold:Vn(0,Vi(1,c))||1};let S=!0;function w(N){const P=N[0].intersectionRatio;if(P!==c){if(!S)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!GT(d,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(w,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,j)}r.observe(e)}return o(!0),i}function H8(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Iw(e),u=a||i?[...d?zu(d):[],...zu(t)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const f=d&&l?q8(d,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let b,x=c?zo(e):null;c&&g();function g(){const y=zo(e);x&&!GT(x,y)&&r(),x=y,b=requestAnimationFrame(g)}return r(),()=>{var y;u.forEach(v=>{a&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const W8=x8,K8=g8,G8=h8,Y8=y8,X8=m8,WS=f8,Q8=v8,J8=(e,t,r)=>{const s=new Map,a={platform:V8,...r},i={...a.platform,_c:s};return u8(e,t,{...a,platform:i})};var Z8=typeof document<"u",eU=function(){},fm=Z8?m.useLayoutEffect:eU;function Km(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Km(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Km(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function YT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function KS(e,t){const r=YT(e);return Math.round(t*r)/r}function Ov(e){const t=m.useRef(e);return fm(()=>{t.current=e}),t}function tU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(s);Km(h,s)||p(s);const[b,x]=m.useState(null),[g,y]=m.useState(null),v=m.useCallback(E=>{E!==N.current&&(N.current=E,x(E))},[]),j=m.useCallback(E=>{E!==P.current&&(P.current=E,y(E))},[]),S=i||b,w=o||g,N=m.useRef(null),P=m.useRef(null),C=m.useRef(u),k=c!=null,D=Ov(c),T=Ov(a),R=Ov(d),q=m.useCallback(()=>{if(!N.current||!P.current)return;const E={placement:t,strategy:r,middleware:h};T.current&&(E.platform=T.current),J8(N.current,P.current,E).then(_=>{const O={..._,isPositioned:R.current!==!1};$.current&&!Km(C.current,O)&&(C.current=O,rl.flushSync(()=>{f(O)}))})},[h,t,r,T,R]);fm(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[d]);const $=m.useRef(!1);fm(()=>($.current=!0,()=>{$.current=!1}),[]),fm(()=>{if(S&&(N.current=S),w&&(P.current=w),S&&w){if(D.current)return D.current(S,w,q);q()}},[S,w,q,D,k]);const B=m.useMemo(()=>({reference:N,floating:P,setReference:v,setFloating:j}),[v,j]),I=m.useMemo(()=>({reference:S,floating:w}),[S,w]),L=m.useMemo(()=>{const E={position:r,left:0,top:0};if(!I.floating)return E;const _=KS(I.floating,u.x),O=KS(I.floating,u.y);return l?{...E,transform:"translate("+_+"px, "+O+"px)",...YT(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:_,top:O}},[r,l,I.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:q,refs:B,elements:I,floatingStyles:L}),[u,q,B,I,L])}const rU=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?WS({element:s.current,padding:a}).fn(r):{}:s?WS({element:s,padding:a}).fn(r):{}}}},nU=(e,t)=>({...W8(e),options:[e,t]}),sU=(e,t)=>({...K8(e),options:[e,t]}),aU=(e,t)=>({...Q8(e),options:[e,t]}),iU=(e,t)=>({...G8(e),options:[e,t]}),oU=(e,t)=>({...Y8(e),options:[e,t]}),lU=(e,t)=>({...X8(e),options:[e,t]}),cU=(e,t)=>({...rU(e),options:[e,t]});var dU="Arrow",XT=m.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(Qe.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});XT.displayName=dU;var uU=XT;function QT(e){const[t,r]=m.useState(void 0);return rn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Rw="Popper",[JT,Yi]=vs(Rw),[fU,ZT]=JT(Rw),e4=e=>{const{__scopePopper:t,children:r}=e,[s,a]=m.useState(null);return n.jsx(fU,{scope:t,anchor:s,onAnchorChange:a,children:r})};e4.displayName=Rw;var t4="PopperAnchor",r4=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=ZT(t4,r),o=m.useRef(null),l=Ct(t,o);return m.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(Qe.div,{...a,ref:l})});r4.displayName=t4;var Mw="PopperContent",[hU,mU]=JT(Mw),n4=m.forwardRef((e,t)=>{var Q,le,H,ce,se,Y;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:b,...x}=e,g=ZT(Mw,r),[y,v]=m.useState(null),j=Ct(t,Ee=>v(Ee)),[S,w]=m.useState(null),N=QT(S),P=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,k=s+(i!=="center"?"-"+i:""),D=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},T=Array.isArray(d)?d:[d],R=T.length>0,q={padding:D,boundary:T.filter(xU),altBoundary:R},{refs:$,floatingStyles:B,placement:I,isPositioned:L,middlewareData:E}=tU({strategy:"fixed",placement:k,whileElementsMounted:(...Ee)=>H8(...Ee,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[nU({mainAxis:a+C,alignmentAxis:o}),c&&sU({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aU():void 0,...q}),c&&iU({...q}),oU({...q,apply:({elements:Ee,rects:ye,availableWidth:J,availableHeight:ke})=>{const{width:Me,height:Le}=ye.reference,Te=Ee.floating.style;Te.setProperty("--radix-popper-available-width",`${J}px`),Te.setProperty("--radix-popper-available-height",`${ke}px`),Te.setProperty("--radix-popper-anchor-width",`${Me}px`),Te.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),S&&cU({element:S,padding:l}),gU({arrowWidth:P,arrowHeight:C}),h&&lU({strategy:"referenceHidden",...q})]}),[_,O]=i4(I),M=Mn(b);rn(()=>{L&&(M==null||M())},[L,M]);const A=(Q=E.arrow)==null?void 0:Q.x,U=(le=E.arrow)==null?void 0:le.y,ee=((H=E.arrow)==null?void 0:H.centerOffset)!==0,[V,X]=m.useState();return rn(()=>{y&&X(window.getComputedStyle(y).zIndex)},[y]),n.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:L?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(ce=E.transformOrigin)==null?void 0:ce.x,(se=E.transformOrigin)==null?void 0:se.y].join(" "),...((Y=E.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(hU,{scope:r,placedSide:_,onArrowChange:w,arrowX:A,arrowY:U,shouldHideArrow:ee,children:n.jsx(Qe.div,{"data-side":_,"data-align":O,...x,ref:j,style:{...x.style,animation:L?void 0:"none"}})})})});n4.displayName=Mw;var s4="PopperArrow",pU={top:"bottom",right:"left",bottom:"top",left:"right"},a4=m.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=mU(s4,s),o=pU[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(uU,{...a,ref:r,style:{...a.style,display:"block"}})})});a4.displayName=s4;function xU(e){return e!==null}var gU=e=>({name:"transformOrigin",options:e,fn(t){var g,y,v;const{placement:r,rects:s,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=i4(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let b="",x="";return d==="bottom"?(b=o?f:`${h}px`,x=`${-c}px`):d==="top"?(b=o?f:`${h}px`,x=`${s.floating.height+c}px`):d==="right"?(b=`${-c}px`,x=o?f:`${p}px`):d==="left"&&(b=`${s.floating.width+c}px`,x=o?f:`${p}px`),{data:{x:b,y:x}}}});function i4(e){const[t,r="center"]=e.split("-");return[t,r]}var Ex=e4,Uf=r4,Ox=n4,kx=a4,[Tx,Gbe]=vs("Tooltip",[Yi]),Ix=Yi(),o4="TooltipProvider",vU=700,A0="tooltip.open",[yU,Dw]=Tx(o4),l4=e=>{const{__scopeTooltip:t,delayDuration:r=vU,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(yU,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};l4.displayName=o4;var Vu="Tooltip",[bU,_x]=Tx(Vu),c4=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Dw(Vu,e.__scopeTooltip),d=Ix(t),[u,f]=m.useState(null),h=Kr(),p=m.useRef(0),b=o??c.disableHoverableContent,x=l??c.delayDuration,g=m.useRef(!1),[y,v]=ha({prop:s,defaultProp:a??!1,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(A0))):c.onClose(),i==null||i(P)},caller:Vu}),j=m.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),S=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,v(!0)},[v]),w=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),N=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,v(!0),p.current=0},x)},[x,v]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(Ex,{...d,children:n.jsx(bU,{scope:t,contentId:h,open:y,stateAttribute:j,trigger:u,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayedRef.current?N():S()},[c.isOpenDelayedRef,N,S]),onTriggerLeave:m.useCallback(()=>{b?w():(window.clearTimeout(p.current),p.current=0)},[w,b]),onOpen:S,onClose:w,disableHoverableContent:b,children:r})})};c4.displayName=Vu;var E0="TooltipTrigger",d4=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=_x(E0,r),i=Dw(E0,r),o=Ix(r),l=m.useRef(null),c=Ct(t,l,a.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),f=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx(Uf,{asChild:!0,...o,children:n.jsx(Qe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:Fe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Fe(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Fe(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Fe(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Fe(e.onBlur,a.onClose),onClick:Fe(e.onClick,a.onClose)})})});d4.displayName=E0;var jU="TooltipPortal",[Ybe,wU]=Tx(jU,{forceMount:void 0}),Cc="TooltipContent",u4=m.forwardRef((e,t)=>{const r=wU(Cc,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=_x(Cc,e.__scopeTooltip);return n.jsx(ts,{present:s||o.open,children:o.disableHoverableContent?n.jsx(f4,{side:a,...i,ref:t}):n.jsx(NU,{side:a,...i,ref:t})})}),NU=m.forwardRef((e,t)=>{const r=_x(Cc,e.__scopeTooltip),s=Dw(Cc,e.__scopeTooltip),a=m.useRef(null),i=Ct(t,a),[o,l]=m.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=s,h=m.useCallback(()=>{l(null),f(!1)},[f]),p=m.useCallback((b,x)=>{const g=b.currentTarget,y={x:b.clientX,y:b.clientY},v=EU(y,g.getBoundingClientRect()),j=OU(y,v),S=kU(x.getBoundingClientRect()),w=IU([...j,...S]);l(w),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&u){const b=g=>p(g,u),x=g=>p(g,c);return c.addEventListener("pointerleave",b),u.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",x)}}},[c,u,p,h]),m.useEffect(()=>{if(o){const b=x=>{const g=x.target,y={x:x.clientX,y:x.clientY},v=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),j=!TU(y,o);v?h():j&&(h(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,u,o,d,h]),n.jsx(f4,{...e,ref:i})}),[SU,PU]=Tx(Vu,{isInside:!1}),CU=C6("TooltipContent"),f4=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=_x(Cc,r),d=Ix(r),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(A0,u),()=>document.removeEventListener(A0,u)),[u]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),n.jsx(nl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:n.jsxs(Ox,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(CU,{children:s}),n.jsx(SU,{scope:r,isInside:!0,children:n.jsx(G6,{id:c.contentId,role:"tooltip",children:a||s})})]})})});u4.displayName=Cc;var h4="TooltipArrow",AU=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=Ix(r);return PU(h4,r).isInside?null:n.jsx(kx,{...a,...s,ref:t})});AU.displayName=h4;function EU(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function OU(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function kU(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function TU(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,h=c.y;u>s!=h>s&&r<(f-d)*(s-u)/(h-u)+d&&(a=!a)}return a}function IU(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),_U(t)}function _U(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var RU=l4,MU=c4,DU=d4,m4=u4;const p4=RU,$U=MU,LU=DU,x4=m.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(m4,{ref:s,sideOffset:t,className:Oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));x4.displayName=m4.displayName;var Rx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mx=typeof window>"u"||"Deno"in globalThis;function Cs(){}function FU(e,t){return typeof e=="function"?e(t):e}function BU(e){return typeof e=="number"&&e>=0&&e!==1/0}function UU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function O0(e,t){return typeof e=="function"?e(t):e}function zU(e,t){return typeof e=="function"?e(t):e}function GS(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==$w(o,t.options))return!1}else if(!Hu(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function YS(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(qu(t.options.mutationKey)!==qu(i))return!1}else if(!Hu(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function $w(e,t){return((t==null?void 0:t.queryKeyHashFn)||qu)(e)}function qu(e){return JSON.stringify(e,(t,r)=>k0(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Hu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Hu(e[r],t[r])):!1}function g4(e,t){if(e===t)return e;const r=XS(e)&&XS(t);if(r||k0(e)&&k0(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{},c=new Set(s);let d=0;for(let u=0;u<o;u++){const f=r?u:i[u];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,d++):(l[f]=g4(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return a===o&&d===a?e:l}return t}function XS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function k0(e){if(!QS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!QS(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function QS(e){return Object.prototype.toString.call(e)==="[object Object]"}function VU(e){return new Promise(t=>{setTimeout(t,e)})}function qU(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?g4(e,t):t}function HU(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function WU(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Lw=Symbol();function v4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Lw?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Po,vi,lc,EE,KU=(EE=class extends Rx{constructor(){super();Et(this,Po);Et(this,vi);Et(this,lc);ht(this,lc,t=>{if(!Mx&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){je(this,vi)||this.setEventListener(je(this,lc))}onUnsubscribe(){var t;this.hasListeners()||((t=je(this,vi))==null||t.call(this),ht(this,vi,void 0))}setEventListener(t){var r;ht(this,lc,t),(r=je(this,vi))==null||r.call(this),ht(this,vi,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){je(this,Po)!==t&&(ht(this,Po,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof je(this,Po)=="boolean"?je(this,Po):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Po=new WeakMap,vi=new WeakMap,lc=new WeakMap,EE),y4=new KU,cc,yi,dc,OE,GU=(OE=class extends Rx{constructor(){super();Et(this,cc,!0);Et(this,yi);Et(this,dc);ht(this,dc,t=>{if(!Mx&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){je(this,yi)||this.setEventListener(je(this,dc))}onUnsubscribe(){var t;this.hasListeners()||((t=je(this,yi))==null||t.call(this),ht(this,yi,void 0))}setEventListener(t){var r;ht(this,dc,t),(r=je(this,yi))==null||r.call(this),ht(this,yi,t(this.setOnline.bind(this)))}setOnline(t){je(this,cc)!==t&&(ht(this,cc,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return je(this,cc)}},cc=new WeakMap,yi=new WeakMap,dc=new WeakMap,OE),Gm=new GU;function YU(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function XU(e){return Math.min(1e3*2**e,3e4)}function b4(e){return(e??"online")==="online"?Gm.isOnline():!0}var j4=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function kv(e){return e instanceof j4}function w4(e){let t=!1,r=0,s=!1,a;const i=YU(),o=x=>{var g;s||(h(new j4(x)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>y4.isFocused()&&(e.networkMode==="always"||Gm.isOnline())&&e.canRun(),u=()=>b4(e.networkMode)&&e.canRun(),f=x=>{var g;s||(s=!0,(g=e.onSuccess)==null||g.call(e,x),a==null||a(),i.resolve(x))},h=x=>{var g;s||(s=!0,(g=e.onError)==null||g.call(e,x),a==null||a(),i.reject(x))},p=()=>new Promise(x=>{var g;a=y=>{(s||d())&&x(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var x;a=void 0,s||(x=e.onContinue)==null||x.call(e)}),b=()=>{if(s)return;let x;const g=r===0?e.initialPromise:void 0;try{x=g??e.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(f).catch(y=>{var N;if(s)return;const v=e.retry??(Mx?0:3),j=e.retryDelay??XU,S=typeof j=="function"?j(r,y):j,w=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!w){h(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),VU(S).then(()=>d()?void 0:p()).then(()=>{t?h(y):b()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?b():p().then(b),i)}}var QU=e=>setTimeout(e,0);function JU(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=QU;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var xn=JU(),Co,kE,N4=(kE=class{constructor(){Et(this,Co)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),BU(this.gcTime)&&ht(this,Co,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Mx?1/0:5*60*1e3))}clearGcTimeout(){je(this,Co)&&(clearTimeout(je(this,Co)),ht(this,Co,void 0))}},Co=new WeakMap,kE),uc,Ao,as,Eo,on,If,Oo,As,Na,TE,ZU=(TE=class extends N4{constructor(t){super();Et(this,As);Et(this,uc);Et(this,Ao);Et(this,as);Et(this,Eo);Et(this,on);Et(this,If);Et(this,Oo);ht(this,Oo,!1),ht(this,If,t.defaultOptions),this.setOptions(t.options),this.observers=[],ht(this,Eo,t.client),ht(this,as,je(this,Eo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ht(this,uc,tz(this.options)),this.state=t.state??je(this,uc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=je(this,on))==null?void 0:t.promise}setOptions(t){this.options={...je(this,If),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&je(this,as).remove(this)}setData(t,r){const s=qU(this.state.data,t,this.options);return nn(this,As,Na).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){nn(this,As,Na).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=je(this,on))==null?void 0:s.promise;return(a=je(this,on))==null||a.cancel(t),r?r.then(Cs).catch(Cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(je(this,uc))}isActive(){return this.observers.some(t=>zU(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>O0(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!UU(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=je(this,on))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=je(this,on))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),je(this,as).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(je(this,on)&&(je(this,Oo)?je(this,on).cancel({revert:!0}):je(this,on).cancelRetry()),this.scheduleGc()),je(this,as).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nn(this,As,Na).call(this,{type:"invalidate"})}fetch(t,r){var d,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(je(this,on))return je(this,on).continueRetry(),je(this,on).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ht(this,Oo,!0),s.signal)})},i=()=>{const h=v4(this.options,r),b=(()=>{const x={client:je(this,Eo),queryKey:this.queryKey,meta:this.meta};return a(x),x})();return ht(this,Oo,!1),this.options.persister?this.options.persister(h,b,this):h(b)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:je(this,Eo),state:this.state,fetchFn:i};return a(h),h})();(d=this.options.behavior)==null||d.onFetch(l,this),ht(this,Ao,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&nn(this,As,Na).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,b,x,g;kv(h)&&h.silent||nn(this,As,Na).call(this,{type:"error",error:h}),kv(h)||((b=(p=je(this,as).config).onError)==null||b.call(p,h,this),(g=(x=je(this,as).config).onSettled)==null||g.call(x,this.state.data,h,this)),this.scheduleGc()};return ht(this,on,w4({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var p,b,x,g;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(b=(p=je(this,as).config).onSuccess)==null||b.call(p,h,this),(g=(x=je(this,as).config).onSettled)==null||g.call(x,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{nn(this,As,Na).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{nn(this,As,Na).call(this,{type:"pause"})},onContinue:()=>{nn(this,As,Na).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),je(this,on).start()}},uc=new WeakMap,Ao=new WeakMap,as=new WeakMap,Eo=new WeakMap,on=new WeakMap,If=new WeakMap,Oo=new WeakMap,As=new WeakSet,Na=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...ez(s.data,this.options),fetchMeta:t.meta??null};case"success":return ht(this,Ao,void 0),{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return kv(a)&&a.revert&&je(this,Ao)?{...je(this,Ao),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),xn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),je(this,as).notify({query:this,type:"updated",action:t})})},TE);function ez(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:b4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function tz(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Xs,IE,rz=(IE=class extends Rx{constructor(t={}){super();Et(this,Xs);this.config=t,ht(this,Xs,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??$w(a,r);let o=this.get(i);return o||(o=new ZU({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){je(this,Xs).has(t.queryHash)||(je(this,Xs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=je(this,Xs).get(t.queryHash);r&&(t.destroy(),r===t&&je(this,Xs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return je(this,Xs).get(t)}getAll(){return[...je(this,Xs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>GS(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>GS(t,s)):r}notify(t){xn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){xn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xs=new WeakMap,IE),Qs,mn,ko,Js,li,_E,nz=(_E=class extends N4{constructor(t){super();Et(this,Js);Et(this,Qs);Et(this,mn);Et(this,ko);this.mutationId=t.mutationId,ht(this,mn,t.mutationCache),ht(this,Qs,[]),this.state=t.state||sz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){je(this,Qs).includes(t)||(je(this,Qs).push(t),this.clearGcTimeout(),je(this,mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ht(this,Qs,je(this,Qs).filter(r=>r!==t)),this.scheduleGc(),je(this,mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){je(this,Qs).length||(this.state.status==="pending"?this.scheduleGc():je(this,mn).remove(this))}continue(){var t;return((t=je(this,ko))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,d,u,f,h,p,b,x,g,y,v,j,S,w,N,P,C;const r=()=>{nn(this,Js,li).call(this,{type:"continue"})};ht(this,ko,w4({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,D)=>{nn(this,Js,li).call(this,{type:"failed",failureCount:k,error:D})},onPause:()=>{nn(this,Js,li).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>je(this,mn).canRun(this)}));const s=this.state.status==="pending",a=!je(this,ko).canStart();try{if(s)r();else{nn(this,Js,li).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=je(this,mn).config).onMutate)==null?void 0:o.call(i,t,this));const D=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));D!==this.state.context&&nn(this,Js,li).call(this,{type:"pending",context:D,variables:t,isPaused:a})}const k=await je(this,ko).start();return await((u=(d=je(this,mn).config).onSuccess)==null?void 0:u.call(d,k,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,k,t,this.state.context)),await((b=(p=je(this,mn).config).onSettled)==null?void 0:b.call(p,k,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,k,null,t,this.state.context)),nn(this,Js,li).call(this,{type:"success",data:k}),k}catch(k){try{throw await((v=(y=je(this,mn).config).onError)==null?void 0:v.call(y,k,t,this.state.context,this)),await((S=(j=this.options).onError)==null?void 0:S.call(j,k,t,this.state.context)),await((N=(w=je(this,mn).config).onSettled)==null?void 0:N.call(w,void 0,k,this.state.variables,this.state.context,this)),await((C=(P=this.options).onSettled)==null?void 0:C.call(P,void 0,k,t,this.state.context)),k}finally{nn(this,Js,li).call(this,{type:"error",error:k})}}finally{je(this,mn).runNext(this)}}},Qs=new WeakMap,mn=new WeakMap,ko=new WeakMap,Js=new WeakSet,li=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xn.batch(()=>{je(this,Qs).forEach(s=>{s.onMutationUpdate(t)}),je(this,mn).notify({mutation:this,type:"updated",action:t})})},_E);function sz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Aa,Es,_f,RE,az=(RE=class extends Rx{constructor(t={}){super();Et(this,Aa);Et(this,Es);Et(this,_f);this.config=t,ht(this,Aa,new Set),ht(this,Es,new Map),ht(this,_f,0)}build(t,r,s){const a=new nz({mutationCache:this,mutationId:++lh(this,_f)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){je(this,Aa).add(t);const r=Ih(t);if(typeof r=="string"){const s=je(this,Es).get(r);s?s.push(t):je(this,Es).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(je(this,Aa).delete(t)){const r=Ih(t);if(typeof r=="string"){const s=je(this,Es).get(r);if(s)if(s.length>1){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}else s[0]===t&&je(this,Es).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ih(t);if(typeof r=="string"){const s=je(this,Es).get(r),a=s==null?void 0:s.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var s;const r=Ih(t);if(typeof r=="string"){const a=(s=je(this,Es).get(r))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xn.batch(()=>{je(this,Aa).forEach(t=>{this.notify({type:"removed",mutation:t})}),je(this,Aa).clear(),je(this,Es).clear()})}getAll(){return Array.from(je(this,Aa))}find(t){const r={exact:!0,...t};return this.getAll().find(s=>YS(r,s))}findAll(t={}){return this.getAll().filter(r=>YS(t,r))}notify(t){xn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return xn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Cs))))}},Aa=new WeakMap,Es=new WeakMap,_f=new WeakMap,RE);function Ih(e){var t;return(t=e.options.scope)==null?void 0:t.id}function JS(e){return{onFetch:(t,r)=>{var u,f,h,p,b;const s=t.options,a=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const g=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},y=v4(t.options,t.fetchOptions),v=async(j,S,w)=>{if(x)return Promise.reject();if(S==null&&j.pages.length)return Promise.resolve(j);const P=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:S,direction:w?"backward":"forward",meta:t.options.meta};return g(T),T})(),C=await y(P),{maxPages:k}=t.options,D=w?WU:HU;return{pages:D(j.pages,C,k),pageParams:D(j.pageParams,S,k)}};if(a&&i.length){const j=a==="backward",S=j?iz:ZS,w={pages:i,pageParams:o},N=S(s,w);l=await v(w,N,j)}else{const j=e??i.length;do{const S=c===0?o[0]??s.initialPageParam:ZS(s,l);if(c>0&&S==null)break;l=await v(l,S),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var x,g;return(g=(x=t.options).persister)==null?void 0:g.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function ZS(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function iz(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var xr,bi,ji,fc,hc,wi,mc,pc,ME,oz=(ME=class{constructor(e={}){Et(this,xr);Et(this,bi);Et(this,ji);Et(this,fc);Et(this,hc);Et(this,wi);Et(this,mc);Et(this,pc);ht(this,xr,e.queryCache||new rz),ht(this,bi,e.mutationCache||new az),ht(this,ji,e.defaultOptions||{}),ht(this,fc,new Map),ht(this,hc,new Map),ht(this,wi,0)}mount(){lh(this,wi)._++,je(this,wi)===1&&(ht(this,mc,y4.subscribe(async e=>{e&&(await this.resumePausedMutations(),je(this,xr).onFocus())})),ht(this,pc,Gm.subscribe(async e=>{e&&(await this.resumePausedMutations(),je(this,xr).onOnline())})))}unmount(){var e,t;lh(this,wi)._--,je(this,wi)===0&&((e=je(this,mc))==null||e.call(this),ht(this,mc,void 0),(t=je(this,pc))==null||t.call(this),ht(this,pc,void 0))}isFetching(e){return je(this,xr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return je(this,bi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=je(this,xr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=je(this,xr).build(this,t),s=r.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(O0(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return je(this,xr).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=je(this,xr).get(s.queryHash),i=a==null?void 0:a.state.data,o=FU(t,i);if(o!==void 0)return je(this,xr).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return xn.batch(()=>je(this,xr).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=je(this,xr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=je(this,xr);xn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=je(this,xr);return xn.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=xn.batch(()=>je(this,xr).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Cs).catch(Cs)}invalidateQueries(e,t={}){return xn.batch(()=>(je(this,xr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=xn.batch(()=>je(this,xr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Cs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Cs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=je(this,xr).build(this,t);return r.isStaleByTime(O0(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Cs).catch(Cs)}fetchInfiniteQuery(e){return e.behavior=JS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Cs).catch(Cs)}ensureInfiniteQueryData(e){return e.behavior=JS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gm.isOnline()?je(this,bi).resumePausedMutations():Promise.resolve()}getQueryCache(){return je(this,xr)}getMutationCache(){return je(this,bi)}getDefaultOptions(){return je(this,ji)}setDefaultOptions(e){ht(this,ji,e)}setQueryDefaults(e,t){je(this,fc).set(qu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...je(this,fc).values()],r={};return t.forEach(s=>{Hu(e,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(e,t){je(this,hc).set(qu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...je(this,hc).values()],r={};return t.forEach(s=>{Hu(e,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...je(this,ji).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$w(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lw&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...je(this,ji).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){je(this,xr).clear(),je(this,bi).clear()}},xr=new WeakMap,bi=new WeakMap,ji=new WeakMap,fc=new WeakMap,hc=new WeakMap,wi=new WeakMap,mc=new WeakMap,pc=new WeakMap,ME),lz=m.createContext(void 0),cz=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(lz.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Wu.apply(this,arguments)}var Pi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pi||(Pi={}));const e2="popstate";function dz(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return T0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Ym(a)}return fz(t,r,null,e)}function Pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function S4(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uz(){return Math.random().toString(36).substr(2,8)}function t2(e,t){return{usr:e.state,key:e.key,idx:t}}function T0(e,t,r,s){return r===void 0&&(r=null),Wu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cd(t):t,{state:r,key:t&&t.key||s||uz()})}function Ym(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function cd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function fz(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Pi.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Wu({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=Pi.Pop;let g=u(),y=g==null?null:g-d;d=g,c&&c({action:l,location:x.location,delta:y})}function h(g,y){l=Pi.Push;let v=T0(x.location,g,y);d=u()+1;let j=t2(v,d),S=x.createHref(v);try{o.pushState(j,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(S)}i&&c&&c({action:l,location:x.location,delta:1})}function p(g,y){l=Pi.Replace;let v=T0(x.location,g,y);d=u();let j=t2(v,d),S=x.createHref(v);o.replaceState(j,"",S),i&&c&&c({action:l,location:x.location,delta:0})}function b(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof g=="string"?g:Ym(g);return v=v.replace(/ $/,"%20"),Pr(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let x={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(e2,f),c=g,()=>{a.removeEventListener(e2,f),c=null}},createHref(g){return t(a,g)},createURL:b,encodeLocation(g){let y=b(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(g){return o.go(g)}};return x}var r2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(r2||(r2={}));function hz(e,t,r){return r===void 0&&(r="/"),mz(e,t,r,!1)}function mz(e,t,r,s){let a=typeof t=="string"?cd(t):t,i=Fw(a.pathname||"/",r);if(i==null)return null;let o=P4(e);pz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Cz(i);l=Sz(o[c],d,s)}return l}function P4(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Pr(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=Li([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Pr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),P4(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:wz(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of C4(i.path))a(i,o,c)}),t}function C4(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=C4(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function pz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Nz(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const xz=/^:[\w-]+$/,gz=3,vz=2,yz=1,bz=10,jz=-2,n2=e=>e==="*";function wz(e,t){let r=e.split("/"),s=r.length;return r.some(n2)&&(s+=jz),t&&(s+=vz),r.filter(a=>!n2(a)).reduce((a,i)=>a+(xz.test(i)?gz:i===""?yz:bz),s)}function Nz(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function Sz(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=s2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f&&d&&r&&!s[s.length-1].route.index&&(f=s2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Li([i,f.pathname]),pathnameBase:kz(Li([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Li([i,f.pathnameBase]))}return o}function s2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=Pz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const b=l[f];return p&&!b?d[h]=void 0:d[h]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Pz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),S4(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Cz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return S4(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function Az(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?cd(e):e;return{pathname:r?r.startsWith("/")?r:Ez(r,t):t,search:Tz(s),hash:Iz(a)}}function Ez(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Tv(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Oz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Bw(e,t){let r=Oz(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Uw(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=cd(e):(a=Wu({},e),Pr(!a.pathname||!a.pathname.includes("?"),Tv("?","pathname","search",a)),Pr(!a.pathname||!a.pathname.includes("#"),Tv("#","pathname","hash",a)),Pr(!a.search||!a.search.includes("#"),Tv("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Az(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Li=e=>e.join("/").replace(/\/\/+/g,"/"),kz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Tz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Iz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _z(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const A4=["post","put","patch","delete"];new Set(A4);const Rz=["get",...A4];new Set(Rz);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ku.apply(this,arguments)}const zw=m.createContext(null),Mz=m.createContext(null),Xi=m.createContext(null),Dx=m.createContext(null),Qi=m.createContext({outlet:null,matches:[],isDataRoute:!1}),E4=m.createContext(null);function Dz(e,t){let{relative:r}=t===void 0?{}:t;dd()||Pr(!1);let{basename:s,navigator:a}=m.useContext(Xi),{hash:i,pathname:o,search:l}=k4(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:Li([s,o])),a.createHref({pathname:c,search:l,hash:i})}function dd(){return m.useContext(Dx)!=null}function al(){return dd()||Pr(!1),m.useContext(Dx).location}function O4(e){m.useContext(Xi).static||m.useLayoutEffect(e)}function ud(){let{isDataRoute:e}=m.useContext(Qi);return e?Yz():$z()}function $z(){dd()||Pr(!1);let e=m.useContext(zw),{basename:t,future:r,navigator:s}=m.useContext(Xi),{matches:a}=m.useContext(Qi),{pathname:i}=al(),o=JSON.stringify(Bw(a,r.v7_relativeSplatPath)),l=m.useRef(!1);return O4(()=>{l.current=!0}),m.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=Uw(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Li([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,o,i,e])}function k4(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=m.useContext(Xi),{matches:a}=m.useContext(Qi),{pathname:i}=al(),o=JSON.stringify(Bw(a,s.v7_relativeSplatPath));return m.useMemo(()=>Uw(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Lz(e,t){return Fz(e,t)}function Fz(e,t,r,s){dd()||Pr(!1);let{navigator:a}=m.useContext(Xi),{matches:i}=m.useContext(Qi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=al(),u;if(t){var f;let g=typeof t=="string"?cd(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Pr(!1),u=g}else u=d;let h=u.pathname||"/",p=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=hz(e,{pathname:p}),x=qz(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Li([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Li([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,s);return t&&x?m.createElement(Dx.Provider,{value:{location:Ku({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Pi.Pop}},x):x}function Bz(){let e=Gz(),t=_z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:a},r):null,null)}const Uz=m.createElement(Bz,null);class zz extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Qi.Provider,{value:this.props.routeContext},m.createElement(E4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vz(e){let{routeContext:t,match:r,children:s}=e,a=m.useContext(zw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Qi.Provider,{value:t},s)}function qz(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Pr(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:p}=r,b=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,b=!1,x=null,g=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||Uz,c&&(d<0&&h===0?(b=!0,g=null):d===h&&(b=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),v=()=>{let j;return p?j=x:b?j=g:f.route.Component?j=m.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=u,m.createElement(Vz,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(zz,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var T4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(T4||{}),Xm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xm||{});function Hz(e){let t=m.useContext(zw);return t||Pr(!1),t}function Wz(e){let t=m.useContext(Mz);return t||Pr(!1),t}function Kz(e){let t=m.useContext(Qi);return t||Pr(!1),t}function I4(e){let t=Kz(),r=t.matches[t.matches.length-1];return r.route.id||Pr(!1),r.route.id}function Gz(){var e;let t=m.useContext(E4),r=Wz(Xm.UseRouteError),s=I4(Xm.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Yz(){let{router:e}=Hz(T4.UseNavigateStable),t=I4(Xm.UseNavigateStable),r=m.useRef(!1);return O4(()=>{r.current=!0}),m.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ku({fromRouteId:t},i)))},[e,t])}function Xz(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Qz(e){let{to:t,replace:r,state:s,relative:a}=e;dd()||Pr(!1);let{future:i,static:o}=m.useContext(Xi),{matches:l}=m.useContext(Qi),{pathname:c}=al(),d=ud(),u=Uw(t,Bw(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return m.useEffect(()=>d(JSON.parse(f),{replace:r,state:s,relative:a}),[d,f,a,r,s]),null}function qt(e){Pr(!1)}function Jz(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Pi.Pop,navigator:i,static:o=!1,future:l}=e;dd()&&Pr(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Ku({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=cd(s));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:b="default"}=s,x=m.useMemo(()=>{let g=Fw(u,c);return g==null?null:{location:{pathname:g,search:f,hash:h,state:p,key:b},navigationType:a}},[c,u,f,h,p,b,a]);return x==null?null:m.createElement(Xi.Provider,{value:d},m.createElement(Dx.Provider,{children:r,value:x}))}function Zz(e){let{children:t,location:r}=e;return Lz(I0(t),r)}new Promise(()=>{});function I0(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(s,a)=>{if(!m.isValidElement(s))return;let i=[...t,a];if(s.type===m.Fragment){r.push.apply(r,I0(s.props.children,i));return}s.type!==qt&&Pr(!1),!s.props.index||!s.props.children||Pr(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=I0(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_0.apply(this,arguments)}function e9(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function t9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function r9(e,t){return e.button===0&&(!t||t==="_self")&&!t9(e)}const n9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],s9="6";try{window.__reactRouterVersion=s9}catch{}const a9="startTransition",a2=Aj[a9];function i9(e){let{basename:t,children:r,future:s,window:a}=e,i=m.useRef();i.current==null&&(i.current=dz({window:a,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=m.useCallback(f=>{d&&a2?a2(()=>c(f)):c(f)},[c,d]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>Xz(s),[s]),m.createElement(Jz,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const o9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R0=m.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=e9(t,n9),{basename:p}=m.useContext(Xi),b,x=!1;if(typeof d=="string"&&l9.test(d)&&(b=d,o9))try{let j=new URL(window.location.href),S=d.startsWith("//")?new URL(j.protocol+d):new URL(d),w=Fw(S.pathname,p);S.origin===j.origin&&w!=null?d=w+S.search+S.hash:x=!0}catch{}let g=Dz(d,{relative:a}),y=c9(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function v(j){s&&s(j),j.defaultPrevented||y(j)}return m.createElement("a",_0({},h,{href:b||g,onClick:x||i?s:v,ref:r,target:c}))});var i2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(i2||(i2={}));var o2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(o2||(o2={}));function c9(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ud(),d=al(),u=k4(e,{relative:o});return m.useCallback(f=>{if(r9(f,r)){f.preventDefault();let h=s!==void 0?s:Ym(d)===Ym(u);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,r,e,i,o,l])}const d9="http://localhost:5001/api";class u9{constructor(t){Ed(this,"baseURL");Ed(this,"token",null);Ed(this,"requestQueue",new Map);Ed(this,"lastRequestTime",new Map);this.baseURL=t,this.token=localStorage.getItem("token"),window.addEventListener("storage",r=>{r.key==="token"&&(this.token=r.newValue)})}async request(t,r={}){if(this.token||(this.token=localStorage.getItem("token")),!t.includes("/auth/login")&&!t.includes("/auth/register")&&!this.token)throw console.error("No token available for protected endpoint:",t),localStorage.removeItem("medibill_user"),localStorage.removeItem("token"),window.dispatchEvent(new CustomEvent("authRequired",{detail:{message:"Please log in to continue"}})),new Error("Authentication required. Please log in.");const a=`${this.baseURL}${t}`,i=Date.now(),o=this.lastRequestTime.get(t)||0,l=i-o;if(l<1e3&&(console.log(`Throttling request to ${t}, waiting ${1e3-l}ms`),await new Promise(u=>setTimeout(u,1e3-l))),this.requestQueue.has(t))return console.log(`Reusing pending request for ${t}`),this.requestQueue.get(t);console.log("API Request:",{url:a,options:r,token:this.token?"Present":"Missing"});const c={headers:{"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...r.headers},...r};console.log("API Request:",{url:a,options:r,token:this.token?"Present":"Missing"});const d=(async()=>{try{const u=await fetch(a,c);if(console.log("API Response status:",u.status),u.status===429)throw console.warn("Rate limited - too many requests"),new Error("Too many requests. Please wait a moment and try again.");let f;const h=u.headers.get("content-type");if(h&&h.includes("application/json"))f=await u.json();else{const p=await u.text();throw console.log("API Response text:",p),new Error(p||"An error occurred")}if(console.log("API Response data:",f),!u.ok)throw console.error("API Error response:",f),u.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("medibill_user"),this.token=null,f.code==="ACCOUNT_DEACTIVATED"?window.dispatchEvent(new CustomEvent("accountDeactivated",{detail:{message:f.message}})):window.dispatchEvent(new CustomEvent("authRequired",{detail:{message:"Session expired. Please log in again."}}))),new Error(f.message||"An error occurred");return f}catch(u){throw console.error("API Error:",u),u}finally{this.requestQueue.delete(t),this.lastRequestTime.set(t,Date.now())}})();return this.requestQueue.set(t,d),d}async login(t){console.log(" API Service: Starting login request with credentials:",{usernameOrEmail:t.usernameOrEmail});const r=await this.request("/auth/login",{method:"POST",body:JSON.stringify(t)});return console.log(" API Service: Login response received:",r),r.success&&r.data?(console.log(" API Service: Login successful, storing token and user data"),this.token=r.data.token,localStorage.setItem("token",r.data.token),localStorage.setItem("medibill_user",JSON.stringify(r.data.user))):console.log(" API Service: Login failed:",r.message),r}async register(t){const r=await this.request("/auth/register",{method:"POST",body:JSON.stringify(t)});return r.success&&r.data&&(this.token=r.data.token,localStorage.setItem("token",r.data.token),localStorage.setItem("medibill_user",JSON.stringify(r.data.user))),r}async getProfile(){return this.request("/auth/profile")}async getBranches(){return this.request("/branches")}async getProducts(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&r.append(a,i.toString())});const s=r.toString();return this.request(`/products${s?`?${s}`:""}`)}async getProduct(t){return this.request(`/products/${t}`)}async getStockMovements(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&r.append(a,i.toString())});const s=r.toString();return this.request(`/products/stock-movements${s?`?${s}`:""}`)}async createProduct(t){return this.request("/products",{method:"POST",body:JSON.stringify(t)})}async bulkImportProducts(t){return this.request("/products/bulk-import",{method:"POST",body:JSON.stringify({products:t})})}async updateProduct(t,r){return this.request(`/products/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteProduct(t){return this.request(`/products/${t}`,{method:"DELETE"})}async bulkDeleteProducts(t){return this.request("/products/bulk-delete",{method:"POST",body:JSON.stringify({productIds:t})})}async updateStock(t,r){return this.request(`/products/${t}/stock`,{method:"PATCH",body:JSON.stringify(r)})}async getCustomers(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([i,o])=>{o!==void 0&&r.append(i,o.toString())});const s=r.toString(),a=s?`/customers?${s}`:"/customers";return this.request(a)}async createCustomer(t){return this.request("/customers",{method:"POST",body:JSON.stringify(t)})}async createSale(t){return this.request("/sales",{method:"POST",body:JSON.stringify(t)})}async getSales(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&r.append(a,i.toString())});const s=r.toString();return this.request(`/sales${s?`?${s}`:""}`)}async getSale(t){return this.request(`/sales/${t}`)}async getSaleByReceiptNumber(t){return this.request(`/sales/receipt/${t}`)}async getAvailableReceiptNumbers(){return this.request("/sales/receipts")}async getCustomerPurchaseHistory(t,r){const s=new URLSearchParams;r&&Object.entries(r).forEach(([i,o])=>{o!==void 0&&s.append(i,o.toString())});const a=s.toString();return this.request(`/customers/${t}/purchase-history${a?`?${a}`:""}`)}async getSalesReport(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&r.append(a,i.toString())});const s=r.toString();return this.request(`/reports/sales${s?`?${s}`:""}`)}async getInventoryReport(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&r.append(a,i.toString())});const s=r.toString();return this.request(`/reports/inventory${s?`?${s}`:""}`)}async getCustomerReport(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&r.append(a,i.toString())});const s=r.toString();return this.request(`/reports/customers${s?`?${s}`:""}`)}async getProductPerformanceReport(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&r.append(a,i.toString())});const s=r.toString();return this.request(`/reports/products${s?`?${s}`:""}`)}async getAdmins(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&r.append(a,i.toString())});const s=r.toString();return this.request(`/admin${s?`?${s}`:""}`)}async getAdmin(t){return this.request(`/admin/${t}`)}async createAdmin(t){return console.log("API createAdmin called with data:",t),this.request("/admin",{method:"POST",body:JSON.stringify(t)})}async updateAdmin(t,r){return this.request(`/admin/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteAdmin(t){return this.request(`/admin/${t}`,{method:"DELETE"})}async getAdminUsers(t){return this.request(`/admin/${t}/users`)}async getSuperAdminStats(){return this.request("/admin/stats")}async getUsers(t){const r=new URLSearchParams;t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.role&&r.append("role",t.role),t!=null&&t.branchId&&r.append("branchId",t.branchId);const s=r.toString(),a=s?`/users?${s}`:"/users";return this.request(a)}async getUser(t){return this.request(`/users/${t}`)}async createUser(t){return this.request("/users",{method:"POST",body:JSON.stringify(t)})}async updateUser(t,r){return this.request(`/users/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteUser(t){return this.request(`/users/${t}`,{method:"DELETE"})}async getCategories(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&r.append(a,i.toString())});const s=r.toString();return this.request(`/categories${s?`?${s}`:""}`)}async getCategory(t){return this.request(`/categories/${t}`)}async createCategory(t){return this.request("/categories",{method:"POST",body:JSON.stringify(t)})}async updateCategory(t,r){return this.request(`/categories/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteCategory(t){return this.request(`/categories/${t}`,{method:"DELETE"})}async getSuppliers(t){const r=new URLSearchParams;t&&Object.entries(t).forEach(([a,i])=>{i!==void 0&&r.append(a,i.toString())});const s=r.toString();return this.request(`/suppliers${s?`?${s}`:""}`)}async getSupplier(t){return this.request(`/suppliers/${t}`)}async createSupplier(t){return this.request("/suppliers",{method:"POST",body:JSON.stringify(t)})}async updateSupplier(t,r){return this.request(`/suppliers/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteSupplier(t){return this.request(`/suppliers/${t}`,{method:"DELETE"})}async getDashboardStats(t){const r=new URLSearchParams;return t&&r.append("branchId",t),this.request(`/dashboard/stats?${r.toString()}`)}async getSalesChart(t,r="7d",s="day"){const a=new URLSearchParams;return t&&a.append("branchId",t),a.append("period",r),a.append("groupBy",s),this.request(`/dashboard/chart?${a.toString()}`)}async getLowStockProducts(t){const r=new URLSearchParams;return t&&r.append("branchId",t),this.request(`/products/low-stock?${r.toString()}`)}async getAdminDashboardStats(){return this.request("/dashboard/admin-stats")}async getTopSellingProducts(t,r=10){const s=new URLSearchParams;return t&&t!==""&&s.append("branchId",t),s.append("limit",r.toString()),this.request(`/reports/top-products?${s.toString()}`)}async getSalesByPaymentMethod(t){const r=new URLSearchParams;return t&&t!==""&&r.append("branchId",t),this.request(`/reports/payment-methods?${r.toString()}`)}async getDashboardData(t){const r=new URLSearchParams;return t&&t!==""&&r.append("branchId",t),this.request(`/reports/dashboard?${r.toString()}`)}async getEmployees(t){const r=new URLSearchParams;return t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.status&&r.append("status",t.status),t!=null&&t.branchId&&r.append("branchId",t.branchId),(t==null?void 0:t.isActive)!==void 0&&r.append("isActive",t.isActive.toString()),this.request(`/employees?${r.toString()}`)}async getEmployee(t){return this.request(`/employees/${t}`)}async createEmployee(t){return this.request("/employees",{method:"POST",body:JSON.stringify(t)})}async updateEmployee(t,r){return this.request(`/employees/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteEmployee(t){return this.request(`/employees/${t}`,{method:"DELETE"})}async getEmployeeStats(t){const r=new URLSearchParams;return t&&r.append("branchId",t),this.request(`/employees/stats?${r.toString()}`)}async checkIn(t){return this.request("/attendance/check-in",{method:"POST",body:JSON.stringify(t)})}async checkOut(t){return this.request("/attendance/check-out",{method:"POST",body:JSON.stringify(t)})}async getAttendance(t){const r=new URLSearchParams;return t&&Object.entries(t).forEach(([s,a])=>{a!==void 0&&r.append(s,a.toString())}),this.request(`/attendance?${r.toString()}`)}async getTodayAttendance(t){return this.request(`/attendance/today/${t}`)}async getAttendanceStats(t){const r=new URLSearchParams;return t&&Object.entries(t).forEach(([s,a])=>{a!==void 0&&r.append(s,a.toString())}),this.request(`/attendance/stats?${r.toString()}`)}async startShift(t){return this.request("/shifts/start",{method:"POST",body:JSON.stringify(t)})}async endShift(t){return this.request("/shifts/end",{method:"POST",body:JSON.stringify(t)})}async getShifts(t){const r=new URLSearchParams;return t&&Object.entries(t).forEach(([s,a])=>{a!==void 0&&r.append(s,a.toString())}),this.request(`/shifts?${r.toString()}`)}async getActiveShift(t){return this.request(`/shifts/active/${t}`)}async updateShift(t,r){return this.request(`/shifts/${t}`,{method:"PUT",body:JSON.stringify(r)})}async getShiftStats(t){const r=new URLSearchParams;return t&&Object.entries(t).forEach(([s,a])=>{a!==void 0&&r.append(s,a.toString())}),this.request(`/shifts/stats?${r.toString()}`)}async calculateCommission(t){return this.request("/commissions/calculate",{method:"POST",body:JSON.stringify(t)})}async getCommissions(t){const r=new URLSearchParams;return t&&Object.entries(t).forEach(([s,a])=>{a!==void 0&&r.append(s,a.toString())}),this.request(`/commissions?${r.toString()}`)}async getCommission(t){return this.request(`/commissions/${t}`)}async updateCommission(t,r){return this.request(`/commissions/${t}`,{method:"PUT",body:JSON.stringify(r)})}async getCommissionStats(t){const r=new URLSearchParams;return t&&Object.entries(t).forEach(([s,a])=>{a!==void 0&&r.append(s,a.toString())}),this.request(`/commissions/stats?${r.toString()}`)}async getEmployeePerformance(t,r){const s=new URLSearchParams;return r&&Object.entries(r).forEach(([a,i])=>{i!==void 0&&s.append(a,i.toString())}),this.request(`/commissions/performance/${t}?${s.toString()}`)}async getBranch(t){return this.request(`/branches/${t}`)}async createBranch(t){return this.request("/branches",{method:"POST",body:JSON.stringify(t)})}async updateBranch(t,r){return this.request(`/branches/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteBranch(t){return this.request(`/branches/${t}`,{method:"DELETE"})}async getSubscription(){return this.request("/subscription")}async updateSubscription(t){return this.request("/subscription",{method:"PUT",body:JSON.stringify(t)})}async getPaymentMethods(){return this.request("/subscription/payment-methods")}async addPaymentMethod(t){return this.request("/subscription/payment-methods",{method:"POST",body:JSON.stringify(t)})}async setDefaultPaymentMethod(t){return this.request(`/subscription/payment-methods/${t}/default`,{method:"PUT"})}async deletePaymentMethod(t){return this.request(`/subscription/payment-methods/${t}`,{method:"DELETE"})}async getBillingHistory(){return this.request("/subscription/billing-history")}async downloadInvoice(t){return this.request(`/subscription/invoices/${t}/download`)}logout(){this.token=null,localStorage.removeItem("token"),localStorage.removeItem("user")}async createRefund(t){return this.request("/refunds",{method:"POST",body:JSON.stringify(t)})}async getRefunds(t){const r=new URLSearchParams;return t!=null&&t.page&&r.append("page",t.page.toString()),t!=null&&t.limit&&r.append("limit",t.limit.toString()),t!=null&&t.search&&r.append("search",t.search),t!=null&&t.startDate&&r.append("startDate",t.startDate),t!=null&&t.endDate&&r.append("endDate",t.endDate),t!=null&&t.branchId&&r.append("branchId",t.branchId),this.request(`/refunds?${r.toString()}`)}async getRefundById(t){return this.request(`/refunds/${t}`)}}const pe=new u9(d9),_4=m.createContext(void 0),Ji=()=>{const e=m.useContext(_4);if(e===void 0)throw new Error("useAdmin must be used within an AdminProvider");return e},f9=({children:e})=>{const[t,r]=m.useState(null),[s,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(null),d=t&&s.find(h=>h.id===t)||null,u=async()=>{try{o(!0),c(null);const h=await pe.getBranches();if(h.success&&h.data){const p=Array.isArray(h.data)?h.data:h.data.branches;a(p||[])}else c("Failed to load branches")}catch(h){console.error("Error loading branches:",h),c("Failed to load branches")}finally{o(!1)}};m.useEffect(()=>{u()},[]);const f={selectedBranchId:t,setSelectedBranchId:r,allBranches:s,selectedBranch:d,isLoading:i,error:l,refreshBranches:u};return n.jsx(_4.Provider,{value:f,children:e})},R4=m.createContext(void 0),Jt=()=>{const e=m.useContext(R4);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},h9=({children:e})=>{const t=m.useRef(0);t.current++,console.log(`AuthProvider render #${t.current}`);const[r,s]=m.useState(null),[a,i]=m.useState(!1);m.useEffect(()=>{const p=localStorage.getItem("medibill_user"),b=localStorage.getItem("token");if(p&&b)try{const x=JSON.parse(p);s(x),i(!0)}catch(x){console.error("Error parsing saved user data:",x),localStorage.removeItem("medibill_user"),localStorage.removeItem("token")}else localStorage.removeItem("medibill_user"),localStorage.removeItem("token")},[]),m.useEffect(()=>{const p=b=>{l()};return window.addEventListener("authRequired",p),()=>{window.removeEventListener("authRequired",p)}},[]);const o=m.useCallback(p=>{console.log(" AuthContext: Login function called with userData:",p),s(p),i(!0),localStorage.setItem("medibill_user",JSON.stringify(p)),console.log(" AuthContext: User state updated and saved to localStorage")},[]),l=m.useCallback(()=>{s(null),i(!1),localStorage.removeItem("medibill_user"),localStorage.removeItem("token"),window.location.href="/login"},[]),c=(p,b)=>{if(!r)return!1;const y=({PRODUCT_OWNER:{users:["manage"],branches:["manage"],settings:["manage"],integrations:["manage"],backup:["manage"],analytics:["read"],billing:["manage"]},SUPERADMIN:{users:["manage"],employees:["manage"],branches:["manage"],products:["manage"],categories:["manage"],suppliers:["manage"],sales:["manage"],reports:["manage"],dashboard:["read"],settings:["manage"],integrations:["manage"],backup:["manage"],commissions:["manage"],customers:["manage"],refunds:["manage"]},ADMIN:{users:["create","read","update"],employees:["manage"],products:["manage"],categories:["manage"],suppliers:["manage"],sales:["manage"],reports:["read","export"],dashboard:["read"],refunds:["manage"],customers:["manage"],commissions:["read"],settings:["read"],invoices:["read","create","update"],branches:["manage"],subscription:["read","manage"]},MANAGER:{users:["create","read","update"],employees:["manage"],products:["manage"],categories:["manage"],suppliers:["manage"],sales:["create","read","update"],reports:["read","export"],dashboard:["read"],refunds:["read","approve","reject"],customers:["manage"],commissions:["read"],settings:["read"],invoices:["read","create","update"]},PHARMACIST:{products:["read","update"],prescriptions:["manage"],customers:["read","update"],medication_history:["read"],sales:["read","update"],stock_movements:["read","update"],dashboard:["read"],reports:["read"],categories:["read"],invoices:["read"]},CASHIER:{sales:["create","read"],receipts:["create","read"],refunds:["create","read"],products:["read"],customers:["read","create","update"],categories:["read"],dashboard:["read"],reports:["read"],invoices:["read"]}}[r.role]||{})[p]||[];return y.includes(b)||y.includes("manage")},d=p=>r?p.includes(r.role):!1,u=p=>r?({PRODUCT_OWNER:["users","branches","settings","integrations","backup","analytics","billing"],SUPERADMIN:["users","employees","branches","products","categories","suppliers","sales","reports","dashboard","settings","integrations","backup","commissions","customers","refunds","invoices","admin_payments","admin_management"],ADMIN:["users","employees","branches","products","categories","suppliers","sales","reports","dashboard","refunds","customers","commissions","settings","invoices","subscription"],MANAGER:["users","employees","products","categories","suppliers","sales","reports","dashboard","refunds","customers","commissions","settings","invoices"],PHARMACIST:["products","prescriptions","customers","medication_history","sales","stock_movements","dashboard","reports","categories","invoices"],CASHIER:["sales","receipts","refunds","products","customers","categories","dashboard","reports","invoices"]}[r.role]||[]).includes(p):!1,f=()=>{const p=localStorage.getItem("token"),b=localStorage.getItem("medibill_user");return!p||!b?(a&&l(),!1):a&&!!r},h=m.useMemo(()=>({user:r,login:o,logout:l,isAuthenticated:a,hasPermission:c,hasRole:d,canAccess:u,checkAuthStatus:f}),[r,o,l,a,c,d,u,f]);return n.jsx(R4.Provider,{value:h,children:e})},te=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));te.displayName="Card";const Se=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Oe("flex flex-col space-y-1.5 p-6",e),...t}));Se.displayName="CardHeader";const Ae=m.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:Oe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ae.displayName="CardTitle";const M4=m.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:Oe("text-sm text-muted-foreground",e),...t}));M4.displayName="CardDescription";const re=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Oe("p-6 pt-0",e),...t}));re.displayName="CardContent";const m9=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Oe("flex items-center p-6 pt-0",e),...t}));m9.displayName="CardFooter";const p9=sl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-soft hover:shadow-medium",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-soft hover:shadow-medium",outline:"border border-border bg-card hover:bg-muted/50 text-foreground shadow-soft hover:shadow-medium",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-soft",ghost:"hover:bg-muted/50 text-foreground",link:"text-primary underline-offset-4 hover:underline",medical:"bg-gradient-primary text-primary-foreground hover:opacity-90 shadow-medium hover:shadow-strong",accent:"bg-gradient-accent text-accent-foreground hover:opacity-90 shadow-medium hover:shadow-strong",success:"bg-success text-success-foreground hover:bg-success/90 shadow-soft hover:shadow-medium",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-soft hover:shadow-medium"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=m.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?sd:"button";return n.jsx(o,{className:Oe(p9({variant:t,size:r,className:e})),ref:i,...a})});z.displayName="Button";const oe=m.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));oe.displayName="Input";var x9="Label",D4=m.forwardRef((e,t)=>n.jsx(Qe.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));D4.displayName=x9;var $4=D4;const g9=sl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=m.forwardRef(({className:e,...t},r)=>n.jsx($4,{ref:r,className:Oe(g9(),e),...t}));ne.displayName=$4.displayName;const v9=({onLogin:e})=>{const t=ud(),[r,s]=m.useState({usernameOrEmail:"",password:""}),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(""),u=async h=>{h.preventDefault(),l(!0),d("");try{console.log(" Attempting login with:",{usernameOrEmail:r.usernameOrEmail});const p=await pe.login({usernameOrEmail:r.usernameOrEmail,password:r.password});if(console.log(" Login response received:",p),p.success&&p.data){const{user:b}=p.data;console.log(" Login successful, calling onLogin with user:",b),e({id:b.id,name:b.name,role:b.role,branchId:b.branchId}),console.log(" Redirecting to dashboard..."),setTimeout(()=>{t("/")},100)}else console.log(" Login failed:",p.message),d(p.message||"Login failed")}catch(p){console.error(" Login error:",p),d(p instanceof Error?p.message:"Login failed. Please try again.")}finally{l(!1)}},f=(h,p)=>{s(b=>({...b,[h]:p})),c&&d("")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Vr,{className:"w-10 h-10 text-white"})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"MediBill Pulse"}),n.jsx("p",{className:"text-gray-600",children:"Pharmacy Management System"})]}),n.jsxs(te,{className:"shadow-xl border-0",children:[n.jsxs(Se,{className:"text-center pb-4",children:[n.jsx(Ae,{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),n.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),n.jsxs(re,{children:[n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"usernameOrEmail",className:"text-sm font-medium text-gray-700",children:"Username or Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(oe,{id:"usernameOrEmail",type:"text",placeholder:"Enter your username or email",value:r.usernameOrEmail,onChange:h=>f("usernameOrEmail",h.target.value),className:"pl-10 h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(g0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(oe,{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:r.password,onChange:h=>f("password",h.target.value),className:"pl-10 pr-10 h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",required:!0}),n.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?n.jsx(Bu,{className:"w-4 h-4"}):n.jsx(fn,{className:"w-4 h-4"})})]})]}),c&&n.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:n.jsx("p",{className:"text-sm text-red-600",children:c})}),n.jsx(z,{type:"submit",disabled:o,className:"w-full h-12 text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90 transition-opacity",children:o?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Signing in..."})]}):"Sign In"})]}),n.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Demo Credentials:"}),n.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"SuperAdmin:"})," superadmin / password123"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Admin:"})," admin / password123"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Manager:"})," manager / password123"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Cashier:"})," cashier / password123"]}),n.jsx("p",{className:"text-gray-500 mt-2",children:"You can also use email addresses if available"})]})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx("a",{href:"/signup",className:"text-green-600 hover:text-green-700 font-medium underline",children:"Create Admin Account"})]})})]})]}),n.jsx("div",{className:"text-center mt-8",children:n.jsx("p",{className:"text-sm text-gray-500",children:" 2024 MediBill Pulse. All rights reserved."})})]})})},y9=()=>{const e=ud(),[t,r]=m.useState({username:"",email:"",password:"",confirmPassword:"",name:"",branchName:"",branchAddress:"",branchPhone:""}),[s,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(""),[f,h]=m.useState(""),p=async x=>{if(x.preventDefault(),c(!0),u(""),h(""),t.password!==t.confirmPassword){u("Passwords do not match"),c(!1);return}if(t.password.length<6){u("Password must be at least 6 characters long"),c(!1);return}try{const g=await pe.register({username:t.username,email:t.email,password:t.password,name:t.name,role:"ADMIN",branchId:"temp",branchData:{name:t.branchName,address:t.branchAddress,phone:t.branchPhone}});g.success?(h("Admin account created successfully! You can now login."),setTimeout(()=>{e("/login")},2e3)):u(g.message||"Registration failed")}catch(g){console.error("Registration error:",g),u(g instanceof Error?g.message:"Registration failed. Please try again.")}finally{c(!1)}},b=(x,g)=>{r(y=>({...y,[x]:g})),d&&u("")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-2xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Vr,{className:"w-10 h-10 text-white"})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"MediBill Pulse"}),n.jsx("p",{className:"text-gray-600",children:"Admin Registration"})]}),n.jsxs(te,{className:"shadow-xl border-0",children:[n.jsxs(Se,{className:"text-center pb-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(R0,{to:"/login",className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(NT,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),n.jsx(Ae,{className:"text-2xl font-bold text-gray-900",children:"Create Admin Account"}),n.jsx("div",{className:"w-20"})," "]}),n.jsx("p",{className:"text-gray-600",children:"Set up your pharmacy management system"})]}),n.jsxs(re,{children:[n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b border-gray-200 pb-2",children:"Personal Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx(kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(oe,{id:"name",type:"text",placeholder:"Enter your full name",value:t.name,onChange:x=>b("name",x.target.value),className:"pl-10 h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Username *"}),n.jsxs("div",{className:"relative",children:[n.jsx(kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(oe,{id:"username",type:"text",placeholder:"Choose a username",value:t.username,onChange:x=>b("username",x.target.value),className:"pl-10 h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",required:!0})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address *"}),n.jsxs("div",{className:"relative",children:[n.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(oe,{id:"email",type:"email",placeholder:"Enter your email address",value:t.email,onChange:x=>b("email",x.target.value),className:"pl-10 h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",required:!0})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b border-gray-200 pb-2",children:"Security"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx(g0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(oe,{id:"password",type:s?"text":"password",placeholder:"Create a password",value:t.password,onChange:x=>b("password",x.target.value),className:"pl-10 pr-10 h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",required:!0}),n.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?n.jsx(Bu,{className:"w-4 h-4"}):n.jsx(fn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"Confirm Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx(g0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(oe,{id:"confirmPassword",type:i?"text":"password",placeholder:"Confirm your password",value:t.confirmPassword,onChange:x=>b("confirmPassword",x.target.value),className:"pl-10 pr-10 h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",required:!0}),n.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?n.jsx(Bu,{className:"w-4 h-4"}):n.jsx(fn,{className:"w-4 h-4"})})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 border-b border-gray-200 pb-2",children:"Pharmacy Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"branchName",className:"text-sm font-medium text-gray-700",children:"Pharmacy Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx(p0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx(oe,{id:"branchName",type:"text",placeholder:"Enter your pharmacy name",value:t.branchName,onChange:x=>b("branchName",x.target.value),className:"pl-10 h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",required:!0})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"branchAddress",className:"text-sm font-medium text-gray-700",children:"Pharmacy Address *"}),n.jsx(oe,{id:"branchAddress",type:"text",placeholder:"Enter your pharmacy address",value:t.branchAddress,onChange:x=>b("branchAddress",x.target.value),className:"h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"branchPhone",className:"text-sm font-medium text-gray-700",children:"Pharmacy Phone *"}),n.jsx(oe,{id:"branchPhone",type:"tel",placeholder:"Enter your pharmacy phone number",value:t.branchPhone,onChange:x=>b("branchPhone",x.target.value),className:"h-12 border-gray-300 focus:border-green-500 focus:ring-green-500",required:!0})]})]})]}),d&&n.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:n.jsx("p",{className:"text-sm text-red-600",children:d})}),f&&n.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:n.jsx("p",{className:"text-sm text-green-600",children:f})}),n.jsx(z,{type:"submit",disabled:l,className:"w-full h-12 text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90 transition-opacity",children:l?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Creating Account..."})]}):"Create Admin Account"})]}),n.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:n.jsxs("p",{className:"text-xs text-gray-600 text-center",children:["By creating an account, you agree to our terms of service and privacy policy.",n.jsx("br",{}),n.jsx("span",{className:"font-medium",children:"Admin accounts have full access to manage the pharmacy system."})]})})]})]}),n.jsx("div",{className:"text-center mt-8",children:n.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",n.jsx(R0,{to:"/login",className:"text-green-600 hover:text-green-700 font-medium",children:"Sign in here"})]})})]})})},Iv=768;function b9(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Iv-1}px)`),s=()=>{t(window.innerWidth<Iv)};return r.addEventListener("change",s),t(window.innerWidth<Iv),()=>r.removeEventListener("change",s)},[]),!!e}var j9="Separator",l2="horizontal",w9=["horizontal","vertical"],L4=m.forwardRef((e,t)=>{const{decorative:r,orientation:s=l2,...a}=e,i=N9(s)?s:l2,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(Qe.div,{"data-orientation":i,...l,...a,ref:t})});L4.displayName=j9;function N9(e){return w9.includes(e)}var F4=L4;const Vw=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(F4,{ref:a,decorative:r,orientation:t,className:Oe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Vw.displayName=F4.displayName;var _v="focusScope.autoFocusOnMount",Rv="focusScope.autoFocusOnUnmount",c2={bubbles:!1,cancelable:!0},S9="FocusScope",zf=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=Mn(a),u=Mn(i),f=m.useRef(null),h=Ct(t,x=>c(x)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let x=function(j){if(p.paused||!l)return;const S=j.target;l.contains(S)?f.current=S:ci(f.current,{select:!0})},g=function(j){if(p.paused||!l)return;const S=j.relatedTarget;S!==null&&(l.contains(S)||ci(f.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const w of j)w.removedNodes.length>0&&ci(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",g);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",g),v.disconnect()}}},[s,l,p.paused]),m.useEffect(()=>{if(l){u2.add(p);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(_v,c2);l.addEventListener(_v,d),l.dispatchEvent(y),y.defaultPrevented||(P9(k9(B4(l)),{select:!0}),document.activeElement===x&&ci(l))}return()=>{l.removeEventListener(_v,d),setTimeout(()=>{const y=new CustomEvent(Rv,c2);l.addEventListener(Rv,u),l.dispatchEvent(y),y.defaultPrevented||ci(x??document.body,{select:!0}),l.removeEventListener(Rv,u),u2.remove(p)},0)}}},[l,d,u,p]);const b=m.useCallback(x=>{if(!r&&!s||p.paused)return;const g=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(g&&y){const v=x.currentTarget,[j,S]=C9(v);j&&S?!x.shiftKey&&y===S?(x.preventDefault(),r&&ci(j,{select:!0})):x.shiftKey&&y===j&&(x.preventDefault(),r&&ci(S,{select:!0})):y===v&&x.preventDefault()}},[r,s,p.paused]);return n.jsx(Qe.div,{tabIndex:-1,...o,ref:h,onKeyDown:b})});zf.displayName=S9;function P9(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(ci(s,{select:t}),document.activeElement!==r)return}function C9(e){const t=B4(e),r=d2(t,e),s=d2(t.reverse(),e);return[r,s]}function B4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function d2(e,t){for(const r of e)if(!A9(r,{upTo:t}))return r}function A9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function E9(e){return e instanceof HTMLInputElement&&"select"in e}function ci(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&E9(e)&&t&&e.select()}}var u2=O9();function O9(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=f2(e,t),e.unshift(t)},remove(t){var r;e=f2(e,t),(r=e[0])==null||r.resume()}}}function f2(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function k9(e){return e.filter(t=>t.tagName!=="A")}var Mv=0;function $x(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??h2()),document.body.insertAdjacentElement("beforeend",e[1]??h2()),Mv++,()=>{Mv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mv--}},[])}function h2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ea=function(){return ea=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ea.apply(this,arguments)};function U4(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function T9(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var hm="right-scroll-bar-position",mm="width-before-scroll-bar",I9="with-scroll-bars-hidden",_9="--removed-body-scroll-bar-size";function Dv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function R9(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var M9=typeof window<"u"?m.useLayoutEffect:m.useEffect,m2=new WeakMap;function D9(e,t){var r=R9(null,function(s){return e.forEach(function(a){return Dv(a,s)})});return M9(function(){var s=m2.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Dv(l,null)}),i.forEach(function(l){a.has(l)||Dv(l,o)})}m2.set(r,e)},[e]),r}function $9(e){return e}function L9(e,t){t===void 0&&(t=$9);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function F9(e){e===void 0&&(e={});var t=L9(null);return t.options=ea({async:!0,ssr:!1},e),t}var z4=function(e){var t=e.sideCar,r=U4(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,ea({},r))};z4.isSideCarExport=!0;function B9(e,t){return e.useMedium(t),z4}var V4=F9(),$v=function(){},Lx=m.forwardRef(function(e,t){var r=m.useRef(null),s=m.useState({onScrollCapture:$v,onWheelCapture:$v,onTouchMoveCapture:$v}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,b=e.noIsolation,x=e.inert,g=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,j=e.gapMode,S=U4(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,N=D9([r,t]),P=ea(ea({},S),a);return m.createElement(m.Fragment,null,u&&m.createElement(w,{sideCar:V4,removeScrollBar:d,shards:f,noRelative:p,noIsolation:b,inert:x,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:j}),o?m.cloneElement(m.Children.only(l),ea(ea({},P),{ref:N})):m.createElement(v,ea({},P,{className:c,ref:N}),l))});Lx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lx.classNames={fullWidth:mm,zeroRight:hm};var U9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function z9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=U9();return t&&e.setAttribute("nonce",t),e}function V9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function q9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var H9=function(){var e=0,t=null;return{add:function(r){e==0&&(t=z9())&&(V9(t,r),q9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},W9=function(){var e=H9();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},q4=function(){var e=W9(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},K9={left:0,top:0,right:0,gap:0},Lv=function(e){return parseInt(e||"",10)||0},G9=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Lv(r),Lv(s),Lv(a)]},Y9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return K9;var t=G9(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},X9=q4(),nc="data-scroll-locked",Q9=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(I9,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(nc,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hm,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(mm,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(hm," .").concat(hm,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(mm," .").concat(mm,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(nc,`] {
    `).concat(_9,": ").concat(l,`px;
  }
`)},p2=function(){var e=parseInt(document.body.getAttribute(nc)||"0",10);return isFinite(e)?e:0},J9=function(){m.useEffect(function(){return document.body.setAttribute(nc,(p2()+1).toString()),function(){var e=p2()-1;e<=0?document.body.removeAttribute(nc):document.body.setAttribute(nc,e.toString())}},[])},Z9=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;J9();var i=m.useMemo(function(){return Y9(a)},[a]);return m.createElement(X9,{styles:Q9(i,!t,a,r?"":"!important")})},M0=!1;if(typeof window<"u")try{var _h=Object.defineProperty({},"passive",{get:function(){return M0=!0,!0}});window.addEventListener("test",_h,_h),window.removeEventListener("test",_h,_h)}catch{M0=!1}var vl=M0?{passive:!1}:!1,e7=function(e){return e.tagName==="TEXTAREA"},H4=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!e7(e)&&r[t]==="visible")},t7=function(e){return H4(e,"overflowY")},r7=function(e){return H4(e,"overflowX")},x2=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=W4(e,s);if(a){var i=K4(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},n7=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},s7=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},W4=function(e,t){return e==="v"?t7(t):r7(t)},K4=function(e,t){return e==="v"?n7(t):s7(t)},a7=function(e,t){return e==="h"&&t==="rtl"?-1:1},i7=function(e,t,r,s,a){var i=a7(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,h=0;do{if(!l)break;var p=K4(e,l),b=p[0],x=p[1],g=p[2],y=x-g-i*b;(b||y)&&W4(e,l)&&(f+=y,h+=b);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(d=!0),d},Rh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},g2=function(e){return[e.deltaX,e.deltaY]},v2=function(e){return e&&"current"in e?e.current:e},o7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},l7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},c7=0,yl=[];function d7(e){var t=m.useRef([]),r=m.useRef([0,0]),s=m.useRef(),a=m.useState(c7++)[0],i=m.useState(q4)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=T9([e.lockRef.current],(e.shards||[]).map(v2),!0).filter(Boolean);return x.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,g){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var y=Rh(x),v=r.current,j="deltaX"in x?x.deltaX:v[0]-y[0],S="deltaY"in x?x.deltaY:v[1]-y[1],w,N=x.target,P=Math.abs(j)>Math.abs(S)?"h":"v";if("touches"in x&&P==="h"&&N.type==="range")return!1;var C=x2(P,N);if(!C)return!0;if(C?w=P:(w=P==="v"?"h":"v",C=x2(P,N)),!C)return!1;if(!s.current&&"changedTouches"in x&&(j||S)&&(s.current=w),!w)return!0;var k=s.current||w;return i7(k,g,x,k==="h"?j:S,!0)},[]),c=m.useCallback(function(x){var g=x;if(!(!yl.length||yl[yl.length-1]!==i)){var y="deltaY"in g?g2(g):Rh(g),v=t.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&o7(w.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var j=(o.current.shards||[]).map(v2).filter(Boolean).filter(function(w){return w.contains(g.target)}),S=j.length>0?l(g,j[0]):!o.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),d=m.useCallback(function(x,g,y,v){var j={name:x,delta:g,target:y,should:v,shadowParent:u7(y)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(S){return S!==j})},1)},[]),u=m.useCallback(function(x){r.current=Rh(x),s.current=void 0},[]),f=m.useCallback(function(x){d(x.type,g2(x),x.target,l(x,e.lockRef.current))},[]),h=m.useCallback(function(x){d(x.type,Rh(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return yl.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,vl),document.addEventListener("touchmove",c,vl),document.addEventListener("touchstart",u,vl),function(){yl=yl.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,vl),document.removeEventListener("touchmove",c,vl),document.removeEventListener("touchstart",u,vl)}},[]);var p=e.removeScrollBar,b=e.inert;return m.createElement(m.Fragment,null,b?m.createElement(i,{styles:l7(a)}):null,p?m.createElement(Z9,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function u7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const f7=B9(V4,d7);var Vf=m.forwardRef(function(e,t){return m.createElement(Lx,ea({},e,{ref:t,sideCar:f7}))});Vf.classNames=Lx.classNames;var h7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},bl=new WeakMap,Mh=new WeakMap,Dh={},Fv=0,G4=function(e){return e&&(e.host||G4(e.parentNode))},m7=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=G4(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},p7=function(e,t,r,s){var a=m7(t,Array.isArray(e)?e:[e]);Dh[r]||(Dh[r]=new WeakMap);var i=Dh[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(s),b=p!==null&&p!=="false",x=(bl.get(h)||0)+1,g=(i.get(h)||0)+1;bl.set(h,x),i.set(h,g),o.push(h),x===1&&b&&Mh.set(h,!0),g===1&&h.setAttribute(r,"true"),b||h.setAttribute(s,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(t),l.clear(),Fv++,function(){o.forEach(function(f){var h=bl.get(f)-1,p=i.get(f)-1;bl.set(f,h),i.set(f,p),h||(Mh.has(f)||f.removeAttribute(s),Mh.delete(f)),p||f.removeAttribute(r)}),Fv--,Fv||(bl=new WeakMap,bl=new WeakMap,Mh=new WeakMap,Dh={})}},Fx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=h7(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),p7(s,a,r,"aria-hidden")):function(){return null}},Bx="Dialog",[Y4,Xbe]=vs(Bx),[x7,qs]=Y4(Bx),X4=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d,u]=ha({prop:s,defaultProp:a??!1,onChange:i,caller:Bx});return n.jsx(x7,{scope:t,triggerRef:l,contentRef:c,contentId:Kr(),titleId:Kr(),descriptionId:Kr(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};X4.displayName=Bx;var Q4="DialogTrigger",J4=m.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=qs(Q4,r),i=Ct(t,a.triggerRef);return n.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ww(a.open),...s,ref:i,onClick:Fe(e.onClick,a.onOpenToggle)})});J4.displayName=Q4;var qw="DialogPortal",[g7,Z4]=Y4(qw,{forceMount:void 0}),eI=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=qs(qw,t);return n.jsx(g7,{scope:t,forceMount:r,children:m.Children.map(s,o=>n.jsx(ts,{present:r||i.open,children:n.jsx(ad,{asChild:!0,container:a,children:o})}))})};eI.displayName=qw;var Qm="DialogOverlay",tI=m.forwardRef((e,t)=>{const r=Z4(Qm,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=qs(Qm,e.__scopeDialog);return i.modal?n.jsx(ts,{present:s||i.open,children:n.jsx(y7,{...a,ref:t})}):null});tI.displayName=Qm;var v7=zi("DialogOverlay.RemoveScroll"),y7=m.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=qs(Qm,r);return n.jsx(Vf,{as:v7,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Qe.div,{"data-state":Ww(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Vo="DialogContent",rI=m.forwardRef((e,t)=>{const r=Z4(Vo,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=qs(Vo,e.__scopeDialog);return n.jsx(ts,{present:s||i.open,children:i.modal?n.jsx(b7,{...a,ref:t}):n.jsx(j7,{...a,ref:t})})});rI.displayName=Vo;var b7=m.forwardRef((e,t)=>{const r=qs(Vo,e.__scopeDialog),s=m.useRef(null),a=Ct(t,r.contentRef,s);return m.useEffect(()=>{const i=s.current;if(i)return Fx(i)},[]),n.jsx(nI,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Fe(e.onFocusOutside,i=>i.preventDefault())})}),j7=m.forwardRef((e,t)=>{const r=qs(Vo,e.__scopeDialog),s=m.useRef(!1),a=m.useRef(!1);return n.jsx(nI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),nI=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=qs(Vo,r),c=m.useRef(null),d=Ct(t,c);return $x(),n.jsxs(n.Fragment,{children:[n.jsx(zf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(nl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ww(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(w7,{titleId:l.titleId}),n.jsx(S7,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Hw="DialogTitle",sI=m.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=qs(Hw,r);return n.jsx(Qe.h2,{id:a.titleId,...s,ref:t})});sI.displayName=Hw;var aI="DialogDescription",iI=m.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=qs(aI,r);return n.jsx(Qe.p,{id:a.descriptionId,...s,ref:t})});iI.displayName=aI;var oI="DialogClose",lI=m.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=qs(oI,r);return n.jsx(Qe.button,{type:"button",...s,ref:t,onClick:Fe(e.onClick,()=>a.onOpenChange(!1))})});lI.displayName=oI;function Ww(e){return e?"open":"closed"}var cI="DialogTitleWarning",[Qbe,dI]=N6(cI,{contentName:Vo,titleName:Hw,docsSlug:"dialog"}),w7=({titleId:e})=>{const t=dI(cI),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},N7="DialogDescriptionWarning",S7=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dI(N7).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},Kw=X4,P7=J4,Gw=eI,qf=tI,Hf=rI,Ux=sI,zx=iI,uI=lI;const C7=Kw,A7=Gw,fI=m.forwardRef(({className:e,...t},r)=>n.jsx(qf,{className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));fI.displayName=qf.displayName;const E7=sl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),hI=m.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(A7,{children:[n.jsx(fI,{}),n.jsxs(Hf,{ref:a,className:Oe(E7({side:e}),t),...s,children:[r,n.jsxs(uI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(ta,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hI.displayName=Hf.displayName;const O7=m.forwardRef(({className:e,...t},r)=>n.jsx(Ux,{ref:r,className:Oe("text-lg font-semibold text-foreground",e),...t}));O7.displayName=Ux.displayName;const k7=m.forwardRef(({className:e,...t},r)=>n.jsx(zx,{ref:r,className:Oe("text-sm text-muted-foreground",e),...t}));k7.displayName=zx.displayName;function y2({className:e,...t}){return n.jsx("div",{className:Oe("animate-pulse rounded-md bg-muted",e),...t})}const T7="sidebar:state",I7=60*60*24*7,_7="16rem",R7="18rem",M7="3rem",D7="b",mI=m.createContext(null);function Vx(){const e=m.useContext(mI);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const pI=m.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:s,style:a,children:i,...o},l)=>{const c=b9(),[d,u]=m.useState(!1),[f,h]=m.useState(e),p=t??f,b=m.useCallback(v=>{const j=typeof v=="function"?v(p):v;r?r(j):h(j),document.cookie=`${T7}=${j}; path=/; max-age=${I7}`},[r,p]),x=m.useCallback(()=>c?u(v=>!v):b(v=>!v),[c,b,u]);m.useEffect(()=>{const v=j=>{j.key===D7&&(j.metaKey||j.ctrlKey)&&(j.preventDefault(),x())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[x]);const g=p?"expanded":"collapsed",y=m.useMemo(()=>({state:g,open:p,setOpen:b,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:x}),[g,p,b,c,d,u,x]);return n.jsx(mI.Provider,{value:y,children:n.jsx(p4,{delayDuration:0,children:n.jsx("div",{style:{"--sidebar-width":_7,"--sidebar-width-icon":M7,...a},className:Oe("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:l,...o,children:i})})})});pI.displayName="SidebarProvider";const $7=m.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:s,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=Vx();return r==="none"?n.jsx("div",{className:Oe("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:o,...i,children:a}):l?n.jsx(C7,{open:d,onOpenChange:u,...i,children:n.jsx(hI,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":R7},side:e,children:n.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):n.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[n.jsx("div",{className:Oe("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),n.jsx("div",{className:Oe("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...i,children:n.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});$7.displayName="Sidebar";const xI=m.forwardRef(({className:e,onClick:t,...r},s)=>{const{toggleSidebar:a}=Vx();return n.jsxs(z,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Oe("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...r,children:[n.jsx(IF,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});xI.displayName="SidebarTrigger";const L7=m.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:s}=Vx();return n.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:Oe("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});L7.displayName="SidebarRail";const F7=m.forwardRef(({className:e,...t},r)=>n.jsx("main",{ref:r,className:Oe("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));F7.displayName="SidebarInset";const B7=m.forwardRef(({className:e,...t},r)=>n.jsx(oe,{ref:r,"data-sidebar":"input",className:Oe("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));B7.displayName="SidebarInput";const U7=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"header",className:Oe("flex flex-col gap-2 p-2",e),...t}));U7.displayName="SidebarHeader";const z7=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"footer",className:Oe("flex flex-col gap-2 p-2",e),...t}));z7.displayName="SidebarFooter";const V7=m.forwardRef(({className:e,...t},r)=>n.jsx(Vw,{ref:r,"data-sidebar":"separator",className:Oe("mx-2 w-auto bg-sidebar-border",e),...t}));V7.displayName="SidebarSeparator";const q7=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"content",className:Oe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));q7.displayName="SidebarContent";const H7=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"group",className:Oe("relative flex w-full min-w-0 flex-col p-2",e),...t}));H7.displayName="SidebarGroup";const W7=m.forwardRef(({className:e,asChild:t=!1,...r},s)=>{const a=t?sd:"div";return n.jsx(a,{ref:s,"data-sidebar":"group-label",className:Oe("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});W7.displayName="SidebarGroupLabel";const K7=m.forwardRef(({className:e,asChild:t=!1,...r},s)=>{const a=t?sd:"button";return n.jsx(a,{ref:s,"data-sidebar":"group-action",className:Oe("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});K7.displayName="SidebarGroupAction";const G7=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"group-content",className:Oe("w-full text-sm",e),...t}));G7.displayName="SidebarGroupContent";const Y7=m.forwardRef(({className:e,...t},r)=>n.jsx("ul",{ref:r,"data-sidebar":"menu",className:Oe("flex w-full min-w-0 flex-col gap-1",e),...t}));Y7.displayName="SidebarMenu";const X7=m.forwardRef(({className:e,...t},r)=>n.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Oe("group/menu-item relative",e),...t}));X7.displayName="SidebarMenuItem";const Q7=sl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),J7=m.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:s="default",tooltip:a,className:i,...o},l)=>{const c=e?sd:"button",{isMobile:d,state:u}=Vx(),f=n.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":s,"data-active":t,className:Oe(Q7({variant:r,size:s}),i),...o});return a?(typeof a=="string"&&(a={children:a}),n.jsxs($U,{children:[n.jsx(LU,{asChild:!0,children:f}),n.jsx(x4,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):f});J7.displayName="SidebarMenuButton";const Z7=m.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...s},a)=>{const i=t?sd:"button";return n.jsx(i,{ref:a,"data-sidebar":"menu-action",className:Oe("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...s})});Z7.displayName="SidebarMenuAction";const eV=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Oe("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));eV.displayName="SidebarMenuBadge";const tV=m.forwardRef(({className:e,showIcon:t=!1,...r},s)=>{const a=m.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return n.jsxs("div",{ref:s,"data-sidebar":"menu-skeleton",className:Oe("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&n.jsx(y2,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),n.jsx(y2,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});tV.displayName="SidebarMenuSkeleton";const rV=m.forwardRef(({className:e,...t},r)=>n.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Oe("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));rV.displayName="SidebarMenuSub";const nV=m.forwardRef(({...e},t)=>n.jsx("li",{ref:t,...e}));nV.displayName="SidebarMenuSubItem";const sV=m.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:s,...a},i)=>{const o=e?sd:"a";return n.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:Oe("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s),...a})});sV.displayName="SidebarMenuSubButton";const D0=({children:e,roles:t=[],resource:r,action:s,fallback:a=null,requireAll:i=!1})=>{const{user:o,hasRole:l,hasPermission:c,canAccess:d}=Jt();if(!o)return n.jsx(n.Fragment,{children:a});if(t.length>0){const u=i?t.every(f=>l([f])):l(t);if(t.includes("SUPERADMIN")&&console.log(" RoleGuard Debug - Roles:",t,"User role:",o.role,"Has required role:",u),!u)return n.jsx(n.Fragment,{children:a})}if(r){const u=d(r);if((r==="admin_payments"||r==="admin_management")&&console.log(" RoleGuard Resource Debug - Resource:",r,"Can access:",u,"User role:",o.role),(r==="refunds"||r==="sales")&&console.log(` ${r.toUpperCase()} RoleGuard Debug - Resource:`,r,"Action:",s,"Can access:",u,"User role:",o.role),!u)return n.jsx(n.Fragment,{children:a});if(s&&!c(r,s))return n.jsx(n.Fragment,{children:a})}return n.jsx(n.Fragment,{children:e})},aV=[{name:"Dashboard",href:"/",icon:EF,roles:["MANAGER","ADMIN","SUPERADMIN"],resource:"dashboard",action:"read"},{name:"Inventory",href:"/inventory",icon:cr,roles:["CASHIER","MANAGER","ADMIN","SUPERADMIN"],resource:"products",action:"read"},{name:"POS",href:"/pos",icon:qr,roles:["CASHIER","MANAGER","ADMIN","SUPERADMIN"],resource:"sales",action:"create"},{name:"Refunds",href:"/refunds",icon:ds,roles:["CASHIER","MANAGER","ADMIN","SUPERADMIN"],resource:"refunds",action:"read"},{name:"Invoices",href:"/invoices",icon:CT,roles:["CASHIER","MANAGER","ADMIN","SUPERADMIN"],resource:"invoices",action:"read"},{name:"Customers",href:"/customers",icon:yt,roles:["CASHIER","MANAGER","ADMIN","SUPERADMIN"],resource:"customers",action:"read"},{name:"Prescriptions",href:"/prescriptions",icon:Nc,roles:["ADMIN"],resource:"prescriptions",action:"read"},{name:"Reports",href:"/reports",icon:Kn,roles:["MANAGER","ADMIN"],resource:"reports",action:"read"},{name:"User Management",href:"/admin/users",icon:ec,roles:["ADMIN","SUPERADMIN"],resource:"users",action:"read"},{name:"Cashier Management",href:"/manager/users",icon:ec,roles:["MANAGER"],resource:"users",action:"read"},{name:"Branch Management",href:"/admin/branches",icon:Wt,roles:["ADMIN"],resource:"branches",action:"manage"},{name:"Subscription",href:"/admin/subscription",icon:En,roles:["ADMIN","MANAGER"],resource:"subscription",action:"read"},{name:"Admin Payment",href:"/superadmin/payments",icon:En,roles:["SUPERADMIN"]},{name:"Admin Management",href:"/superadmin/admins",icon:ec,roles:["SUPERADMIN"]},{name:"Settings",href:"/settings",icon:_o,roles:["ADMIN","SUPERADMIN"],resource:"settings",action:"read"}],iV=({item:e})=>{const r=al().pathname===e.href;return(e.name==="Admin Payment"||e.name==="Admin Management")&&console.log(" Debug NavItem:",e.name,"Roles:",e.roles,"Resource:",e.resource),n.jsx(D0,{roles:e.roles,resource:e.resource,action:e.action,children:n.jsxs(R0,{to:e.href,className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${r?"bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] text-white":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[n.jsx(e.icon,{className:"w-5 h-5 mr-3"}),e.name]})})},oV=()=>{const{user:e,logout:t}=Jt();return console.log(" RoleBasedSidebar: User:",e),console.log(" RoleBasedSidebar: User role:",e==null?void 0:e.role),e?n.jsxs("div",{className:"fixed left-0 top-0 h-screen w-64 bg-background border-r border-border flex flex-col z-50",children:[n.jsx("div",{className:"flex items-center px-4 py-6",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8  rounded-lg flex items-center justify-center",children:n.jsx("img",{alt:"logo",src:"/public/images/pos_logo.png"})}),n.jsx("div",{children:n.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"NextBill"})})]})}),n.jsx("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:aV.map(r=>((r.name==="Refunds"||r.name==="POS")&&console.log(` ${r.name.toUpperCase()} Sidebar Debug:`,{itemName:r.name,roles:r.roles,resource:r.resource,action:r.action,userRole:e.role}),n.jsx(iV,{item:r},r.name)))}),n.jsxs("div",{className:"p-4 border-t border-border",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:e.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:e.name}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.role})]})]}),n.jsxs("button",{onClick:t,className:"w-full flex items-center px-3 py-2 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",children:[n.jsx(Sx,{className:"w-4 h-4 mr-3"}),"Logout"]})]})]}):null},tr=({children:e})=>{const{user:t,logout:r}=Jt(),{selectedBranch:s,selectedBranchId:a}=Ji(),[i,o]=m.useState(new Date);return m.useRef(null),n.jsx(pI,{children:n.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[n.jsx(oV,{}),n.jsxs("div",{className:"flex-1 flex flex-col ml-64",children:[n.jsxs("header",{className:"h-14 flex items-center justify-between px-6 border-b border-border bg-card",children:[n.jsxs("div",{className:"flex  items-center ",children:[n.jsx(xI,{className:"lg:hidden",children:n.jsx(OF,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-5 h-5 text-primary"}),n.jsx("div",{children:n.jsx("h1",{className:"text-lg font-semibold text-foreground",children:a?s==null?void 0:s.name:"Admin Dashboard"})})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"text-right text-sm",children:[n.jsx("p",{className:"text-foreground font-medium",children:i.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),n.jsx("p",{className:"text-muted-foreground text-xs",children:i.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(kr,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-foreground",children:t==null?void 0:t.name}),n.jsxs("span",{className:"text-muted-foreground",children:["(",t==null?void 0:t.role,")"]})]}),n.jsx(z,{variant:"ghost",size:"sm",children:n.jsx(yF,{className:"w-5 h-5"})}),n.jsx(z,{variant:"ghost",size:"sm",onClick:r,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(Sx,{className:"w-4 h-4"})})]})]}),n.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})})},lV=sl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,...r}){return n.jsx("div",{className:Oe(lV({variant:t}),e),...r})}const it=Kw,jn=P7,cV=Gw,gI=m.forwardRef(({className:e,...t},r)=>n.jsx(qf,{ref:r,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));gI.displayName=qf.displayName;const nt=m.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(cV,{children:[n.jsx(gI,{}),n.jsxs(Hf,{ref:s,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(uI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ta,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nt.displayName=Hf.displayName;const st=({className:e,...t})=>n.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});st.displayName="DialogHeader";const Hr=({className:e,...t})=>n.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hr.displayName="DialogFooter";const at=m.forwardRef(({className:e,...t},r)=>n.jsx(Ux,{ref:r,className:Oe("text-lg font-semibold leading-none tracking-tight",e),...t}));at.displayName=Ux.displayName;const Mt=m.forwardRef(({className:e,...t},r)=>n.jsx(zx,{ref:r,className:Oe("text-sm text-muted-foreground",e),...t}));Mt.displayName=zx.displayName;const dV=()=>{var Pn,Ln,xl;const{user:e}=Jt(),{selectedBranchId:t,selectedBranch:r,allBranches:s}=Ji(),[a,i]=m.useState([]),[o,l]=m.useState(""),[c,d]=m.useState("cash"),[u,f]=m.useState("all"),[h,p]=m.useState(null),[b,x]=m.useState(!1),[g,y]=m.useState(!1),[v,j]=m.useState(null);m.useState(null);const[S,w]=m.useState(""),[N,P]=m.useState(0);m.useState("pending");const[C,k]=m.useState(!1),[D,T]=m.useState({name:"",phone:"",email:"",address:""}),[R,q]=m.useState(!1),[$,B]=m.useState({name:"",phone:"",email:"",address:""}),[I,L]=m.useState([]),[E,_]=m.useState(""),[O,M]=m.useState(!1),[A,U]=m.useState(""),[ee,V]=m.useState([]),[X,Q]=m.useState(""),[le,H]=m.useState(0);m.useState([]),m.useState(!1);const[ce,se]=m.useState(!1),[Y,Ee]=m.useState(""),[ye,J]=m.useState(""),[ke,Me]=m.useState([]);m.useState(""),m.useState(0),m.useState(0);const[Le,Te]=m.useState(null),[mt,ct]=m.useState(!1);m.useState(!1),F.useEffect(()=>{const W=localStorage.getItem("selectedCustomer");if(W)try{const ae=JSON.parse(W);p(ae),localStorage.removeItem("selectedCustomer")}catch(ae){console.error("Error loading customer:",ae)}},[]);const[Ye,ut]=m.useState([]),[_t,Vt]=m.useState(["all","General Medicine"]),[xe,Z]=m.useState(!1);F.useEffect(()=>{console.log(" POS useEffect triggered"),console.log(" User in useEffect:",e),(async()=>{try{const rt=localStorage.getItem("token");if(rt){console.log(" Token found, loading products immediately");let br;(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPERADMIN"?t?(br=t,console.log(" Admin selected specific branch (immediate):",r==null?void 0:r.name)):console.log(" Admin viewing all branches - loading all products (immediate)"):(br=(e==null?void 0:e.branchId)||"cmfprkvh6000t7yyp8q2197xa",console.log(" Regular user branch (immediate):",br));const pr=br?`http://localhost:5001/api/products?limit=1000&branchId=${br}`:"http://localhost:5001/api/products?limit=1000",Ft=await(await fetch(pr,{headers:{Authorization:`Bearer ${rt}`,"Content-Type":"application/json"}})).json();if(console.log(" Immediate products response:",Ft),Ft.success&&Ft.data&&Ft.data.products){const ba=Ft.data.products.map(hn=>{var oh;return{id:hn.id,name:hn.name,price:hn.sellingPrice,stock:hn.stock,unitType:hn.unitType,category:((oh=hn.category)==null?void 0:oh.name)||"No Category",requiresPrescription:hn.requiresPrescription,barcode:hn.barcode}});console.log(" Setting products immediately:",ba),ut(ba)}}}catch(rt){console.error(" Error loading products immediately:",rt)}})(),e?(console.log(" User available, calling loadProducts"),Pe()):console.log(" User not available yet"),(async()=>{try{const rt=localStorage.getItem("token"),pr=await(await fetch("http://localhost:5001/api/categories",{headers:{Authorization:`Bearer ${rt}`,"Content-Type":"application/json"}})).json();if(pr.success&&pr.data&&pr.data.categories){let pt;(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPERADMIN"?t?(pt=t,console.log(" Admin selected specific branch for categories (simple):",r==null?void 0:r.name)):console.log(" Admin viewing all branches - loading all categories (simple)"):(pt=(e==null?void 0:e.branchId)||"cmfprkvh6000t7yyp8q2197xa",console.log(" Regular user branch for categories (simple):",pt));const Ft=pt?`http://localhost:5001/api/products?branchId=${pt}&limit=1000`:"http://localhost:5001/api/products?limit=1000",hn=await(await fetch(Ft,{headers:{Authorization:`Bearer ${rt}`,"Content-Type":"application/json"}})).json();if(hn.success&&hn.data&&hn.data.products){const oh=new Set(hn.data.products.map(Ad=>Ad.categoryId)),z3=pr.data.categories.filter(Ad=>oh.has(Ad.id)).map(Ad=>Ad.name),V3=["all",...Array.from(new Set(z3))];Vt(V3)}else Vt(["all"])}}catch(rt){console.error("Error loading categories:",rt),Vt(["all"])}})();const ve=()=>{Pe()},qe=rt=>{console.log(" POS Real-time product change received:",rt.detail);const{action:br,product:pr}=rt.detail;br==="created"?ut(pt=>[pr,...pt]):br==="updated"?ut(pt=>pt.map(Ft=>Ft.id===pr.id?pr:Ft)):br==="deleted"&&ut(pt=>pt.filter(Ft=>Ft.id!==pr.id))},Xe=rt=>{console.log(" POS Real-time inventory change received:",rt.detail);const{action:br,data:pr}=rt.detail;br==="product_added"?ut(pt=>[pr,...pt]):br==="product_removed"?ut(pt=>pt.filter(Ft=>Ft.id!==pr.id)):br==="stock_updated"&&ut(pt=>pt.map(Ft=>Ft.id===pr.productId?{...Ft,stock:pr.newStock}:Ft))};return window.addEventListener("productCreated",ve),window.addEventListener("productUpdated",ve),window.addEventListener("productDeleted",ve),window.addEventListener("productChanged",qe),window.addEventListener("inventoryChanged",Xe),()=>{window.removeEventListener("productCreated",ve),window.removeEventListener("productUpdated",ve),window.removeEventListener("productDeleted",ve),window.removeEventListener("productChanged",qe),window.removeEventListener("inventoryChanged",Xe)}},[e,t]);const Pe=async()=>{try{console.log(" POS loadProducts called"),console.log(" User context:",{id:e==null?void 0:e.id,role:e==null?void 0:e.role,branchId:e==null?void 0:e.branchId,adminId:e==null?void 0:e.adminId}),console.log(" Admin context:",{selectedBranchId:t,selectedBranch:r==null?void 0:r.name}),Z(!0);let W;(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPERADMIN"?t?(W=t,console.log(" Admin selected specific branch:",r==null?void 0:r.name)):console.log(" Admin viewing all branches - loading all products"):(W=(e==null?void 0:e.branchId)||"cmfprkvh6000t7yyp8q2197xa",console.log(" Regular user branch:",W));let ae;try{const ve={limit:1e3};W&&(ve.branchId=W),ae=await pe.getProducts(ve)}catch{const qe=localStorage.getItem("token"),Xe=W?`http://localhost:5001/api/products?limit=1000&branchId=${W}`:"http://localhost:5001/api/products?limit=1000";ae=await(await fetch(Xe,{headers:{Authorization:`Bearer ${qe}`,"Content-Type":"application/json"}})).json()}if(console.log(" API Response:",ae),ae.success&&ae.data){const ve=ae.data.products||ae.data;if(console.log(" Products array:",ve),console.log(" Products array length:",ve==null?void 0:ve.length),Array.isArray(ve)&&ve.length>0){const qe=ve.map(Xe=>{var rt;return{id:Xe.id,name:Xe.name,price:Xe.sellingPrice,stock:Xe.stock,unitType:Xe.unitType,category:((rt=Xe.category)==null?void 0:rt.name)||"No Category",requiresPrescription:Xe.requiresPrescription,barcode:Xe.barcode}});console.log(" Transformed products:",qe),ut(qe),console.log(" Products set successfully")}else console.log(" No products found, setting empty array"),ut([])}else console.log(" API response failed, setting empty array"),ut([])}catch(W){console.error("Error loading products:",W)}finally{Z(!1)}},[Ne,K]=m.useState([]),[ge,we]=m.useState(!1),De=async()=>{try{we(!0);const W=await pe.getCustomers({branchId:(e==null?void 0:e.branchId)||"",limit:1e3});if(W.success&&W.data){const ae=W.data.customers||W.data;if(Array.isArray(ae)){const ve=ae.map(qe=>({id:qe.id,name:qe.name,phone:qe.phone,email:qe.email||"",address:qe.address||"",totalPurchases:qe.totalPurchases||0,lastVisit:qe.lastVisit?new Date(qe.lastVisit).toISOString().split("T")[0]:"",loyaltyPoints:qe.loyaltyPoints||0,isVIP:qe.isVIP||!1}));K(ve)}}}catch(W){console.error("Error loading customers:",W)}finally{we(!1)}};F.useEffect(()=>{De()},[e==null?void 0:e.branchId]),F.useEffect(()=>{const W=()=>{De()};return window.addEventListener("customerCreated",W),()=>{window.removeEventListener("customerCreated",W)}},[]);const We=W=>{switch(W){case"tablets":case"capsules":return n.jsx(Nc,{className:"w-4 h-4"});case"bottles":return n.jsx(Sw,{className:"w-4 h-4"});case"vials":return n.jsx(Pw,{className:"w-4 h-4"});default:return n.jsx(cr,{className:"w-4 h-4"})}},Ue=(W,ae,ve)=>{const qe=a.find(Xe=>Xe.name===W.name&&Xe.unitType===ve);if(qe)de(qe.id,qe.quantity+ae);else{const Xe=W.price,rt=Xe*ae;i([...a,{id:W.id,name:W.name,price:W.price,quantity:ae,unitType:ve,unitPrice:Xe,totalPrice:rt,batch:"BT"+String(Math.floor(Math.random()*1e3)).padStart(3,"0"),expiry:"Dec 2025",instructions:"Take as directed"}])}},de=(W,ae)=>{ae<=0?i(a.filter(ve=>ve.id!==W)):i(a.map(ve=>ve.id===W?{...ve,quantity:ae,totalPrice:ve.unitPrice*ae}:ve))},G=a.reduce((W,ae)=>W+ae.totalPrice,0),ie=Ye.filter(W=>{const ae=W.name.toLowerCase().includes(o.toLowerCase()),ve=u==="all"||W.category===u;return ae&&ve});console.log(" Current products state:",Ye),console.log(" Filtered products:",ie);const fe=Ye.filter(W=>W.name.toLowerCase().includes(E.toLowerCase())),he=async()=>{M(!0);try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("Camera access not supported in this browser");return}const W=prompt("Enter barcode or scan QR code:");W&&(U(W),await Ve(W))}catch(W){console.error("Barcode scanning error:",W),alert("Error accessing camera for barcode scanning")}finally{M(!1)}},Ve=async W=>{const ae=Ye.find(ve=>ve.barcode===W);ae?(Ue(ae,1,"pack"),l(ae.name)):alert(`Product with barcode ${W} not found`)},He=[{id:"1",code:"WELCOME10",name:"Welcome Discount",type:"percentage",value:10,minAmount:1e3,maxDiscount:500,validUntil:"2024-12-31",isActive:!0},{id:"2",code:"SAVE50",name:"Fixed Discount",type:"fixed",value:50,minAmount:200,validUntil:"2024-12-31",isActive:!0},{id:"3",code:"VIP20",name:"VIP Customer Discount",type:"percentage",value:20,minAmount:500,maxDiscount:1e3,validUntil:"2024-12-31",isActive:!0}],be=()=>{if(!X.trim()){alert("Please enter a promotion code");return}const W=He.find(ve=>ve.code.toLowerCase()===X.toLowerCase()&&ve.isActive);if(!W){alert("Invalid or expired promotion code");return}if(ee.find(ve=>ve.id===W.id)){alert("This promotion has already been applied");return}if(W.minAmount&&G<W.minAmount){alert(`Minimum purchase amount of PKR ${W.minAmount} required for this promotion`);return}if(W.validUntil&&new Date(W.validUntil)<new Date){alert("This promotion has expired");return}let ae=0;W.type==="percentage"?(ae=G*W.value/100,W.maxDiscount&&(ae=Math.min(ae,W.maxDiscount))):ae=W.value,V([...ee,W]),H(le+ae),Q(""),alert(`Promotion "${W.name}" applied! Discount: PKR ${ae.toFixed(2)}`)},Je=W=>{const ae=ee.find(ve=>ve.id===W);if(ae){let ve=0;ae.type==="percentage"?(ve=G*ae.value/100,ae.maxDiscount&&(ve=Math.min(ve,ae.maxDiscount))):ve=ae.value,V(ee.filter(qe=>qe.id!==W)),H(Math.max(0,le-ve))}},ue=()=>{if(!D.name||!D.phone){alert("Please enter customer name and phone number!");return}const W={id:`temp_${Date.now()}`,name:D.name,phone:D.phone,email:D.email||"",address:D.address||"",totalPurchases:0,lastVisit:new Date().toISOString().split("T")[0],loyaltyPoints:0,isVIP:!1};Ne.push(W),p(W),T({name:"",phone:"",email:"",address:""}),k(!1)},$e=(W,ae,ve)=>{if(console.log(" DEBUG - Adding product to invoice cart:",W),console.log(" DEBUG - Quantity received:",ae),console.log(" DEBUG - Unit type:",ve),ae<=0){alert("Quantity must be greater than 0");return}if(ae>1e3){alert("Quantity cannot exceed 1000 units. Please enter a smaller quantity.");return}if(ae>W.stock){alert(`Insufficient stock! Available: ${W.stock}, Requested: ${ae}`);return}const qe=I.find(Xe=>Xe.name===W.name&&Xe.unitType===ve);if(qe)Be(qe.id,qe.quantity+ae);else{const Xe=W.price,rt=Xe*ae,br={id:W.id,name:W.name,price:W.price,quantity:ae,unitType:ve,unitPrice:Xe,totalPrice:rt,batch:"BT"+String(Math.floor(Math.random()*1e3)).padStart(3,"0"),expiry:"Dec 2025",instructions:ve==="pack"?"Take as directed":`Take ${ae} ${ve} as directed`};console.log("New invoice item:",br),L([...I,br])}},Be=(W,ae)=>{if(console.log(" DEBUG - updateInvoiceQuantity called with:",{id:W,newQuantity:ae}),ae<=0)L(I.filter(ve=>ve.id!==W));else{if(ae>1e3){alert("Quantity cannot exceed 1000 units. Please enter a smaller quantity.");return}if(I.find(qe=>qe.id===W)){const qe=Ye.find(Xe=>Xe.id===W);if(console.log(" DEBUG - Found product:",qe==null?void 0:qe.name,"Stock:",qe==null?void 0:qe.stock),qe&&ae>qe.stock){console.log(" DEBUG - Stock validation failed!"),alert(`Insufficient stock! Available: ${qe.stock}, Requested: ${ae}`);return}}L(I.map(qe=>qe.id===W?{...qe,quantity:ae,totalPrice:qe.unitPrice*ae}:qe))}},wt=async()=>{if(I.length===0){alert("Please add at least one item to the invoice!");return}console.log(" DEBUG - Validating invoice items before creation:");for(const W of I){const ae=Ye.find(ve=>ve.id===W.id);if(console.log(` DEBUG - Item: ${W.name}, Quantity: ${W.quantity}, Available Stock: ${ae==null?void 0:ae.stock}`),ae&&W.quantity>ae.stock){alert(`Insufficient stock for ${W.name}! Available: ${ae.stock}, Required: ${W.quantity}`);return}}try{let W=null,ae="Walk-in Customer",ve="";if($.name&&$.phone)ae=$.name,ve=$.phone;else if($.phone)ae=`Customer-${$.phone}`,ve=$.phone;else{const pt=Date.now();ae=`Walk-in-${pt}`,ve=`000-${pt}`}try{const pt=await pe.createCustomer({name:ae,phone:ve,email:$.email||"",address:$.address||"",branchId:(e==null?void 0:e.branchId)||""});pt.success?(W=pt.data.id,console.log("Customer created successfully:",pt.data),window.dispatchEvent(new CustomEvent("customerCreated",{detail:pt.data})),pt.message!=="Customer already exists"&&console.log(` Customer "${ae}" added to customer records`)):console.warn("Customer creation failed:",pt.message)}catch(pt){console.error("Customer creation error:",pt)}const qe={customerId:W,branchId:(e==null?void 0:e.branchId)||"",items:I.map(pt=>({productId:pt.id,quantity:pt.quantity,unitPrice:pt.unitPrice,batchNumber:pt.batch||"",expiryDate:pt.expiry||""})),paymentMethod:"CASH",discountAmount:le};console.log("Creating sale with data:",qe);const Xe=await pe.createSale(qe);if(!Xe.success){alert(Xe.message||"Failed to create invoice. Please try again.");return}const rt=Xe.data;console.log("Sale created successfully:",rt);const br={id:rt.id,customer:{id:W||"",name:ae,phone:ve,email:$.email||"",address:$.address||"",totalPurchases:rt.totalAmount,loyaltyPoints:Math.floor(rt.totalAmount/100),isVIP:!1,lastVisit:new Date().toISOString().split("T")[0]},items:I,subtotal:rt.subtotal,tax:rt.taxAmount,total:rt.totalAmount,paymentMethod:"cash",paymentStatus:"Paid",date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString(),cashier:(e==null?void 0:e.name)||"Cashier",receiptNumber:rt.receiptNumber},pr=JSON.parse(localStorage.getItem("realInvoices")||"[]");pr.unshift(rt),localStorage.setItem("realInvoices",JSON.stringify(pr)),j(br),y(!0),q(!1),B({name:"",phone:"",email:"",address:""}),L([]),_(""),V([]),Q(""),H(0),await Pe(),window.dispatchEvent(new CustomEvent("invoiceCreated",{detail:{invoice:rt}})),alert(`Invoice created successfully!

Invoice Number: ${rt.id}
Receipt Number: ${rt.receiptNumber}
Total Amount: PKR ${rt.totalAmount.toFixed(2)}`)}catch(W){console.error("Error creating invoice:",W),alert("Error creating invoice. Please try again.")}},Ze=()=>{if(!v)return;const W=window.open("","_blank","width=800,height=600");W&&(W.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Pharmacy Receipt - ${v.receiptNumber}</title>
          <style>
            body {
              font-family: 'Courier New', monospace;
              font-size: 12px;
              line-height: 1.4;
              margin: 0;
              padding: 20px;
              background: white;
              color: black;
            }
            .receipt {
              max-width: 300px;
              margin: 0 auto;
            }
            .header {
              text-align: center;
              border-bottom: 2px solid #000;
              padding-bottom: 10px;
              margin-bottom: 15px;
            }
            .header h1 {
              font-size: 18px;
              margin: 0;
              font-weight: bold;
            }
            .header p {
              font-size: 10px;
              margin: 5px 0;
            }
            .receipt-info {
              display: flex;
              justify-content: space-between;
              font-size: 10px;
              margin-bottom: 15px;
            }
            .customer-info {
              border: 1px solid #000;
              padding: 8px;
              margin-bottom: 15px;
              font-size: 10px;
            }
            .customer-info h3 {
              margin: 0 0 5px 0;
              font-size: 11px;
              font-weight: bold;
            }
            .items {
              margin-bottom: 15px;
            }
            .item {
              display: flex;
              justify-content: space-between;
              padding: 3px 0;
              border-bottom: 1px dotted #ccc;
            }
            .item-name {
              flex: 1;
              font-weight: bold;
            }
            .item-details {
              font-size: 9px;
              color: #666;
            }
            .item-price {
              font-weight: bold;
            }
            .totals {
              border-top: 2px solid #000;
              padding-top: 10px;
              margin-top: 15px;
            }
            .total-line {
              display: flex;
              justify-content: space-between;
              padding: 2px 0;
            }
            .total-final {
              font-weight: bold;
              font-size: 14px;
              border-top: 1px solid #000;
              padding-top: 5px;
              margin-top: 5px;
            }
            .payment-info {
              border: 1px solid #000;
              padding: 8px;
              margin: 15px 0;
              font-size: 10px;
            }
            .footer {
              text-align: center;
              font-size: 9px;
              margin-top: 20px;
              border-top: 1px solid #000;
              padding-top: 10px;
            }
            @media print {
              body { margin: 0; padding: 10px; }
              .receipt { max-width: none; }
            }
          </style>
        </head>
        <body>
          <div class="receipt">
            <div class="header">
              <h1>MediBill Pulse Pharmacy</h1>
              <p>Your Health, Our Priority</p>
            </div>

            <div class="receipt-info">
              <div>
                <strong>Receipt:</strong> ${v.receiptNumber}<br>
                <strong>Date:</strong> ${v.date}
              </div>
              <div>
                <strong>Time:</strong> ${v.time}<br>
                <strong>Cashier:</strong> ${v.cashier}
              </div>
            </div>

            ${v.customer?`
            <div class="customer-info">
              <h3>Customer Information</h3>
              <strong>Name:</strong> ${v.customer.name}<br>
              <strong>Phone:</strong> ${v.customer.phone}<br>
              ${v.customer.email?`<strong>Email:</strong> ${v.customer.email}<br>`:""}
              ${v.customer.address?`<strong>Address:</strong> ${v.customer.address}`:""}
            </div>
            `:""}

            <div class="items">
              <h3>Items Purchased:</h3>
              ${v.items.map(ae=>`
                <div class="item">
                  <div>
                    <div class="item-name">${ae.name}</div>
                    <div class="item-details">${ae.quantity} ${ae.unitType}  PKR ${ae.unitPrice.toFixed(2)}</div>
                    ${ae.instructions?`<div class="item-details">${ae.instructions}</div>`:""}
                  </div>
                  <div class="item-price">PKR ${ae.totalPrice.toFixed(2)}</div>
                </div>
              `).join("")}
            </div>

            <div class="totals">
              <div class="total-line">
                <span>Subtotal:</span>
                <span>PKR ${v.subtotal.toFixed(2)}</span>
              </div>
              <div class="total-line">
                <span>GST (17%):</span>
                <span>PKR ${v.tax.toFixed(2)}</span>
              </div>
              <div class="total-line total-final">
                <span>TOTAL:</span>
                <span>PKR ${v.total.toFixed(2)}</span>
              </div>
            </div>

            <div class="payment-info">
              <strong>Payment Method:</strong> ${v.paymentMethod.toUpperCase()}<br>
              <strong>Status:</strong> ${v.paymentStatus}
              ${c==="cash"&&N>0?`
                <br><strong>Cash Received:</strong> PKR ${parseFloat(S).toFixed(2)}
                <br><strong>Change:</strong> PKR ${N.toFixed(2)}
              `:""}
            </div>

            <div class="footer">
              <p>Thank you for choosing MediBill Pulse Pharmacy!</p>
              <p>Please keep this receipt for your records</p>
              <p><strong>Important:</strong> Follow dosage instructions carefully.<br>
              Consult your doctor if you have any questions.</p>
            </div>
          </div>
        </body>
        </html>
      `),W.document.close(),W.focus(),setTimeout(()=>{W.print(),W.close()},500))},gt=()=>{if(v)try{const W=bt(v),ae=new Blob([W],{type:"text/html"}),ve=URL.createObjectURL(ae),qe=document.createElement("a");qe.href=ve,qe.download=`receipt-${v.receiptNumber}.html`,document.body.appendChild(qe),qe.click(),document.body.removeChild(qe),URL.revokeObjectURL(ve)}catch(W){console.error("Error downloading receipt:",W),alert("Error downloading receipt. Please try again.")}},bt=W=>`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Receipt ${W.receiptNumber}</title>
        <style>
          body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: white;
            color: black;
            max-width: 400px;
            margin: 0 auto;
          }
          .receipt-header {
            text-align: center;
            border-bottom: 2px solid #1C623C;
            padding-bottom: 15px;
            margin-bottom: 20px;
          }
          .receipt-header h1 {
            color: #1C623C;
            margin: 0;
            font-size: 24px;
          }
          .receipt-header p {
            color: #666;
            margin: 5px 0;
            font-size: 14px;
          }
          .receipt-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 14px;
          }
          .customer-info {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
          }
          .customer-info h3 {
            color: #1C623C;
            margin-bottom: 10px;
            font-size: 16px;
          }
          .items {
            margin-bottom: 20px;
          }
          .item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
          }
          .item-name {
            font-weight: bold;
          }
          .item-details {
            font-size: 12px;
            color: #666;
            margin-top: 2px;
          }
          .totals {
            border-top: 2px solid #1C623C;
            padding-top: 15px;
            margin-top: 20px;
          }
          .total-row {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
          }
          .total-final {
            font-weight: bold;
            font-size: 18px;
            color: #1C623C;
            border-top: 1px solid #ddd;
            padding-top: 10px;
            margin-top: 10px;
          }
          .payment-info {
            margin-top: 20px;
            padding: 15px;
            background-color: #f0f8f0;
            border-radius: 8px;
          }
          .footer {
            text-align: center;
            margin-top: 30px;
            font-size: 12px;
            color: #666;
          }
          .important-note {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 10px;
            border-radius: 5px;
            margin-top: 15px;
            font-size: 12px;
          }
          @media print {
            body { margin: 0; padding: 10px; }
          }
        </style>
      </head>
      <body>
        <div class="receipt-header">
          <h1>MediBill Pulse Pharmacy</h1>
          <p>Your Health, Our Priority</p>
        </div>

        <div class="receipt-info">
          <div>
            <strong>Receipt:</strong> ${W.receiptNumber}<br>
            <strong>Date:</strong> ${W.date}<br>
            <strong>Time:</strong> ${W.time}
          </div>
          <div>
            <strong>Cashier:</strong> ${W.cashier}
          </div>
        </div>

        ${W.customer?`
        <div class="customer-info">
          <h3>Customer Information</h3>
          <strong>Name:</strong> ${W.customer.name}<br>
          <strong>Phone:</strong> ${W.customer.phone}<br>
          ${W.customer.email?`<strong>Email:</strong> ${W.customer.email}<br>`:""}
          ${W.customer.address?`<strong>Address:</strong> ${W.customer.address}`:""}
        </div>
        `:""}

        <div class="items">
          <h3>Items Purchased</h3>
          ${W.items.map(ae=>`
            <div class="item">
              <div>
                <div class="item-name">${ae.name}</div>
                <div class="item-details">
                  ${ae.quantity} ${ae.unitType}  PKR ${ae.unitPrice.toFixed(2)}<br>
                  ${ae.instructions?`Instructions: ${ae.instructions}`:""}
                </div>
              </div>
              <div style="text-align: right;">
                PKR ${ae.totalPrice.toFixed(2)}
              </div>
            </div>
          `).join("")}
        </div>

        <div class="totals">
          <div class="total-row">
            <span>Subtotal:</span>
            <span>PKR ${W.subtotal.toFixed(2)}</span>
          </div>
          <div class="total-row">
            <span>GST (17%):</span>
            <span>PKR ${W.tax.toFixed(2)}</span>
          </div>
          <div class="total-row total-final">
            <span>Total:</span>
            <span>PKR ${W.total.toFixed(2)}</span>
          </div>
        </div>

        <div class="payment-info">
          <strong>Payment Method:</strong> ${W.paymentMethod}<br>
          <strong>Status:</strong> ${W.status}
        </div>

        <div class="footer">
          <p>Thank you for choosing MediBill Pulse Pharmacy! Please keep this receipt for your records</p>
          <div class="important-note">
            <strong>Important:</strong> Follow dosage instructions carefully. Consult your doctor if you have any questions.
          </div>
        </div>
      </body>
      </html>
    `,Nt=async()=>{var W;if(!((W=v==null?void 0:v.customer)!=null&&W.phone)){alert("Customer phone number is required to send SMS receipt");return}try{const ae=`MediBill Pulse Pharmacy Receipt
Receipt: ${v.receiptNumber}
Total: PKR ${v.total.toFixed(2)}
Date: ${v.date} ${v.time}

Items: ${v.items.map(qe=>`${qe.name} (${qe.quantity} ${qe.unitType})`).join(", ")}

Thank you for choosing us!`,ve=`sms:${v.customer.phone}?body=${encodeURIComponent(ae)}`;if(navigator.userAgent.match(/iPhone|iPad|iPod/i))window.location.href=ve;else if(navigator.userAgent.match(/Android/i))window.location.href=ve;else{const qe=window.open("","_blank","width=500,height=400");qe?qe.document.write(`
            <html>
              <head><title>SMS Receipt</title></head>
              <body style="font-family: Arial, sans-serif; padding: 20px;">
                <h2>SMS Receipt for ${v.customer.phone}</h2>
                <p><strong>To:</strong> ${v.customer.phone}</p>
                <p><strong>Message:</strong></p>
                <textarea readonly style="width: 100%; height: 200px; font-family: monospace; padding: 10px; border: 1px solid #ccc;">${ae}</textarea>
                <p><em>Copy the message above and send it via your SMS app.</em></p>
                <button onclick="window.close()" style="padding: 10px 20px; background: #1C623C; color: white; border: none; border-radius: 5px; cursor: pointer;">Close</button>
              </body>
            </html>
          `):alert(`SMS Receipt for ${v.customer.phone}:

${ae}

Copy this message and send it via your SMS app.`)}}catch(ae){console.error("Error sending SMS:",ae),alert("Error preparing SMS receipt. Please try again.")}},et=async()=>{var W;if(!((W=v==null?void 0:v.customer)!=null&&W.email)){alert("Customer email address is required to send email receipt");return}try{const ae=`Receipt from MediBill Pulse Pharmacy - ${v.receiptNumber}`,ve=`
Dear ${v.customer.name},

Thank you for your purchase at MediBill Pulse Pharmacy!

Receipt Details:
- Receipt Number: ${v.receiptNumber}
- Date: ${v.date}
- Time: ${v.time}
- Cashier: ${v.cashier}

Items Purchased:
${v.items.map(rt=>`
 ${rt.name}
  Quantity: ${rt.quantity} ${rt.unitType}
  Unit Price: PKR ${rt.unitPrice.toFixed(2)}
  Total: PKR ${rt.totalPrice.toFixed(2)}
`).join("")}

Summary:
- Subtotal: PKR ${v.subtotal.toFixed(2)}
- GST (17%): PKR ${v.tax.toFixed(2)}
- Total: PKR ${v.total.toFixed(2)}
- Payment Method: ${v.paymentMethod.toUpperCase()}

Please keep this receipt for your records.

Important: Follow dosage instructions carefully. Consult your doctor if you have any questions.

Thank you for choosing MediBill Pulse Pharmacy!
Your Health, Our Priority

Best regards,
MediBill Pulse Pharmacy Team
      `,qe=`mailto:${v.customer.email}?subject=${encodeURIComponent(ae)}&body=${encodeURIComponent(ve)}`;if(!window.open(qe,"_blank")){const rt=window.open("","_blank","width=600,height=500");rt?rt.document.write(`
            <html>
              <head>
                <title>Email Receipt</title>
                <style>
                  body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.6; }
                  .header { background: #1C623C; color: white; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
                  .content { background: #f9f9f9; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
                  .items { margin: 15px 0; }
                  .item { margin: 10px 0; padding: 10px; background: white; border-radius: 3px; }
                  .totals { background: #e8f5e8; padding: 15px; border-radius: 5px; margin: 15px 0; }
                  .footer { text-align: center; color: #666; font-size: 12px; }
                  button { padding: 10px 20px; background: #1C623C; color: white; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
                </style>
              </head>
              <body>
                <div class="header">
                  <h2>Email Receipt for ${v.customer.email}</h2>
                </div>
                <div class="content">
                  <p><strong>To:</strong> ${v.customer.email}</p>
                  <p><strong>Subject:</strong> ${ae}</p>
                  <p><strong>Message:</strong></p>
                  <div style="background: white; padding: 15px; border-radius: 5px; white-space: pre-wrap; font-family: monospace; max-height: 300px; overflow-y: auto;">${ve}</div>
                </div>
                <div style="text-align: center;">
                  <button onclick="window.close()">Close</button>
                  <button onclick="navigator.clipboard.writeText('${ve.replace(/'/g,"\\'")}').then(() => alert('Email content copied to clipboard!'))">Copy Content</button>
                </div>
                <div class="footer">
                  <p>Copy the content above and send it via your email client.</p>
                </div>
              </body>
            </html>
          `):alert(`Email Receipt for ${v.customer.email}:

Subject: ${ae}

${ve}

Copy this content and send it via your email client.`)}}catch(ae){console.error("Error sending email:",ae),alert("Error preparing email receipt. Please try again.")}},Ws=async()=>{var W;if(!Y.trim()){alert("Please enter a receipt number");return}try{ct(!0);const ae=await pe.getSales({limit:1e3,startDate:void 0,endDate:void 0,branchId:void 0});if(ae.success&&((W=ae.data)!=null&&W.sales)){const ve=ae.data.sales.find(qe=>{var Xe;return(Xe=qe.receipts)==null?void 0:Xe.some(rt=>rt.receiptNumber.toLowerCase()===Y.toLowerCase())});if(ve){const qe={id:ve.id,invoiceNumber:ve.id,customerId:ve.customerId,userId:ve.userId,branchId:ve.branchId,subtotal:ve.subtotal,taxAmount:ve.taxAmount,discountAmount:ve.discountAmount,totalAmount:ve.totalAmount,paymentMethod:ve.paymentMethod,paymentStatus:ve.paymentStatus,status:ve.status,createdAt:ve.createdAt,updatedAt:ve.createdAt,customer:ve.customer,user:ve.user,branch:ve.branch,items:ve.items.map(Xe=>({id:Xe.id,productId:Xe.productId,quantity:Xe.quantity,unitPrice:Xe.unitPrice,totalPrice:Xe.totalPrice,batchNumber:Xe.batchNumber,expiryDate:Xe.expiryDate,product:Xe.product})),receipts:[],receiptNumber:ve.id};Te(qe),se(!0)}else alert(`Invoice with receipt number "${Y}" not found.`)}else alert("Failed to load invoices. Please try again.")}catch(ae){console.error("Error looking up invoice:",ae),alert("Error looking up invoice. Please try again.")}finally{ct(!1)}},si=async()=>{var W,ae;if(!Y.trim()){alert("Please enter a receipt number");return}try{console.log(" DEBUG - Starting refund process for receipt:",Y);const ve=await pe.getSales({limit:1e3});if(console.log(" DEBUG - Sales search response:",ve),!ve.success||!((ae=(W=ve.data)==null?void 0:W.sales)!=null&&ae.length)){alert("Sale not found with the given receipt number");return}const Xe=ve.data.sales.find(Ft=>{var ba;return(ba=Ft.receipts)==null?void 0:ba.some(hn=>hn.receiptNumber===Y)});if(!Xe){alert(`Receipt number ${Y} not found`);return}console.log(" DEBUG - Found original sale:",Xe);const rt=Xe.items.map(Ft=>({productId:Ft.productId,quantity:Ft.quantity,unitPrice:Ft.unitPrice,reason:ye||"Customer requested refund"})),br=Xe.totalAmount,pr={originalSaleId:Xe.id,refundReason:ye||"Customer requested refund",items:rt,refundedBy:(e==null?void 0:e.id)||""};console.log(" DEBUG - Prepared refund data:",pr);const pt=await pe.createRefund(pr);console.log(" DEBUG - Refund API response:",pt),pt.success?(alert(`Refund processed successfully!

Receipt Number: ${Y}
Refund Amount: PKR ${br.toFixed(2)}
Reason: ${ye||"Customer requested refund"}

Items Refunded:
${Xe.items.map(Ft=>{var ba;return` ${((ba=Ft.product)==null?void 0:ba.name)||"Unknown Product"} - ${Ft.quantity} units - PKR ${(Ft.quantity*Ft.unitPrice).toFixed(2)}`}).join(`
`)}

Stock has been updated and items are back in inventory.
Sale amount has been deducted from reports.`),Ee(""),J(""),Me([]),se(!1),Pe(),window.dispatchEvent(new CustomEvent("refundCreated",{detail:{refund:pt.data.refund}}))):alert(pt.message||"Failed to process refund. Please try again.")}catch(ve){console.error("Error processing refund:",ve),alert("Error processing refund. Please try again.")}};return n.jsxs("div",{className:"p-6 bg-background min-h-screen",children:[n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-6",children:n.jsxs(te,{className:"lg:col-span-2 shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Or,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Pharmacy Product Search"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(z,{onClick:()=>q(!0),className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",children:[n.jsx(ds,{className:"w-4 h-4 mr-2"}),"Create Invoice for New Customer"]}),n.jsxs(z,{onClick:()=>se(!0),variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:[n.jsx(yr,{className:"w-4 h-4 mr-2"}),"Refunds & Returns"]})]})]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search by medicine name, barcode, or batch...",value:o,onChange:W=>l(W.target.value),className:"pl-10 h-12"})]}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>{console.log(" Manual refresh clicked"),Pe()},disabled:xe,className:"h-12 px-3",title:"Refresh Products",children:n.jsx(Bt,{className:`w-4 h-4 ${xe?"animate-spin":""}`})}),n.jsx(z,{variant:"outline",size:"sm",onClick:async()=>{console.log(" Loading products directly...");try{const W=localStorage.getItem("token"),ve=await(await fetch(`http://localhost:5001/api/products?limit=1000&branchId=${(e==null?void 0:e.branchId)||"cmfprkvh6000t7yyp8q2197xa"}`,{headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}})).json();if(console.log(" Direct response:",ve),ve.success&&ve.data&&ve.data.products){const qe=ve.data.products.map(Xe=>{var rt;return{id:Xe.id,name:Xe.name,price:Xe.sellingPrice,stock:Xe.stock,unitType:Xe.unitType,category:((rt=Xe.category)==null?void 0:rt.name)||"No Category",requiresPrescription:Xe.requiresPrescription,barcode:Xe.barcode}});console.log(" Setting products:",qe.length),ut(qe)}}catch(W){console.error(" Error:",W)}},className:"h-12 px-3 text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",title:"Load Products",children:"Load Products"}),n.jsxs(z,{size:"lg",variant:"outline",className:"px-4",onClick:he,disabled:O,children:[n.jsx(RF,{className:"w-5 h-5"}),O?"Scanning...":"Scan"]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:_t.map((W,ae)=>n.jsx(z,{variant:u===W?"default":"outline",size:"sm",onClick:()=>f(W),className:`capitalize ${u===W?"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)]":""}`,children:W},`${W}-${ae}`))}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ie.length===0?n.jsxs("div",{className:"col-span-full text-center py-8",children:[n.jsx("div",{className:"text-muted-foreground",children:Ye.length===0?"No products found. Please check your inventory.":"No products match your search criteria."}),n.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:["Total products: ",Ye.length," | Filtered: ",ie.length]})]}):ie.map(W=>n.jsx(te,{className:"cursor-pointer hover:shadow-medium transition-shadow",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"text-center",children:n.jsx("h4",{className:"font-medium text-sm text-foreground mb-2",children:W.name})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-lg font-bold text-primary",children:["PKR ",W.price]}),n.jsxs(Ce,{variant:"outline",className:"text-xs",children:[W.stock," left"]})]})]})})},W.id))})]})]})}),n.jsx(it,{open:g,onOpenChange:y,children:n.jsxs(nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Pharmacy Receipt"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:Ze,children:[n.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Print"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:gt,children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]}),((Pn=v==null?void 0:v.customer)==null?void 0:Pn.phone)&&n.jsxs(z,{variant:"outline",size:"sm",onClick:Nt,children:[n.jsx($a,{className:"w-4 h-4 mr-2"}),"SMS"]}),((Ln=v==null?void 0:v.customer)==null?void 0:Ln.email)&&n.jsxs(z,{variant:"outline",size:"sm",onClick:et,children:[n.jsx($s,{className:"w-4 h-4 mr-2"}),"Email"]})]})]})}),v&&n.jsxs("div",{className:"space-y-6 print:p-6",children:[n.jsxs("div",{className:"text-center border-b pb-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-primary",children:"MediBill Pulse Pharmacy"}),n.jsx("p",{className:"text-muted-foreground",children:"Your Health, Our Priority"}),n.jsxs("div",{className:"flex justify-between text-sm mt-4",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Receipt:"})," ",v.receiptNumber]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",v.date]})]}),n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Time:"})," ",v.time]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Cashier:"})," ",v.cashier]})]})]})]}),v.customer&&n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",v.customer.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",v.customer.phone]})]}),n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",v.customer.email]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",v.customer.address]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Items Purchased"}),v.items.map(W=>n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-dashed",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:W.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[W.quantity," ",W.unitType,"  PKR ",W.unitPrice.toFixed(2)]}),W.instructions&&n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:W.instructions})]}),n.jsxs("p",{className:"font-semibold",children:["PKR ",W.totalPrice.toFixed(2)]})]},W.id))]}),n.jsxs("div",{className:"border-t pt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["PKR ",v.subtotal.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"GST (17%):"}),n.jsxs("span",{children:["PKR ",v.tax.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{className:"text-primary",children:["PKR ",v.total.toFixed(2)]})]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Payment Method:"})," ",v.paymentMethod.toUpperCase()]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",v.paymentStatus]})]}),c==="cash"&&N>0&&n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Cash Received:"})," PKR ",parseFloat(S).toFixed(2)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Change:"})," PKR ",N.toFixed(2)]})]})]})}),n.jsxs("div",{className:"text-center text-sm text-muted-foreground border-t pt-4",children:[n.jsx("p",{children:"Thank you for choosing MediBill Pulse Pharmacy!"}),n.jsx("p",{children:"Please keep this receipt for your records"}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Important:"})," Follow dosage instructions carefully. Consult your doctor if you have any questions."]})]})]})]})}),n.jsx(it,{open:C,onOpenChange:k,children:n.jsxs(nt,{className:"max-w-md",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(fr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Add New Customer"})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"customerName",children:"Customer Name *"}),n.jsx(oe,{id:"customerName",placeholder:"Enter customer name",value:D.name,onChange:W=>T({...D,name:W.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"customerPhone",children:"Phone Number *"}),n.jsx(oe,{id:"customerPhone",placeholder:"Enter phone number",value:D.phone,onChange:W=>T({...D,phone:W.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"customerEmail",children:"Email (Optional)"}),n.jsx(oe,{id:"customerEmail",type:"email",placeholder:"Enter email address",value:D.email,onChange:W=>T({...D,email:W.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"customerAddress",children:"Address (Optional)"}),n.jsx(oe,{id:"customerAddress",placeholder:"Enter address",value:D.address,onChange:W=>T({...D,address:W.target.value})})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsxs(z,{variant:"outline",onClick:()=>k(!1),children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Cancel"]}),n.jsxs(z,{onClick:ue,className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]})]})}),n.jsx(it,{open:R,onOpenChange:W=>{q(W),W||(V([]),Q(""),H(0))},children:n.jsxs(nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(ds,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Create Invoice for New Customer"})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Customer Details"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"invoiceCustomerName",children:"Customer Name (Optional)"}),n.jsx(oe,{id:"invoiceCustomerName",placeholder:"Enter customer name",value:$.name,onChange:W=>B({...$,name:W.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"invoiceCustomerPhone",children:"Phone Number (Optional)"}),n.jsx(oe,{id:"invoiceCustomerPhone",placeholder:"Enter phone number",value:$.phone,onChange:W=>B({...$,phone:W.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"invoiceCustomerEmail",children:"Email (Optional)"}),n.jsx(oe,{id:"invoiceCustomerEmail",type:"email",placeholder:"Enter email address",value:$.email,onChange:W=>B({...$,email:W.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"invoiceCustomerAddress",children:"Address (Optional)"}),n.jsx(oe,{id:"invoiceCustomerAddress",placeholder:"Enter address",value:$.address,onChange:W=>B({...$,address:W.target.value})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Search Medicines"}),n.jsxs("div",{className:"relative",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search by medicine name...",value:E,onChange:W=>_(W.target.value),className:"pl-10"})]}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:fe.map(W=>n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-sm",children:W.name}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[We(W.unitType),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Item"})]})]}),n.jsxs("span",{className:"text-sm font-bold text-primary",children:["PKR ",W.price]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(oe,{type:"number",min:"0",max:"1000",placeholder:"0",className:"flex-1 h-8 text-sm",id:`invoice-pack-${W.id}`}),n.jsxs(z,{size:"sm",variant:"outline",className:"px-3",onClick:()=>{const ae=document.getElementById(`invoice-pack-${W.id}`),ve=parseInt(ae.value)||0;console.log(" DEBUG - Pack quantity input value:",ae.value),console.log(" DEBUG - Parsed quantity:",ve),ve>0&&($e(W,ve,"pack"),ae.value="")},children:[n.jsx(cr,{className:"w-4 h-4 mr-1"}),"Add Pack"]}),n.jsxs(z,{size:"sm",variant:"outline",className:"px-3",onClick:()=>{const ae=document.getElementById(`invoice-pack-${W.id}`),ve=parseInt(ae.value)||0;console.log(" DEBUG - Unit quantity input value:",ae.value),console.log(" DEBUG - Parsed quantity:",ve),ve>0&&($e(W,ve,W.unitType),ae.value="")},children:[We(W.unitType),n.jsx("span",{className:"ml-1",children:"Add"})]})]})]},W.id))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Selected Items"}),n.jsxs("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:[I.map(W=>n.jsxs("div",{className:"p-3 bg-gradient-surface rounded-lg",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-sm text-foreground",children:W.name}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[We(W.unitType),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[W.quantity," ",W.unitType,"  PKR ",W.unitPrice.toFixed(2)," each"]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Batch: ",W.batch,"  Exp: ",W.expiry]}),W.instructions&&n.jsxs("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:[" ",W.instructions]})]}),n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>Be(W.id,0),className:"text-destructive hover:text-destructive",children:n.jsx(wr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(z,{variant:"outline",size:"sm",onClick:()=>{console.log(" DEBUG - Decreasing quantity for:",W.name,"from",W.quantity,"to",W.quantity-1),Be(W.id,W.quantity-1)},className:"w-8 h-8 p-0",children:n.jsx(kF,{className:"w-3 h-3"})}),n.jsx("span",{className:"w-8 text-center font-medium",children:W.quantity}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>{console.log(" DEBUG - Increasing quantity for:",W.name,"from",W.quantity,"to",W.quantity+1),Be(W.id,W.quantity+1)},className:"w-8 h-8 p-0",children:n.jsx(fr,{className:"w-3 h-3"})})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-primary",children:["PKR ",W.totalPrice.toFixed(2)]})})]})]},W.id)),I.length===0&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(qr,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No items selected"}),n.jsx("p",{className:"text-xs",children:"Search and add medicines to create invoice"})]})]}),I.length>0&&n.jsxs("div",{className:"space-y-3 border-t pt-4",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Promotions & Discounts"}),ee.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Applied Promotions:"}),ee.map(W=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:W.name}),n.jsxs("p",{className:"text-xs text-green-600",children:["Code: ",W.code]})]}),n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>Je(W.id),className:"text-red-600 hover:text-red-700",children:n.jsx(ta,{className:"w-4 h-4"})})]},W.id))]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(oe,{placeholder:"Enter promotion code",value:X,onChange:W=>Q(W.target.value),className:"flex-1"}),n.jsx(z,{onClick:be,variant:"outline",size:"sm",disabled:!X.trim(),children:"Apply"})]}),le>0&&n.jsxs("div",{className:"flex justify-between items-center p-2 bg-green-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Discount Applied"}),n.jsxs("span",{className:"text-sm font-bold text-green-800",children:["-PKR ",le.toFixed(2)]})]})]}),I.length>0&&n.jsxs("div",{className:"space-y-2 border-t pt-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{className:"font-medium",children:["PKR ",I.reduce((W,ae)=>W+ae.totalPrice,0).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"GST (17%)"}),n.jsxs("span",{className:"font-medium",children:["PKR ",(I.reduce((W,ae)=>W+ae.totalPrice,0)*.17).toFixed(2)]})]}),le>0&&n.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[n.jsx("span",{children:"Discount"}),n.jsxs("span",{children:["-PKR ",le.toFixed(2)]})]}),n.jsx(Vw,{}),n.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{className:"text-primary",children:["PKR ",(I.reduce((W,ae)=>W+ae.totalPrice,0)*1.17-le).toFixed(2)]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsxs(z,{variant:"outline",onClick:()=>q(!1),children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Cancel"]}),n.jsxs(z,{onClick:wt,className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",disabled:I.length===0,children:[n.jsx(ds,{className:"w-4 h-4 mr-2"}),"Create Invoice & Print Receipt"]})]})]})]})]})}),n.jsx(it,{open:ce,onOpenChange:W=>{se(W),W||(Ee(""),J(""),Te(null),Me([]))},children:n.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(yr,{className:"w-5 h-5 text-red-600"}),n.jsx("span",{children:"Refunds & Returns"})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Invoice Lookup"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(oe,{placeholder:"Enter invoice/receipt number",value:Y,onChange:W=>Ee(W.target.value),className:"flex-1"}),n.jsx(z,{onClick:Ws,variant:"outline",disabled:mt,children:mt?"Looking up...":"Lookup Invoice"}),n.jsx(z,{onClick:async()=>{var W;try{const ae=await pe.getSales({limit:1e3,startDate:void 0,endDate:void 0,branchId:void 0});if(ae.success&&((W=ae.data)!=null&&W.sales)){const ve=ae.data.sales.map(qe=>{var Xe,rt;return(rt=(Xe=qe.receipts)==null?void 0:Xe[0])==null?void 0:rt.receiptNumber}).filter(Boolean).join(`
`);alert(`Available Receipt Numbers:

${ve||"None"}

Try entering one of these receipt numbers to test the refund functionality.`)}else alert("Failed to load invoices. Please try again.")}catch(ae){console.error("Error loading receipts:",ae),alert("Error loading receipts. Please try again.")}},variant:"outline",className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:"Show Available"})]})]}),Le&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Found Invoice"}),n.jsx(te,{className:"border-green-200 bg-green-50",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-lg",children:["Receipt: ",((xl=Le.receipts[0])==null?void 0:xl.receiptNumber)||"N/A"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Date: ",new Date(Le.createdAt).toLocaleDateString()," ",new Date(Le.createdAt).toLocaleTimeString()]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cashier: ",Le.user.name]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["PKR ",Le.totalAmount.toFixed(2)]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[Le.paymentMethod,"  ",Le.paymentStatus]})]})]}),Le.customer&&n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("h5",{className:"font-medium text-sm mb-2",children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",Le.customer.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",Le.customer.phone]}),Le.customer.email&&n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",Le.customer.email]}),Le.customer.address&&n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",Le.customer.address]})]})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("h5",{className:"font-medium text-sm mb-2",children:"Items in Invoice"}),n.jsx("div",{className:"space-y-2",children:Le.items.map((W,ae)=>n.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:W.product.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[W.quantity," ",W.product.unitType,"  PKR ",W.unitPrice.toFixed(2),W.batchNumber&&`  Batch: ${W.batchNumber}`,W.expiryDate&&`  Exp: ${new Date(W.expiryDate).toLocaleDateString()}`]})]}),n.jsxs("p",{className:"font-semibold text-sm",children:["PKR ",W.totalPrice.toFixed(2)]})]},ae))})]}),n.jsx("div",{className:"border-t pt-3",children:n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["PKR ",Le.subtotal.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"GST (17%):"}),n.jsxs("span",{children:["PKR ",Le.taxAmount.toFixed(2)]})]}),Le.discountAmount>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{children:["-PKR ",Le.discountAmount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-1",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["PKR ",Le.totalAmount.toFixed(2)]})]})]})}),n.jsx("div",{className:"border-t pt-3",children:n.jsxs(z,{onClick:si,className:"w-full text-white bg-red-600 hover:bg-red-700",children:[n.jsx(yr,{className:"w-4 h-4 mr-2"}),"Process Full Refund & Return Items to Stock"]})})]})})})]}),Le&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"refundReason",children:"Refund Reason *"}),n.jsx(oe,{id:"refundReason",placeholder:"Enter reason for refund",value:ye,onChange:W=>J(W.target.value)})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsxs(z,{variant:"outline",onClick:()=>se(!1),children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Cancel"]}),Le&&n.jsxs(z,{onClick:si,className:"text-white bg-red-600 hover:bg-red-700",disabled:!ye.trim(),children:[n.jsx(yr,{className:"w-4 h-4 mr-2"}),"Process Refund"]})]})]})]})}),n.jsx(it,{open:b,onOpenChange:x,children:n.jsxs(nt,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(kr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Select Customer"})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search customers by name or phone...",className:"pl-10",onChange:W=>{W.target.value.toLowerCase()}})]}),n.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:ge?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Bt,{className:"w-8 h-8 mx-auto mb-4 animate-spin"}),n.jsx("p",{children:"Loading customers..."})]}):Ne.length>0?Ne.map(W=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>{p(W),x(!1)},children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(kr,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:W.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:W.phone}),W.email&&n.jsx("p",{className:"text-sm text-muted-foreground",children:W.email})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium",children:["PKR ",W.totalPurchases.toFixed(2)]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[W.loyaltyPoints," points"]})]})]},W.id)):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(kr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No customers found"}),n.jsx("p",{className:"text-sm",children:"Add a new customer to get started"})]})})]})]})})]})},uV=()=>n.jsx(dV,{}),ca=m.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ca.displayName="Textarea";function b2(e,[t,r]){return Math.min(r,Math.max(t,e))}var fV=m.createContext(void 0);function qx(e){const t=m.useContext(fV);return e||t||"ltr"}function vI(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var hV=[" ","Enter","ArrowUp","ArrowDown"],mV=[" ","Enter"],qo="Select",[Hx,Wx,pV]=jx(qo),[fd,Jbe]=vs(qo,[pV,Yi]),Kx=Yi(),[xV,Zi]=fd(qo),[gV,vV]=fd(qo),yI=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:h,required:p,form:b}=e,x=Kx(t),[g,y]=m.useState(null),[v,j]=m.useState(null),[S,w]=m.useState(!1),N=qx(d),[P,C]=ha({prop:s,defaultProp:a??!1,onChange:i,caller:qo}),[k,D]=ha({prop:o,defaultProp:l,onChange:c,caller:qo}),T=m.useRef(null),R=g?b||!!g.closest("form"):!0,[q,$]=m.useState(new Set),B=Array.from(q).map(I=>I.props.value).join(";");return n.jsx(Ex,{...x,children:n.jsxs(xV,{required:p,scope:t,trigger:g,onTriggerChange:y,valueNode:v,onValueNodeChange:j,valueNodeHasChildren:S,onValueNodeHasChildrenChange:w,contentId:Kr(),value:k,onValueChange:D,open:P,onOpenChange:C,dir:N,triggerPointerDownPosRef:T,disabled:h,children:[n.jsx(Hx.Provider,{scope:t,children:n.jsx(gV,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(I=>{$(L=>new Set(L).add(I))},[]),onNativeOptionRemove:m.useCallback(I=>{$(L=>{const E=new Set(L);return E.delete(I),E})},[]),children:r})}),R?n.jsxs(VI,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:k,onChange:I=>D(I.target.value),disabled:h,form:b,children:[k===void 0?n.jsx("option",{value:""}):null,Array.from(q)]},B):null]})})};yI.displayName=qo;var bI="SelectTrigger",jI=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=Kx(r),o=Zi(bI,r),l=o.disabled||s,c=Ct(t,o.onTriggerChange),d=Wx(r),u=m.useRef("touch"),[f,h,p]=HI(x=>{const g=d().filter(j=>!j.disabled),y=g.find(j=>j.value===o.value),v=WI(g,x,y);v!==void 0&&o.onValueChange(v.value)}),b=x=>{l||(o.onOpenChange(!0),p()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return n.jsx(Uf,{asChild:!0,...i,children:n.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":qI(o.value)?"":void 0,...a,ref:c,onClick:Fe(a.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&b(x)}),onPointerDown:Fe(a.onPointerDown,x=>{u.current=x.pointerType;const g=x.target;g.hasPointerCapture(x.pointerId)&&g.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:Fe(a.onKeyDown,x=>{const g=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(g&&x.key===" ")&&hV.includes(x.key)&&(b(),x.preventDefault())})})})});jI.displayName=bI;var wI="SelectValue",NI=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Zi(wI,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Ct(t,c.onValueNodeChange);return rn(()=>{d(u)},[d,u]),n.jsx(Qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:qI(c.value)?n.jsx(n.Fragment,{children:o}):i})});NI.displayName=wI;var yV="SelectIcon",SI=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(Qe.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});SI.displayName=yV;var bV="SelectPortal",PI=e=>n.jsx(ad,{asChild:!0,...e});PI.displayName=bV;var Ho="SelectContent",CI=m.forwardRef((e,t)=>{const r=Zi(Ho,e.__scopeSelect),[s,a]=m.useState();if(rn(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?rl.createPortal(n.jsx(AI,{scope:e.__scopeSelect,children:n.jsx(Hx.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(EI,{...e,ref:t})});CI.displayName=Ho;var Ss=10,[AI,eo]=fd(Ho),jV="SelectContentImpl",wV=zi("SelectContent.RemoveScroll"),EI=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:b,hideWhenDetached:x,avoidCollisions:g,...y}=e,v=Zi(Ho,r),[j,S]=m.useState(null),[w,N]=m.useState(null),P=Ct(t,Q=>S(Q)),[C,k]=m.useState(null),[D,T]=m.useState(null),R=Wx(r),[q,$]=m.useState(!1),B=m.useRef(!1);m.useEffect(()=>{if(j)return Fx(j)},[j]),$x();const I=m.useCallback(Q=>{const[le,...H]=R().map(Y=>Y.ref.current),[ce]=H.slice(-1),se=document.activeElement;for(const Y of Q)if(Y===se||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===le&&w&&(w.scrollTop=0),Y===ce&&w&&(w.scrollTop=w.scrollHeight),Y==null||Y.focus(),document.activeElement!==se))return},[R,w]),L=m.useCallback(()=>I([C,j]),[I,C,j]);m.useEffect(()=>{q&&L()},[q,L]);const{onOpenChange:E,triggerPointerDownPosRef:_}=v;m.useEffect(()=>{if(j){let Q={x:0,y:0};const le=ce=>{var se,Y;Q={x:Math.abs(Math.round(ce.pageX)-(((se=_.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((Y=_.current)==null?void 0:Y.y)??0))}},H=ce=>{Q.x<=10&&Q.y<=10?ce.preventDefault():j.contains(ce.target)||E(!1),document.removeEventListener("pointermove",le),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",H,{capture:!0})}}},[j,E,_]),m.useEffect(()=>{const Q=()=>E(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[E]);const[O,M]=HI(Q=>{const le=R().filter(se=>!se.disabled),H=le.find(se=>se.ref.current===document.activeElement),ce=WI(le,Q,H);ce&&setTimeout(()=>ce.ref.current.focus())}),A=m.useCallback((Q,le,H)=>{const ce=!B.current&&!H;(v.value!==void 0&&v.value===le||ce)&&(k(Q),ce&&(B.current=!0))},[v.value]),U=m.useCallback(()=>j==null?void 0:j.focus(),[j]),ee=m.useCallback((Q,le,H)=>{const ce=!B.current&&!H;(v.value!==void 0&&v.value===le||ce)&&T(Q)},[v.value]),V=s==="popper"?$0:OI,X=V===$0?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:b,hideWhenDetached:x,avoidCollisions:g}:{};return n.jsx(AI,{scope:r,content:j,viewport:w,onViewportChange:N,itemRefCallback:A,selectedItem:C,onItemLeave:U,itemTextRefCallback:ee,focusSelectedItem:L,selectedItemText:D,position:s,isPositioned:q,searchRef:O,children:n.jsx(Vf,{as:wV,allowPinchZoom:!0,children:n.jsx(zf,{asChild:!0,trapped:v.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Fe(a,Q=>{var le;(le=v.trigger)==null||le.focus({preventScroll:!0}),Q.preventDefault()}),children:n.jsx(nl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:n.jsx(V,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Q=>Q.preventDefault(),...y,...X,onPlaced:()=>$(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Fe(y.onKeyDown,Q=>{const le=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!le&&Q.key.length===1&&M(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ce=R().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const se=Q.target,Y=ce.indexOf(se);ce=ce.slice(Y+1)}setTimeout(()=>I(ce)),Q.preventDefault()}})})})})})})});EI.displayName=jV;var NV="SelectItemAlignedPosition",OI=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Zi(Ho,r),o=eo(Ho,r),[l,c]=m.useState(null),[d,u]=m.useState(null),f=Ct(t,P=>u(P)),h=Wx(r),p=m.useRef(!1),b=m.useRef(!0),{viewport:x,selectedItem:g,selectedItemText:y,focusSelectedItem:v}=o,j=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&g&&y){const P=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),D=y.getBoundingClientRect();if(i.dir!=="rtl"){const se=D.left-C.left,Y=k.left-se,Ee=P.left-Y,ye=P.width+Ee,J=Math.max(ye,C.width),ke=window.innerWidth-Ss,Me=b2(Y,[Ss,Math.max(Ss,ke-J)]);l.style.minWidth=ye+"px",l.style.left=Me+"px"}else{const se=C.right-D.right,Y=window.innerWidth-k.right-se,Ee=window.innerWidth-P.right-Y,ye=P.width+Ee,J=Math.max(ye,C.width),ke=window.innerWidth-Ss,Me=b2(Y,[Ss,Math.max(Ss,ke-J)]);l.style.minWidth=ye+"px",l.style.right=Me+"px"}const T=h(),R=window.innerHeight-Ss*2,q=x.scrollHeight,$=window.getComputedStyle(d),B=parseInt($.borderTopWidth,10),I=parseInt($.paddingTop,10),L=parseInt($.borderBottomWidth,10),E=parseInt($.paddingBottom,10),_=B+I+q+E+L,O=Math.min(g.offsetHeight*5,_),M=window.getComputedStyle(x),A=parseInt(M.paddingTop,10),U=parseInt(M.paddingBottom,10),ee=P.top+P.height/2-Ss,V=R-ee,X=g.offsetHeight/2,Q=g.offsetTop+X,le=B+I+Q,H=_-le;if(le<=ee){const se=T.length>0&&g===T[T.length-1].ref.current;l.style.bottom="0px";const Y=d.clientHeight-x.offsetTop-x.offsetHeight,Ee=Math.max(V,X+(se?U:0)+Y+L),ye=le+Ee;l.style.height=ye+"px"}else{const se=T.length>0&&g===T[0].ref.current;l.style.top="0px";const Ee=Math.max(ee,B+x.offsetTop+(se?A:0)+X)+H;l.style.height=Ee+"px",x.scrollTop=le-ee+x.offsetTop}l.style.margin=`${Ss}px 0`,l.style.minHeight=O+"px",l.style.maxHeight=R+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,d,x,g,y,i.dir,s]);rn(()=>j(),[j]);const[S,w]=m.useState();rn(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const N=m.useCallback(P=>{P&&b.current===!0&&(j(),v==null||v(),b.current=!1)},[j,v]);return n.jsx(PV,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:n.jsx(Qe.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});OI.displayName=NV;var SV="SelectPopperPosition",$0=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Ss,...i}=e,o=Kx(r);return n.jsx(Ox,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$0.displayName=SV;var[PV,Yw]=fd(Ho,{}),L0="SelectViewport",kI=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=eo(L0,r),o=Yw(L0,r),l=Ct(t,i.onViewportChange),c=m.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Hx.Slot,{scope:r,children:n.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Fe(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const b=window.innerHeight-Ss*2,x=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(x,g);if(y<b){const v=y+p,j=Math.min(b,v),S=v-j;f.style.height=j+"px",f.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});kI.displayName=L0;var TI="SelectGroup",[CV,AV]=fd(TI),EV=m.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Kr();return n.jsx(CV,{scope:r,id:a,children:n.jsx(Qe.div,{role:"group","aria-labelledby":a,...s,ref:t})})});EV.displayName=TI;var II="SelectLabel",_I=m.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=AV(II,r);return n.jsx(Qe.div,{id:a.id,...s,ref:t})});_I.displayName=II;var Jm="SelectItem",[OV,RI]=fd(Jm),MI=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Zi(Jm,r),c=eo(Jm,r),d=l.value===s,[u,f]=m.useState(i??""),[h,p]=m.useState(!1),b=Ct(t,v=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,v,s,a)}),x=Kr(),g=m.useRef("touch"),y=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(OV,{scope:r,value:s,disabled:a,textId:x,isSelected:d,onItemTextChange:m.useCallback(v=>{f(j=>j||((v==null?void 0:v.textContent)??"").trim())},[]),children:n.jsx(Hx.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(Qe.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:Fe(o.onFocus,()=>p(!0)),onBlur:Fe(o.onBlur,()=>p(!1)),onClick:Fe(o.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:Fe(o.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:Fe(o.onPointerDown,v=>{g.current=v.pointerType}),onPointerMove:Fe(o.onPointerMove,v=>{var j;g.current=v.pointerType,a?(j=c.onItemLeave)==null||j.call(c):g.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(o.onPointerLeave,v=>{var j;v.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Fe(o.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(mV.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});MI.displayName=Jm;var tu="SelectItemText",DI=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Zi(tu,r),l=eo(tu,r),c=RI(tu,r),d=vV(tu,r),[u,f]=m.useState(null),h=Ct(t,y=>f(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),p=u==null?void 0:u.textContent,b=m.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:g}=d;return rn(()=>(x(b),()=>g(b)),[x,g,b]),n.jsxs(n.Fragment,{children:[n.jsx(Qe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?rl.createPortal(i.children,o.valueNode):null]})});DI.displayName=tu;var $I="SelectItemIndicator",LI=m.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return RI($I,r).isSelected?n.jsx(Qe.span,{"aria-hidden":!0,...s,ref:t}):null});LI.displayName=$I;var F0="SelectScrollUpButton",FI=m.forwardRef((e,t)=>{const r=eo(F0,e.__scopeSelect),s=Yw(F0,e.__scopeSelect),[a,i]=m.useState(!1),o=Ct(t,s.onScrollButtonChange);return rn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(UI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});FI.displayName=F0;var B0="SelectScrollDownButton",BI=m.forwardRef((e,t)=>{const r=eo(B0,e.__scopeSelect),s=Yw(B0,e.__scopeSelect),[a,i]=m.useState(!1),o=Ct(t,s.onScrollButtonChange);return rn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(UI,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});BI.displayName=B0;var UI=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=eo("SelectScrollButton",r),o=m.useRef(null),l=Wx(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),rn(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Qe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Fe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Fe(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Fe(a.onPointerLeave,()=>{c()})})}),kV="SelectSeparator",zI=m.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(Qe.div,{"aria-hidden":!0,...s,ref:t})});zI.displayName=kV;var U0="SelectArrow",TV=m.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Kx(r),i=Zi(U0,r),o=eo(U0,r);return i.open&&o.position==="popper"?n.jsx(kx,{...a,...s,ref:t}):null});TV.displayName=U0;var IV="SelectBubbleInput",VI=m.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{const a=m.useRef(null),i=Ct(s,a),o=vI(t);return m.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const f=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(f)}},[o,t]),n.jsx(Qe.select,{...r,style:{...eT,...r.style},ref:i,defaultValue:t})});VI.displayName=IV;function qI(e){return e===""||e===void 0}function HI(e){const t=Mn(e),r=m.useRef(""),s=m.useRef(0),a=m.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function WI(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=_V(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function _V(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var RV=yI,KI=jI,MV=NI,DV=SI,$V=PI,GI=CI,LV=kI,YI=_I,XI=MI,FV=DI,BV=LI,QI=FI,JI=BI,ZI=zI;const Dt=RV,$t=MV,Tt=m.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(KI,{ref:s,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(DV,{asChild:!0,children:n.jsx(ww,{className:"h-4 w-4 opacity-50"})})]}));Tt.displayName=KI.displayName;const e_=m.forwardRef(({className:e,...t},r)=>n.jsx(QI,{ref:r,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(wF,{className:"h-4 w-4"})}));e_.displayName=QI.displayName;const t_=m.forwardRef(({className:e,...t},r)=>n.jsx(JI,{ref:r,className:Oe("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(ww,{className:"h-4 w-4"})}));t_.displayName=JI.displayName;const It=m.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx($V,{children:n.jsxs(GI,{ref:a,className:Oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(e_,{}),n.jsx(LV,{className:Oe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(t_,{})]})}));It.displayName=GI.displayName;const UV=m.forwardRef(({className:e,...t},r)=>n.jsx(YI,{ref:r,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));UV.displayName=YI.displayName;const ze=m.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(XI,{ref:s,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(BV,{children:n.jsx(ST,{className:"h-4 w-4"})})}),n.jsx(FV,{children:t})]}));ze.displayName=XI.displayName;const zV=m.forwardRef(({className:e,...t},r)=>n.jsx(ZI,{ref:r,className:Oe("-mx-1 my-1 h-px bg-muted",e),...t}));zV.displayName=ZI.displayName;const il=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:Oe("w-full caption-bottom text-sm",e),...t})}));il.displayName="Table";const ol=m.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:Oe("[&_tr]:border-b",e),...t}));ol.displayName="TableHeader";const ll=m.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:Oe("[&_tr:last-child]:border-0",e),...t}));ll.displayName="TableBody";const VV=m.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:Oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));VV.displayName="TableFooter";const Rn=m.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:Oe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Rn.displayName="TableRow";const jt=m.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:Oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));jt.displayName="TableHead";const vt=m.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:Oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));vt.displayName="TableCell";const qV=m.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:Oe("mt-4 text-sm text-muted-foreground",e),...t}));qV.displayName="TableCaption";const HV=({isOpen:e,onClose:t,onCategoryChange:r})=>{var B,I,L,E;const{user:s}=Jt(),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(null),[u,f]=m.useState(""),[h,p]=m.useState(!1),[b,x]=m.useState(!1),[g,y]=m.useState(!1),[v,j]=m.useState(null),[S,w]=m.useState(null),[N,P]=m.useState({name:"",description:""}),C=async()=>{try{l(!0);const _=await pe.getCategories({limit:100,search:u,branchId:(s==null?void 0:s.branchId)||""});_.success&&_.data?i(_.data.categories):d("Failed to load categories")}catch(_){console.error("Error loading categories:",_),d("Failed to load categories")}finally{l(!1)}};m.useEffect(()=>{e&&C()},[e,u]);const k=async()=>{if(N.name.trim())try{l(!0);const _=await pe.createCategory({name:N.name.trim(),description:N.description.trim()||void 0});_.success?(P({name:"",description:""}),p(!1),await C(),r==null||r()):d(_.message||"Failed to create category")}catch(_){console.error("Error creating category:",_),d("Failed to create category")}finally{l(!1)}},D=async()=>{var _;if(!(!v||!v.name.trim()))try{l(!0);const O=await pe.updateCategory(v.id,{name:v.name.trim(),description:((_=v.description)==null?void 0:_.trim())||void 0});O.success?(j(null),x(!1),await C(),r==null||r()):d(O.message||"Failed to update category")}catch(O){console.error("Error updating category:",O),d("Failed to update category")}finally{l(!1)}},T=async()=>{if(S)try{l(!0);const _=await pe.deleteCategory(S.id);_.success?(w(null),y(!1),await C(),r==null||r()):d(_.message||"Failed to delete category")}catch(_){console.error("Error deleting category:",_);const O=(_==null?void 0:_.message)||"Failed to delete category";d(O)}finally{l(!1)}},R=_=>{j({..._}),x(!0)},q=_=>{w(_),y(!0)},$=a.filter(_=>{var O;return _.name.toLowerCase().includes(u.toLowerCase())||((O=_.description)==null?void 0:O.toLowerCase().includes(u.toLowerCase()))});return e?n.jsx(it,{open:e,onOpenChange:t,children:n.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(cr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Category Management"})]}),n.jsx(Mt,{children:"Manage your product categories. You can create, edit, and delete categories."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search categories...",value:u,onChange:_=>f(_.target.value),className:"pl-10"})]}),n.jsxs(z,{onClick:()=>p(!0),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),c&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:n.jsxs("div",{className:"flex",children:[n.jsx(yr,{className:"w-5 h-5 text-red-400"}),n.jsx("div",{className:"ml-3",children:n.jsx("p",{className:"text-sm text-red-800",children:c})})]})}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{children:["Categories (",$.length,")"]})}),n.jsx(re,{children:o?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ot,{className:"w-6 h-6 animate-spin mr-2"}),"Loading categories..."]}):$.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(cr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground/50"}),n.jsx("p",{className:"text-lg font-medium",children:"No categories found"}),n.jsx("p",{className:"text-sm",children:"Create your first category to get started"})]}):n.jsxs(il,{children:[n.jsx(ol,{children:n.jsxs(Rn,{children:[n.jsx(jt,{children:"Name"}),n.jsx(jt,{children:"Description"}),n.jsx(jt,{children:"Products"}),n.jsx(jt,{children:"Created"}),n.jsx(jt,{className:"text-right",children:"Actions"})]})}),n.jsx(ll,{children:$.map(_=>{var O;return n.jsxs(Rn,{children:[n.jsx(vt,{className:"font-medium",children:_.name}),n.jsx(vt,{className:"text-muted-foreground",children:_.description||"No description"}),n.jsx(vt,{children:n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[((O=_._count)==null?void 0:O.products)||0," products"]})}),n.jsx(vt,{className:"text-muted-foreground",children:new Date(_.createdAt).toLocaleDateString()}),n.jsx(vt,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>R(_),className:"text-blue-600 hover:text-blue-700",children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>q(_),className:"text-red-600 hover:text-red-700",children:n.jsx(wr,{className:"w-4 h-4"})})]})})]},_.id)})})]})})]})]}),n.jsx(it,{open:h,onOpenChange:p,children:n.jsxs(nt,{className:"max-w-md",children:[n.jsxs(st,{children:[n.jsx(at,{children:"Create New Category"}),n.jsx(Mt,{children:"Add a new category to organize your products."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"categoryName",children:"Category Name *"}),n.jsx(oe,{id:"categoryName",placeholder:"e.g., Pain Relief",value:N.name,onChange:_=>P({...N,name:_.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"categoryDescription",children:"Description"}),n.jsx(ca,{id:"categoryDescription",placeholder:"Brief description of the category...",value:N.description,onChange:_=>P({...N,description:_.target.value}),rows:3})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(z,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),n.jsx(z,{onClick:k,disabled:o||!N.name.trim(),children:o?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx($i,{className:"w-4 h-4 mr-2"}),"Create Category"]})})]})]})}),n.jsx(it,{open:b,onOpenChange:x,children:n.jsxs(nt,{className:"max-w-md",children:[n.jsxs(st,{children:[n.jsx(at,{children:"Edit Category"}),n.jsx(Mt,{children:"Update the category information."})]}),v&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"editCategoryName",children:"Category Name *"}),n.jsx(oe,{id:"editCategoryName",placeholder:"e.g., Pain Relief",value:v.name,onChange:_=>j({...v,name:_.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"editCategoryDescription",children:"Description"}),n.jsx(ca,{id:"editCategoryDescription",placeholder:"Brief description of the category...",value:v.description||"",onChange:_=>j({...v,description:_.target.value}),rows:3})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(z,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),n.jsx(z,{onClick:D,disabled:o||!(v!=null&&v.name.trim()),children:o?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx($i,{className:"w-4 h-4 mr-2"}),"Update Category"]})})]})]})}),n.jsx(it,{open:g,onOpenChange:y,children:n.jsxs(nt,{className:"max-w-md",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(yr,{className:"w-5 h-5 text-destructive"}),n.jsx("span",{children:"Confirm Delete"})]}),n.jsx(Mt,{children:((B=S==null?void 0:S._count)==null?void 0:B.products)>0?"This category cannot be deleted because it contains products. Please move or delete all products first.":"This action cannot be undone. The category will be permanently removed."})]}),S&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(wr,{className:"w-5 h-5 text-red-600"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Category"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Are you sure you want to delete this category?"}),n.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[((I=S._count)==null?void 0:I.products)||0," products in this category"]})]})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(z,{variant:"outline",onClick:()=>y(!1),disabled:o,children:"Cancel"}),n.jsx(z,{variant:"destructive",onClick:T,disabled:o||(((L=S==null?void 0:S._count)==null?void 0:L.products)||0)>0,className:"bg-red-600 hover:bg-red-700",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):(((E=S==null?void 0:S._count)==null?void 0:E.products)||0)>0?n.jsxs(n.Fragment,{children:[n.jsx(yr,{className:"w-4 h-4 mr-2"}),"Cannot Delete (Has Products)"]}):n.jsxs(n.Fragment,{children:[n.jsx(wr,{className:"w-4 h-4 mr-2"}),"Delete Category"]})})]})]})})]})}):null},WV=()=>{const{user:e}=Jt(),{selectedBranchId:t,selectedBranch:r}=Ji(),[s,a]=m.useState(""),[i,o]=m.useState("all"),[l,c]=m.useState(!0),[d,u]=m.useState([]),[f,h]=m.useState(!1),[p,b]=m.useState(!1),[x,g]=m.useState(!1),[y,v]=m.useState(!1),[j,S]=m.useState(!1),[w,N]=m.useState(!1),[P,C]=m.useState(!1),[k,D]=m.useState(!1),[T,R]=m.useState([]),[q,$]=m.useState([]),[B,I]=m.useState([]),[L,E]=m.useState(!0),[_,O]=m.useState(null),[M,A]=m.useState(null),[U,ee]=m.useState(null),[V,X]=m.useState([]),[Q,le]=m.useState(!1),[H,ce]=m.useState({page:1,limit:50,total:0,pages:0}),[se,Y]=m.useState({name:"",categoryId:"",costPrice:"",sellingPrice:"",stock:"",minStock:"10",maxStock:"",barcode:"",unitsPerPack:"1"}),[Ee,ye]=m.useState({name:"",description:""});m.useEffect(()=>{console.log("Component mounted, loading data..."),J()},[t]),m.useEffect(()=>{(s||l!==!1)&&(console.log("Search or showAllProducts changed, reloading data..."),J())},[s,l]),m.useEffect(()=>{console.log(" Products state changed:",T.length,"products"),console.log("Products data:",T)},[T]),m.useEffect(()=>{const G=fe=>{console.log(" Real-time product change received:",fe.detail);const{action:he,product:Ve}=fe.detail;he==="created"?R(He=>[Ve,...He]):he==="updated"?R(He=>He.map(be=>be.id===Ve.id?Ve:be)):he==="deleted"&&R(He=>He.filter(be=>be.id!==Ve.id))},ie=fe=>{console.log(" Real-time inventory change received:",fe.detail);const{action:he,data:Ve}=fe.detail;he==="product_added"?R(He=>[Ve,...He]):he==="product_removed"?R(He=>He.filter(be=>be.id!==Ve.id)):he==="stock_updated"&&R(He=>He.map(be=>be.id===Ve.productId?{...be,stock:Ve.newStock}:be))};return window.addEventListener("productChanged",G),window.addEventListener("inventoryChanged",ie),()=>{window.removeEventListener("productChanged",G),window.removeEventListener("inventoryChanged",ie)}},[]);const J=async()=>{try{E(!0),O(null),console.log("=== INVENTORY LOAD DATA DEBUG ==="),console.log("User object:",e),console.log("User role:",e==null?void 0:e.role),console.log("User branchId:",e==null?void 0:e.branchId),console.log("Admin context:",{selectedBranchId:t,selectedBranch:r==null?void 0:r.name}),console.log("Current products count:",T.length),console.log("Is user authenticated:",!!e);let G;(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPERADMIN"?t?(G=t,console.log("Admin selected specific branch:",r==null?void 0:r.name)):console.log("Admin viewing all branches - loading all products"):(G=(e==null?void 0:e.branchId)||"cmfprkvh6000t7yyp8q2197xa",console.log("Regular user branch:",G));const ie={limit:1e3};G&&(ie.branchId=G),console.log("Calling getProducts API with params:",ie);const fe=await pe.getProducts(ie);if(console.log("=== PRODUCTS API RESPONSE ==="),console.log("Products API response:",fe),console.log("Requesting products for branchId:",G),console.log("Response success:",fe.success),console.log("Response data:",fe.data),console.log("Response data type:",typeof fe.data),console.log("Response error:",fe.error),fe.success&&fe.data){const He=fe.data.products;console.log("Total products from API:",He.length),console.log("All products:",He);let be=He;s&&(console.log("Filtering by search query:",s),be=be.filter(ue=>{var $e;return ue.name.toLowerCase().includes(s.toLowerCase())||(($e=ue.barcode)==null?void 0:$e.includes(s))}),console.log("Products after search filter:",be.length)),console.log("TEMPORARY DEBUG: Showing all products without pagination");const Je=be;console.log("Setting products in loadData:",{allProducts:He.length,filteredProducts:be.length,allProductsData:He,filteredProductsData:be}),R(Je),ce({page:1,limit:50,total:be.length,pages:1}),console.log("Final products set to state:",Je.length),console.log("Final products data:",Je)}else{console.log("API call failed, trying fallback...");try{const He=await pe.getProducts();if(console.log("Fallback API response:",He),He.success&&He.data){const be=He.data.products||[];console.log("Fallback products:",be.length),R(be),ce({page:1,limit:50,total:be.length,pages:1})}else R([]),ce({page:1,limit:50,total:0,pages:0})}catch(He){console.error("Fallback API call also failed:",He),R([]),ce({page:1,limit:50,total:0,pages:0})}}const he=await pe.getCategories({branchId:(e==null?void 0:e.branchId)||""});he.success&&he.data?$(he.data.categories):$([]);const Ve=await pe.getSuppliers({branchId:(e==null?void 0:e.branchId)||""});Ve.success&&Ve.data?I(Ve.data.suppliers):(console.error("Failed to load suppliers:",Ve.message),I([]))}catch(G){console.error("Error loading data:",G),G.message&&G.message.includes("Failed to fetch")?O(" Backend server is not running. Please start the server and refresh the page."):(console.error(" Failed to load inventory data:",G),O("Failed to load inventory data"),R([]),$([{id:"cat_001",name:"Pain Relief"},{id:"cat_002",name:"Antibiotics"},{id:"cat_003",name:"Vitamins"},{id:"cat_004",name:"Cold & Flu"},{id:"cat_005",name:"Digestive Health"}]),I([{id:"sup_001",name:"Default Supplier",contactPerson:"John Doe",phone:"+92 300 1234567",email:"contact@supplier.com",address:"123 Supplier St",isActive:!0}]))}finally{E(!1)}},ke=T.filter(G=>G.stock<=G.minStock).length,Me=H.total,Le=T.reduce((G,ie)=>G+ie.sellingPrice*ie.stock,0),Te=(G,ie)=>G===0?{status:"out",color:"destructive"}:G<=ie?{status:"low",color:"warning"}:{status:"good",color:"default"},mt=()=>Math.floor(Math.random()*1e13).toString().padStart(13,"0"),ct=async()=>{if(!Ee.name){alert("Please enter category name!");return}try{E(!0);const G={name:Ee.name,description:Ee.description||""},ie=await pe.createCategory(G);ie.success?(console.log("Category created successfully:",ie.data),await J(),ye({name:"",description:""}),S(!1),alert("Category created successfully!")):alert(ie.message||"Failed to create category")}catch(G){console.error("Error creating category:",G),alert("Failed to create category. Please try again.")}finally{E(!1)}},Ye=async()=>{var G,ie;if(!se.name||!se.categoryId||!se.sellingPrice||!se.stock){alert("Please fill all required fields!");return}try{E(!0);let fe=(e==null?void 0:e.branchId)||"cmfprkvh6000t7yyp8q2197xa";if(!fe){const be=await pe.getBranches();be.success&&((ie=(G=be.data)==null?void 0:G.branches)==null?void 0:ie.length)>0&&(fe=be.data.branches[0].id)}if(!fe){alert("No branch available. Please contact administrator.");return}const Ve={name:se.name,description:"",categoryId:se.categoryId,supplierId:"default-supplier",branchId:fe,costPrice:parseFloat(se.costPrice)||0,sellingPrice:parseFloat(se.sellingPrice),stock:parseInt(se.stock),minStock:parseInt(se.minStock)||10,maxStock:se.maxStock?parseInt(se.maxStock):null,unitType:"tablets",unitsPerPack:1,barcode:se.barcode||null,requiresPrescription:!1,isActive:!0};console.log("Creating product with data:",Ve),console.log("Using branchId for product creation:",fe),console.log("Using default branchId");const He=await pe.createProduct(Ve);if(He.success){console.log("Product created successfully:",He.data),window.dispatchEvent(new CustomEvent("productCreated",{detail:{product:He.data}}));try{const be=await pe.getProducts({limit:1e3,branchId:fe});if(console.log("Product reload response:",be),be.success&&be.data){const Je=be.data.products;if(console.log("Products found after creation:",Je.length),Je.length===0){console.log("No products found with branch filter, trying without branch filter...");const Ze=await pe.getProducts({limit:1e3});if(Ze.success&&Ze.data){const gt=Ze.data.products;console.log("Total products (no filter):",gt.length);const bt=gt.filter(Ln=>Ln.branch.id===fe);console.log("Manually filtered products for branch:",bt.length);let et=bt;s&&(et=et.filter(Ln=>{var xl;return Ln.name.toLowerCase().includes(s.toLowerCase())||((xl=Ln.barcode)==null?void 0:xl.includes(s))})),i!=="all"&&(et=et.filter(Ln=>Ln.categoryId===i));const Ws=(H.page-1)*H.limit,si=Ws+H.limit,Pn=et.slice(Ws,si);R(Pn),ce(Ln=>({...Ln,total:et.length,pages:Math.ceil(et.length/Ln.limit)})),console.log(" Products loaded successfully:",Pn.length,"products"),console.log("Products updated after creation (manual filter):",Pn.length);return}}let ue=Je;s&&(ue=ue.filter(Ze=>{var gt;return Ze.name.toLowerCase().includes(s.toLowerCase())||((gt=Ze.barcode)==null?void 0:gt.includes(s))})),i!=="all"&&(ue=ue.filter(Ze=>Ze.categoryId===i));const $e=(H.page-1)*H.limit,Be=$e+H.limit,wt=ue.slice($e,Be);console.log("Setting products after creation:",{filteredProducts:ue.length,paginatedProducts:wt.length,startIndex:$e,endIndex:Be,currentPage:H.page,limit:H.limit}),R(wt),ce(Ze=>({...Ze,total:ue.length,pages:Math.ceil(ue.length/Ze.limit)}))}}catch(be){console.error("Error reloading data after product creation:",be),await J()}setTimeout(async()=>{console.log("Force refreshing products after creation..."),await J()},1e3),Y({name:"",categoryId:"",costPrice:"",sellingPrice:"",stock:"",minStock:"10",maxStock:"",barcode:"",unitsPerPack:"1"}),g(!1),alert("Medicine added successfully!")}else alert(He.message||"Failed to add medicine")}catch(fe){console.error("Error adding medicine:",fe),alert("Failed to add medicine. Please try again.")}finally{E(!1)}},ut=G=>{var ie;A(G),Y({name:G.name,categoryId:G.category.id,costPrice:G.costPrice.toString(),sellingPrice:G.sellingPrice.toString(),stock:G.stock.toString(),minStock:G.minStock.toString(),maxStock:((ie=G.maxStock)==null?void 0:ie.toString())||"",barcode:G.barcode||""}),v(!0)},_t=async()=>{var G,ie;if(!M||!se.name||!se.categoryId||!se.sellingPrice||!se.stock){alert("Please fill all required fields!");return}try{E(!0);const fe={name:se.name,description:M.description||"",categoryId:se.categoryId,supplierId:M.supplierId,branchId:M.branchId,costPrice:parseFloat(se.costPrice)||0,sellingPrice:parseFloat(se.sellingPrice),stock:parseInt(se.stock),minStock:parseInt(se.minStock)||10,maxStock:se.maxStock?parseInt(se.maxStock):null,unitType:M.unitType||"tablets",unitsPerPack:M.unitsPerPack||1,barcode:se.barcode||"",requiresPrescription:M.requiresPrescription||!1,isActive:M.isActive!==void 0?M.isActive:!0};console.log("Updating product with data:",fe),console.log("Editing product (source):",M);const he=await pe.updateProduct(M.id,fe);if(he.success){console.log("Product updated successfully:",he.data),window.dispatchEvent(new CustomEvent("productUpdated",{detail:{product:he.data}}));try{const Ve=await pe.getProducts({limit:1e3,branchId:(e==null?void 0:e.branchId)||"cmfprkvh6000t7yyp8q2197xa"});if(Ve.success&&Ve.data){let be=Ve.data.products;s&&(be=be.filter(Be=>{var wt;return Be.name.toLowerCase().includes(s.toLowerCase())||((wt=Be.barcode)==null?void 0:wt.includes(s))})),i!=="all"&&(be=be.filter(Be=>Be.categoryId===i));const Je=(H.page-1)*H.limit,ue=Je+H.limit,$e=be.slice(Je,ue);R($e),ce({page:H.page,limit:H.limit,total:be.length,pages:Math.ceil(be.length/H.limit)})}}catch(Ve){console.error("Error reloading data after product update:",Ve),await J()}A(null),Y({name:"",categoryId:"",costPrice:"",sellingPrice:"",stock:"",minStock:"10",maxStock:"",barcode:"",unitsPerPack:"1"}),v(!1),alert("Product updated successfully!")}else console.error("Failed to update product:",he.message),console.error("Validation errors:",he.errors),alert(`Failed to update product: ${he.message}. Errors: ${((G=he.errors)==null?void 0:G.join(", "))||"Unknown error"}`)}catch(fe){console.error("Error updating product:",fe),console.error("Error details:",(ie=fe.response)==null?void 0:ie.data),alert(`Failed to update product: ${fe.message||"Unknown error"}`)}finally{E(!1)}},Vt=G=>{ee(G),N(!0)},xe=async()=>{if(U)try{E(!0);const G=await pe.deleteProduct(U.id);if(G.success){window.dispatchEvent(new CustomEvent("productDeleted",{detail:{productId:U.id}}));try{const ie=await pe.getProducts({limit:1e3,branchId:(e==null?void 0:e.branchId)||"cmfprkvh6000t7yyp8q2197xa"});if(ie.success&&ie.data){let he=ie.data.products;s&&(he=he.filter(Je=>{var ue;return Je.name.toLowerCase().includes(s.toLowerCase())||((ue=Je.barcode)==null?void 0:ue.includes(s))})),i!=="all"&&(he=he.filter(Je=>Je.categoryId===i));const Ve=(H.page-1)*H.limit,He=Ve+H.limit,be=he.slice(Ve,He);R(be),ce({page:H.page,limit:H.limit,total:he.length,pages:Math.ceil(he.length/H.limit)})}}catch(ie){console.error("Error reloading data after product deletion:",ie),await J()}N(!1),ee(null)}else alert(G.message||"Failed to delete medicine")}catch(G){console.error("Error deleting medicine:",G),alert("Failed to delete medicine. Please try again.")}finally{E(!1)}},Z=()=>{N(!1),ee(null)},Pe=G=>{u(ie=>ie.includes(G)?ie.filter(fe=>fe!==G):[...ie,G])},Ne=()=>{d.length===T.length?u([]):u(T.map(G=>G.id))},K=()=>{d.length!==0&&h(!0)},ge=async()=>{if(d.length!==0)try{E(!0);const G=await pe.bulkDeleteProducts(d);G.success?(window.dispatchEvent(new CustomEvent("productsBulkDeleted",{detail:{productIds:d}})),await J(),u([]),console.log(`Successfully bulk deleted ${G.data.deletedCount} products`)):alert(G.message||"Failed to bulk delete products")}catch(G){console.error("Error bulk deleting products:",G),O("Failed to bulk delete products")}finally{E(!1),h(!1)}},we=()=>{h(!1)},De=()=>{try{const G=T.map(be=>({"Product Name":be.name,Category:be.category.name,Supplier:be.supplier.name,"Cost Price":be.costPrice,"Selling Price":be.sellingPrice,Stock:be.stock,"Min Stock":be.minStock,"Max Stock":be.maxStock||"","Unit Type":be.unitType,Barcode:be.barcode||"","Requires Prescription":be.requiresPrescription?"Yes":"No",Description:be.description||""})),ie=Object.keys(G[0]),fe=[ie.join(","),...G.map(be=>ie.map(Je=>{const ue=be[Je];return typeof ue=="string"&&(ue.includes(",")||ue.includes('"')||ue.includes(`
`))?`"${ue.replace(/"/g,'""')}"`:ue}).join(","))].join(`
`),he=new Blob([fe],{type:"text/csv;charset=utf-8;"}),Ve=document.createElement("a"),He=URL.createObjectURL(he);Ve.setAttribute("href",He),Ve.setAttribute("download",`inventory_export_${new Date().toISOString().split("T")[0]}.csv`),Ve.style.visibility="hidden",document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),alert("Inventory exported successfully!")}catch(G){console.error("Error exporting inventory:",G),alert("Error exporting inventory. Please try again.")}},We=async G=>{var he;const ie=(he=G.target.files)==null?void 0:he[0];if(!ie)return;if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].includes(ie.type)&&!ie.name.match(/\.(xlsx|xls|csv)$/i)){alert("Please select an Excel (.xlsx, .xls) or CSV file.");return}le(!0);try{let Ve=[];if(ie.type==="text/csv"||ie.name.toLowerCase().endsWith(".csv")){const Je=(await new Promise($e=>{const Be=new FileReader;Be.onload=()=>$e(Be.result),Be.readAsText(ie)})).split(`
`).filter($e=>$e.trim());if(Je.length<2){alert("File appears to be empty or invalid.");return}const ue=Je[0].split(",").map($e=>$e.trim().replace(/"/g,""));console.log("Parsing CSV data..."),console.log("Headers:",ue),console.log("Total lines:",Je.length),Ve=Je.slice(1).map(($e,Be)=>{console.log(`Processing line ${Be+1}:`,$e);const wt=$e.split(",").map(gt=>gt.trim().replace(/"/g,""));console.log("Split values:",wt);const Ze={};return ue.forEach((gt,bt)=>{const Nt=wt[bt]||"",et=gt.toLowerCase().trim();console.log(`Header "${gt}" (${et}) -> Value: "${Nt}"`),et.includes("name")||et.includes("product")||et==="name"?Ze.name=Nt:et.includes("category")||et==="category"?Ze.category=Nt:et.includes("cost")&&et.includes("price")||et==="cost price"?Ze.costPrice=parseFloat(Nt)||0:et.includes("selling")&&et.includes("price")||et==="selling price"?Ze.sellingPrice=parseFloat(Nt)||0:et.includes("stock")&&!et.includes("min")&&!et.includes("max")||et==="stock"?Ze.stock=parseInt(Nt)||0:et.includes("unit")&&et.includes("type")||et==="unit type"?Ze.unitType=Nt||"tablets":et.includes("units")&&et.includes("pack")||et==="units per pack"||(et.includes("barcode")||et==="barcode"?Ze.barcode=Nt:et.includes("prescription")||et==="requires prescription"?Ze.requiresPrescription=Nt.toLowerCase()==="yes"||Nt.toLowerCase()==="true"||Nt.toLowerCase()==="1":(et.includes("description")||et==="description")&&(Ze.description=Nt))}),Ze.unitType||(Ze.unitType="tablets"),Ze.costPrice||(Ze.costPrice=0),Ze.stock=parseInt(Ze.stock)||0,Ze.requiresPrescription||(Ze.requiresPrescription=!1),console.log(`Parsed row ${Be+1}:`,Ze),Ze}).filter($e=>{const Be=!!$e.name&&$e.name.trim()!=="";return console.log(`Row "${$e.name}" has name: ${Be}`),Be})}else{alert(`Excel files are not fully supported yet. Please save your Excel file as CSV format and try again.

To convert:
1. Open your Excel file
2. Go to File > Save As
3. Choose CSV format
4. Upload the CSV file`);return}if(console.log("Extracted data:",Ve),console.log("Total extracted products:",Ve.length),Ve.length===0){alert("No valid product data found in the file. Please check that your file has product names in the first column.");return}console.log("=== FILE PARSING COMPLETE ==="),console.log("Total products extracted:",Ve.length),console.log("All extracted products:",Ve);const He=Ve.filter(be=>be.name&&be.name.trim()!==""&&be.sellingPrice&&be.sellingPrice>0);if(console.log("Valid products after validation:",He.length),He.length===0){alert(`No valid products found in the file. Please ensure your CSV has:
- Product names
- Selling prices
- Categories (optional, will use default)`);return}alert(`File parsed successfully! Found ${He.length} valid products out of ${Ve.length} total rows.`),X(He),D(!0)}catch(Ve){console.error("Error processing file:",Ve),alert("Error processing file. Please try again or convert Excel to CSV format.")}finally{le(!1)}},Ue=async G=>{var fe;const ie=(fe=G.target.files)==null?void 0:fe[0];if(ie){if(!ie.type.startsWith("image/")){alert("Please select an image file.");return}le(!0);try{const he=await new Promise(He=>{const be=new FileReader;be.onload=()=>He(be.result),be.readAsDataURL(ie)});await new Promise(He=>setTimeout(He,2e3)),X([{name:"Paracetamol 500mg",category:"Analgesics",costPrice:2.5,sellingPrice:5,stock:100,unitType:"tablets"},{name:"Amoxicillin 250mg",category:"Antibiotics",costPrice:15,sellingPrice:25,stock:50,unitType:"capsules"},{name:"Vitamin C 1000mg",category:"Vitamins",costPrice:8,sellingPrice:12,stock:75,unitType:"tablets"}]),D(!0)}catch(he){console.error("Error processing image:",he),alert("Error processing image. Please try again.")}finally{le(!1)}}},de=async()=>{var G,ie,fe;try{E(!0);const he=[],Ve=[],He=[];console.log("=== PREPARING PRODUCTS FOR IMPORT ==="),console.log("Imported products count:",V.length),console.log("Available categories:",q),console.log("Available suppliers:",B);let be=(e==null?void 0:e.branchId)||"cmfprkvh6000t7yyp8q2197xa";if(!be){const ue=localStorage.getItem("medibill_user");if(ue)try{be=(G=JSON.parse(ue).branch)==null?void 0:G.id}catch($e){console.error("Error parsing stored user:",$e)}}if(!be)try{const ue=await pe.getBranches();if(ue.success&&((fe=(ie=ue.data)==null?void 0:ie.branches)==null?void 0:fe.length)>0)be=ue.data.branches[0].id,console.log("Using first available branch:",be);else{console.error("No branches available"),alert("No branches available. Please contact administrator."),E(!1);return}}catch(ue){console.error("Error fetching branches:",ue),alert("Error fetching branches. Please try again."),E(!1);return}console.log("=== BRANCH ID DETERMINED ==="),console.log("Final branchId for all products:",be),console.log("BranchId type:",typeof be);for(const ue of V){console.log(`
--- Processing product: ${ue.name} ---`),console.log("Product data:",ue);let $e=q.find(gt=>gt.name.toLowerCase()===ue.category.toLowerCase());$e||($e=q.find(gt=>gt.name.toLowerCase().includes(ue.category.toLowerCase())||ue.category.toLowerCase().includes(gt.name.toLowerCase())));let Be=ue.category;if(!$e){const bt={medicine:"Analgesics",medicines:"Analgesics",drugs:"Analgesics",pharmaceuticals:"Analgesics",pain:"Analgesics","pain relief":"Analgesics",antibiotic:"Antibiotics",antibiotics:"Antibiotics",infection:"Antibiotics",vitamin:"Vitamins",vitamins:"Vitamins",supplements:"Vitamins",stomach:"Gastric",gastric:"Gastric",digestive:"Gastric",cough:"Cough & Cold",cold:"Cough & Cold",respiratory:"Cough & Cold",eye:"Ophthalmic",ophthalmic:"Ophthalmic",diabetes:"Diabetes",diabetic:"Diabetes"}[ue.category.toLowerCase()];bt&&(Be=bt,$e=q.find(Nt=>Nt.name.toLowerCase()===bt.toLowerCase()))}console.log("Found category:",$e),console.log("Available categories:",q.map(gt=>({id:gt.id,name:gt.name}))),console.log("Final category name to use:",Be),$e?(ue.categoryId=$e.id,ue.categoryName=void 0,console.log(`Using existing category: ${$e.name} (ID: ${$e.id})`)):(console.log(`Category "${Be}" not found, will be created automatically by backend`),ue.categoryName=Be,ue.categoryId="auto-create");let wt="default-supplier";console.log(`Using default supplier for: ${ue.name}`),console.log("=== BULK IMPORT DEBUG ==="),console.log(`Using branchId for product ${ue.name}:`,be),console.log("User object:",e),console.log("Using default branchId"),console.log("Final branchId:",be),console.log("BranchId type:",typeof be),console.log("BranchId length:",be==null?void 0:be.length);const Ze={name:ue.name,description:ue.description||"",categoryId:ue.categoryId,categoryName:ue.categoryName,supplierId:wt,branchId:be,costPrice:ue.costPrice||0,sellingPrice:ue.sellingPrice,stock:parseInt(ue.stock)||0,minStock:ue.minStock||10,maxStock:ue.maxStock||null,unitType:ue.unitType||"tablets",unitsPerPack:1,barcode:ue.barcode||null,requiresPrescription:ue.requiresPrescription||!1,isActive:!0};he.push(Ze),console.log(`Added product to import list: ${ue.name}`),console.log("Product to import:",Ze)}if(console.log(`Total products prepared for import: ${he.length} out of ${V.length}`),console.log("Products to import:",he),he.length===0){alert("No valid products to import. Please check that your CSV file has the correct format with product names, categories, and prices."),E(!1);return}console.log("=== CALLING BULK IMPORT API ==="),console.log("Products to import:",he),console.log("Number of products:",he.length),console.log("API Base URL:","http://localhost:5001/api"),console.log("Token present:",!!localStorage.getItem("token")),console.log("User from context:",e);let Je;try{if(Je=await pe.bulkImportProducts(he),console.log("=== BULK IMPORT API RESPONSE ==="),console.log("Response:",Je),console.log("Response success:",Je.success),console.log("Response data:",Je.data),!Je.success){console.error("API call failed:",Je.message),alert(`Import failed: ${Je.message}`),E(!1);return}}catch(ue){console.error("=== BULK IMPORT API ERROR ==="),console.error("Error details:",ue),alert(`Import failed with error: ${ue instanceof Error?ue.message:"Unknown error"}`),E(!1);return}if(Je&&Je.success){console.log("Bulk import successful, reloading data..."),console.log("Import response data:",Je.data),console.log("Successful products:",Je.data.successful),console.log("Failed products:",Je.data.failed),o("all"),a(""),ce(bt=>({...bt,page:1})),console.log("About to reload data..."),console.log("Using branchId for reload:",be),console.log("BranchId type for reload:",typeof be),console.log("BranchId length for reload:",be==null?void 0:be.length);try{const bt=await pe.getProducts({limit:1e3,branchId:be});if(console.log("All products response after import:",bt),bt.success&&bt.data){const Nt=bt.data.products;if(console.log("Total products after import:",Nt.length),console.log("All products data:",Nt),Nt.length===0){console.log("No products found with branch filter, trying without branch filter...");const et=await pe.getProducts({limit:1e3});if(console.log("All products response (no filter):",et),et.success&&et.data){const Ws=et.data.products;console.log("Total products (no filter):",Ws.length),console.log("All products data (no filter):",Ws);const si=Ws.filter(ae=>ae.branch.id===be);console.log("Manually filtered products for branch:",si.length),console.log("Branch IDs in products:",Ws.map(ae=>({name:ae.name,branchId:ae.branch.id})));const Pn=si,W=Pn.slice(0,50);R(W),ce({page:1,limit:50,total:Pn.length,pages:Math.ceil(Pn.length/50)}),console.log("Products updated after import (manual filter):",W.length),console.log("Updated products list (manual filter):",W)}}else{const et=Nt,Pn=et.slice(0,50);R(Pn),ce({page:1,limit:50,total:et.length,pages:Math.ceil(et.length/50)}),console.log("Products updated after import:",Pn.length),console.log("Updated products list:",Pn)}}}catch(bt){console.error("Error reloading data after import:",bt),await J()}console.log("Data reload completed"),D(!1),C(!1),X([]);const{successCount:ue,failureCount:$e}=Je.data,Be=Je.data.failed.filter(bt=>bt.error.includes("Updated existing product")).length,wt=Je.data.failed.filter(bt=>bt.error.includes("already exists")&&!bt.error.includes("Updated")).length,Ze=$e-Be-wt;let gt=`Import completed!

 Added: ${ue} new products`;if(Be>0&&(gt+=`
 Updated: ${Be} existing products (stock added)`),wt>0&&(gt+=`
 Skipped: ${wt} existing products`),Ze>0){gt+=`
 Failed: ${Ze} products`;const bt=Je.data.failed;bt&&bt.length>0&&(gt+=`

Failed products:
`,bt.slice(0,5).forEach((Nt,et)=>{gt+=`${et+1}. ${Nt.product.name}: ${Nt.error}
`}),bt.length>5&&(gt+=`... and ${bt.length-5} more. Check console for details.`))}alert(gt),console.log("Import completed successfully:",{total:Je.data.total,successful:Je.data.successCount,skipped:wt,failed:Ze,successfulProducts:Je.data.successful.length})}else alert(Je.message||"Failed to import products. Please try again.")}catch(he){console.error("Error importing products:",he),alert("Error importing products. Please try again.")}finally{E(!1)}};return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Inventory Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your pharmacy inventory"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(z,{variant:"outline",onClick:De,className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90 border-0",children:[n.jsx(DF,{className:"w-4 h-4 mr-2"}),"Export"]}),n.jsxs(it,{open:P,onOpenChange:C,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{variant:"outline",className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90 border-0",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Import"]})}),n.jsxs(nt,{className:"max-w-lg",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(hs,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Import Products"})]}),n.jsx(Mt,{children:"Choose how you want to import products into your inventory."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Choose Import Method"}),n.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Select how you want to import your products"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsx("div",{className:"border-2 border-dashed border-blue-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:n.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Sv,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Upload CSV File"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Import products from CSV file"})]}),n.jsx("input",{type:"file",accept:".csv",onChange:We,className:"hidden",id:"excel-upload","aria-label":"Upload CSV file",title:"Upload CSV file"}),n.jsxs(z,{variant:"outline",className:"border-blue-500 text-blue-600 hover:bg-blue-50",onClick:()=>{var G;return(G=document.getElementById("excel-upload"))==null?void 0:G.click()},children:[n.jsx(Sv,{className:"w-4 h-4 mr-2"}),"Upload Sheet"]})]})}),n.jsx("div",{className:"border-2 border-dashed border-green-300 rounded-lg p-6 text-center hover:border-green-400 transition-colors",children:n.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(kS,{className:"w-6 h-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Upload Photo"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Take a photo of your product list"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:Ue,className:"hidden",id:"image-upload","aria-label":"Upload image file",title:"Upload image file"}),n.jsx(z,{variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50",onClick:()=>{var G;return(G=document.getElementById("image-upload"))==null?void 0:G.click()},disabled:Q,children:Q?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(kS,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})})]})})]}),n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-xs text-gray-400",children:"Supported formats: CSV, Images (.png, .jpg, .jpeg)"})})]})]})]})]}),d.length>0&&n.jsxs(z,{variant:"destructive",onClick:K,className:"bg-red-600 hover:bg-red-700 text-white",children:[n.jsx(wr,{className:"w-4 h-4 mr-2"}),"Delete Selected (",d.length,")"]}),n.jsxs(it,{open:j,onOpenChange:S,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{variant:"outline",className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90 border-0",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Create Category"]})}),n.jsxs(nt,{className:"max-w-md",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(fr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Create New Category"})]}),n.jsx(Mt,{children:"Add a new category to organize your products."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"categoryName",children:"Category Name *"}),n.jsx(oe,{id:"categoryName",placeholder:"e.g., Pain Relief",value:Ee.name,onChange:G=>ye({...Ee,name:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"categoryDescription",children:"Description"}),n.jsx(ca,{id:"categoryDescription",placeholder:"Brief description of the category...",value:Ee.description,onChange:G=>ye({...Ee,description:G.target.value}),rows:3})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(z,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),n.jsx(z,{onClick:ct,disabled:L,children:L?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx($i,{className:"w-4 h-4 mr-2"}),"Create Category"]})})]})]})]}),n.jsxs(it,{open:x,onOpenChange:g,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",onClick:()=>{console.log("Add Product button clicked"),g(!0)},children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add Product"]})}),n.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(fr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Add New Medicine"})]}),n.jsx(Mt,{children:"Add a new product to your inventory with all necessary details."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground border-b pb-2",children:"Basic Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"name",children:"Medicine Name *"}),n.jsx(oe,{id:"name",placeholder:"e.g., Paracetamol 500mg",value:se.name,onChange:G=>Y({...se,name:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"category",children:"Category *"}),n.jsxs(Dt,{value:se.categoryId,onValueChange:G=>Y({...se,categoryId:G}),children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select category"})}),n.jsx(It,{children:q.map(G=>n.jsx(ze,{value:G.id,children:G.name},G.id))})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground border-b pb-2",children:"Pricing & Stock"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"costPrice",children:"Cost Price per Unit (PKR)"}),n.jsx(oe,{id:"costPrice",type:"number",placeholder:"e.g., 3.00",value:se.costPrice,onChange:G=>Y({...se,costPrice:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"sellingPrice",children:"Selling Price per Unit (PKR) *"}),n.jsx(oe,{id:"sellingPrice",type:"number",placeholder:"e.g., 5.00",value:se.sellingPrice,onChange:G=>Y({...se,sellingPrice:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"stock",children:"Current Stock (Units) *"}),n.jsx(oe,{id:"stock",type:"number",placeholder:"e.g., 150",value:se.stock,onChange:G=>Y({...se,stock:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"minStock",children:"Minimum Stock Level (Units)"}),n.jsx(oe,{id:"minStock",type:"number",placeholder:"e.g., 50",value:se.minStock,onChange:G=>Y({...se,minStock:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"maxStock",children:"Maximum Stock Level"}),n.jsx(oe,{id:"maxStock",type:"number",placeholder:"e.g., 200",value:se.maxStock,onChange:G=>Y({...se,maxStock:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"barcode",children:"Barcode"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(oe,{id:"barcode",placeholder:"e.g., 1234567890123",value:se.barcode,onChange:G=>Y({...se,barcode:G.target.value})}),n.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>Y({...se,barcode:mt()}),children:"Generate"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-6",children:[n.jsx(z,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),n.jsx(z,{onClick:Ye,disabled:L,children:L?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):n.jsxs(n.Fragment,{children:[n.jsx($i,{className:"w-4 h-4 mr-2"}),"Add Medicine"]})})]})]})]}),n.jsx(it,{open:y,onOpenChange:v,children:n.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(Jn,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Edit Product"})]}),n.jsx(Mt,{children:"Update the product information and save changes to your inventory."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground border-b pb-2",children:"Basic Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-name",children:"Medicine Name *"}),n.jsx(oe,{id:"edit-name",placeholder:"e.g., Paracetamol 500mg",value:se.name,onChange:G=>Y({...se,name:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-category",children:"Category *"}),n.jsxs(Dt,{value:se.categoryId,onValueChange:G=>Y({...se,categoryId:G}),children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select category"})}),n.jsx(It,{children:q.map(G=>n.jsx(ze,{value:G.id,children:G.name},G.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-unitsPerPack",children:"Units per Pack"}),n.jsx(oe,{id:"edit-unitsPerPack",type:"number",placeholder:"e.g., 20",value:se.unitsPerPack,onChange:G=>Y({...se,unitsPerPack:G.target.value})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground border-b pb-2",children:"Pricing & Stock"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-costPrice",children:"Cost Price (PKR)"}),n.jsx(oe,{id:"edit-costPrice",type:"number",placeholder:"e.g., 60",value:se.costPrice,onChange:G=>Y({...se,costPrice:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-sellingPrice",children:"Selling Price (PKR) *"}),n.jsx(oe,{id:"edit-sellingPrice",type:"number",placeholder:"e.g., 85",value:se.sellingPrice,onChange:G=>Y({...se,sellingPrice:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-stock",children:"Current Stock *"}),n.jsx(oe,{id:"edit-stock",type:"number",placeholder:"e.g., 150",value:se.stock,onChange:G=>Y({...se,stock:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-minStock",children:"Minimum Stock Level"}),n.jsx(oe,{id:"edit-minStock",type:"number",placeholder:"e.g., 50",value:se.minStock,onChange:G=>Y({...se,minStock:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-maxStock",children:"Maximum Stock Level"}),n.jsx(oe,{id:"edit-maxStock",type:"number",placeholder:"e.g., 200",value:se.maxStock,onChange:G=>Y({...se,maxStock:G.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-barcode",children:"Barcode"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(oe,{id:"edit-barcode",placeholder:"e.g., 1234567890123",value:se.barcode,onChange:G=>Y({...se,barcode:G.target.value})}),n.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>Y({...se,barcode:mt()}),children:"Generate"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-6",children:[n.jsx(z,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),n.jsx(z,{onClick:_t,disabled:L,children:L?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx($i,{className:"w-4 h-4 mr-2"}),"Update Product"]})})]})]})}),n.jsx(it,{open:w,onOpenChange:N,children:n.jsxs(nt,{className:"max-w-md",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(yr,{className:"w-5 h-5 text-destructive"}),n.jsx("span",{children:"Confirm Delete"})]}),n.jsx(Mt,{children:"This action cannot be undone. The product will be permanently removed from your inventory."})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(wr,{className:"w-5 h-5 text-red-600"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Product"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Are you sure you want to delete this product? This action cannot be undone."}),U&&n.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:U.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Category: ",U.category.name]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Stock: ",U.stock," units"]})]})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(z,{variant:"outline",onClick:Z,disabled:L,children:"Cancel"}),n.jsx(z,{variant:"destructive",onClick:xe,disabled:L,className:"bg-red-600 hover:bg-red-700",children:L?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(wr,{className:"w-4 h-4 mr-2"}),"Confirm Delete"]})})]})]})}),n.jsx(it,{open:f,onOpenChange:h,children:n.jsxs(nt,{className:"max-w-md",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(yr,{className:"w-5 h-5 text-destructive"}),n.jsx("span",{children:"Confirm Bulk Delete"})]}),n.jsx(Mt,{children:"This action cannot be undone. The selected products will be permanently removed from your inventory."})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(wr,{className:"w-5 h-5 text-red-600"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Delete ",d.length," Products"]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Are you sure you want to delete ",d.length," selected products? This action cannot be undone."]}),n.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Selected Products:"}),n.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto",children:d.map(G=>{const ie=T.find(fe=>fe.id===G);return ie?n.jsxs("p",{className:"text-xs text-gray-500",children:[" ",ie.name]},G):null})})]})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(z,{variant:"outline",onClick:we,disabled:L,children:"Cancel"}),n.jsx(z,{variant:"destructive",onClick:ge,disabled:L,className:"bg-red-600 hover:bg-red-700",children:L?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(wr,{className:"w-4 h-4 mr-2"}),"Delete ",d.length," Products"]})})]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Products"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:Me})]}),n.jsx(cr,{className:"w-8 h-8 text-primary"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:ke})]}),n.jsx(oa,{className:"w-8 h-8 text-warning"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["PKR ",Le.toLocaleString()]})]}),n.jsx(Ar,{className:"w-8 h-8 text-accent"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Categories"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:q.length})]}),n.jsx(Zl,{className:"w-8 h-8 text-accent"})]})})})]}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search by name or barcode...",value:s,onChange:G=>a(G.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex items-center gap-2",children:[n.jsx(CF,{className:"w-4 h-4"}),"Manage Categories"]}),n.jsxs(z,{variant:l?"default":"outline",size:"sm",onClick:()=>c(!l),className:`flex items-center gap-2 ${l?"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90":""}`,children:[n.jsx(cr,{className:"w-4 h-4"}),l?"Show Active Only":"Show All Products"]})]})]})})}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{children:["Products (",T.length,")"]})}),n.jsx(re,{children:L?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ot,{className:"w-6 h-6 animate-spin mr-2"}),n.jsx("span",{children:"Loading products..."})]}):_?n.jsxs("div",{className:"text-center py-8 text-destructive",children:[n.jsx("p",{children:_}),n.jsx(z,{onClick:J,className:"mt-2",children:"Try Again"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground w-12",children:n.jsx("input",{type:"checkbox",checked:d.length===T.length&&T.length>0,onChange:Ne,className:"rounded border-gray-300","aria-label":"Select all products",title:"Select all products"})}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Product"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Category"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Pricing"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Stock"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Actions"})]})}),n.jsx("tbody",{children:T.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"text-center py-8 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(cr,{className:"w-12 h-12 text-muted-foreground/50"}),n.jsx("p",{className:"text-lg font-medium",children:"No products found"}),n.jsx("p",{className:"text-sm",children:"Start by adding your first product to the inventory"}),n.jsxs(z,{onClick:()=>{console.log("Empty state Add Product button clicked"),g(!0)},className:"mt-2 text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add Product"]})]})})}):T.map(G=>{const ie=Te(G.stock,G.minStock);return n.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[n.jsx("td",{className:"py-4 px-4 w-12",children:n.jsx("input",{type:"checkbox",checked:d.includes(G.id),onChange:()=>Pe(G.id),className:"rounded border-gray-300","aria-label":`Select ${G.name}`,title:`Select ${G.name}`})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:G.name}),G.barcode&&n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[n.jsx(vF,{className:"w-3 h-3 mr-1"}),G.barcode]})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx(Ce,{variant:"outline",children:G.category.name})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:["PKR ",G.sellingPrice]}),n.jsxs("p",{className:"text-muted-foreground",children:["Cost: PKR ",G.costPrice]})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"font-medium",children:G.stock}),n.jsx(Ce,{variant:ie.color==="destructive"?"destructive":"default",className:ie.color==="warning"?"bg-orange-100 text-orange-800 border-orange-200":"",children:ie.status})]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Min: ",G.minStock," | Max: ",G.maxStock||"N/A"]})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(z,{variant:"ghost",size:"sm",title:"Edit",onClick:()=>ut(G),children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>Vt(G),className:"text-destructive hover:text-destructive",title:"Delete",children:n.jsx(wr,{className:"w-4 h-4"})})]})})]},G.id)})})]})})})]}),n.jsx(it,{open:k,onOpenChange:D,children:n.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(Sv,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Preview Imported Products"})]}),n.jsx(Mt,{children:"Review and edit the imported products before adding them to your inventory."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(yr,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Review the extracted product information below. You can edit any fields before proceeding with the import."})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Extracted Products (",V.length,")"]}),n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Product Name"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Category"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Unit Type"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Cost Price"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Selling Price"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Stock"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Units/Pack"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Barcode"})]})}),n.jsx("tbody",{children:V.map((G,ie)=>n.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx(oe,{value:G.name,onChange:fe=>{const he=[...V];he[ie].name=fe.target.value,X(he)},className:"w-full"})}),n.jsxs("td",{className:"py-3 px-4",children:[n.jsxs(Dt,{value:G.category,onValueChange:fe=>{const he=[...V];he[ie].category=fe,X(he)},children:[n.jsx(Tt,{className:"w-full",children:n.jsx($t,{})}),n.jsx(It,{children:q.map(fe=>n.jsx(ze,{value:fe.name,children:fe.name},fe.id))})]}),!q.find(fe=>fe.name.toLowerCase()===G.category.toLowerCase())&&n.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[' Category "',G.category,'" will be auto-created during import.']})]}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs(Dt,{value:G.unitType,onValueChange:fe=>{const he=[...V];he[ie].unitType=fe,X(he)},children:[n.jsx(Tt,{className:"w-full",children:n.jsx($t,{})}),n.jsxs(It,{children:[n.jsx(ze,{value:"tablets",children:"Tablets"}),n.jsx(ze,{value:"capsules",children:"Capsules"}),n.jsx(ze,{value:"syrup",children:"Syrup"}),n.jsx(ze,{value:"injection",children:"Injection"}),n.jsx(ze,{value:"drops",children:"Drops"}),n.jsx(ze,{value:"cream",children:"Cream"}),n.jsx(ze,{value:"ointment",children:"Ointment"})]})]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(oe,{type:"number",step:"0.01",value:G.costPrice,onChange:fe=>{const he=[...V];he[ie].costPrice=parseFloat(fe.target.value)||0,X(he)},className:"w-full"})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(oe,{type:"number",step:"0.01",value:G.sellingPrice,onChange:fe=>{const he=[...V];he[ie].sellingPrice=parseFloat(fe.target.value)||0,X(he)},className:"w-full"})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(oe,{type:"number",value:G.stock,onChange:fe=>{const he=[...V];he[ie].stock=parseInt(fe.target.value)||0,X(he)},className:"w-full"})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(oe,{type:"number",value:G.unitsPerPack,onChange:fe=>{const he=[...V];he[ie].unitsPerPack=parseInt(fe.target.value)||1,X(he)},className:"w-full"})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx(oe,{value:G.barcode||"",onChange:fe=>{const he=[...V];he[ie].barcode=fe.target.value,X(he)},className:"w-full",placeholder:"Optional"})})]},ie))})]})})})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(z,{variant:"outline",onClick:()=>{D(!1),X([])},children:"Cancel"}),n.jsx(z,{onClick:de,disabled:L,className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",children:L?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Proceed Import"]})})]})]})]})}),n.jsx(HV,{isOpen:p,onClose:()=>b(!1),onCategoryChange:()=>{J()}})]})},KV=()=>n.jsx(WV,{}),GV=()=>{const e=ud(),{user:t}=Jt(),{selectedBranchId:r,selectedBranch:s}=Ji(),[a,i]=m.useState(""),[o,l]=m.useState("all"),[c,d]=m.useState(null),[u,f]=m.useState(!1),[h,p]=m.useState([]),[b,x]=m.useState(!0),[g,y]=m.useState(null),[v,j]=m.useState([]),[S,w]=m.useState({page:1,limit:10,total:0,pages:0});m.useEffect(()=>{N()},[a,o,r]),m.useEffect(()=>{const L=()=>{document.hidden||N()},E=()=>{console.log("Customer created event received, refreshing customer list..."),N()};return document.addEventListener("visibilitychange",L),window.addEventListener("customerCreated",E),()=>{document.removeEventListener("visibilitychange",L),window.removeEventListener("customerCreated",E)}},[]);const N=async()=>{var L,E,_;try{x(!0),y(null);let O;if((t==null?void 0:t.role)==="ADMIN"||(t==null?void 0:t.role)==="SUPERADMIN")r?(O=r,console.log("Admin selected specific branch for customers:",s==null?void 0:s.name)):console.log("Admin viewing all branches - loading all customers");else{if(O=(t==null?void 0:t.branchId)||"default-branch",!O||O==="default-branch"){const A=await pe.getBranches();A.success&&((E=(L=A.data)==null?void 0:L.branches)==null?void 0:E.length)>0&&(O=A.data.branches[0].id)}console.log("Regular user branch for customers:",O)}console.log("Loading customers with params:",{page:S.page,limit:S.limit,search:a,branchId:O||"",vip:o==="vip"?!0:o==="regular"?!1:void 0});const M=await pe.getCustomers({page:S.page,limit:S.limit,search:a,branchId:O||"",vip:o==="vip"?!0:o==="regular"?!1:void 0});if(console.log("Full API response:",M),M.success&&M.data){console.log("Customers API response data:",M.data),console.log("Number of customers in response:",((_=M.data.customers)==null?void 0:_.length)||0);const A=M.data.customers.map(U=>(console.log("Individual customer data:",U),{id:U.id,name:U.name,phone:U.phone,email:U.email||"",address:U.address||"",totalPurchases:Number(U.totalPurchases)||0,lastVisit:U.lastVisit?new Date(U.lastVisit).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],loyaltyPoints:Number(U.loyaltyPoints)||0,isVIP:!!U.isVIP||!1}));console.log("Transformed customers:",A),console.log("Setting customers state with:",A.length,"customers"),p(A),w(M.data.pagination)}else console.error("API response failed:",M),y("Failed to load customers: "+(M.message||"Unknown error"))}catch(O){console.error("Error loading customers:",O),y("Failed to load customers")}finally{x(!1)}},P=async L=>{try{const E=await pe.getCustomerPurchaseHistory(L,{page:1,limit:10});E.success&&E.data&&j(E.data.sales)}catch(E){console.error("Error loading purchase history:",E)}},C=["all","vip","regular","recent","with-purchases"],k=h.filter(L=>{const E=L.name.toLowerCase().includes(a.toLowerCase())||L.phone.includes(a)||L.email.toLowerCase().includes(a.toLowerCase());let _=!0;if(o==="vip"&&(_=L.isVIP),o==="regular"&&(_=!L.isVIP),o==="recent"){const O=new Date(L.lastVisit),M=new Date;M.setDate(M.getDate()-3),_=O>=M}return o==="with-purchases"&&(_=L.totalPurchases>0),E&&_}),D=h.length,T=h.filter(L=>L.isVIP).length,R=h.reduce((L,E)=>L+E.loyaltyPoints,0),q=h.reduce((L,E)=>L+E.totalPurchases,0),$=h.length>0?q/h.length:0;console.log("Customer stats:",{totalCustomers:D,vipCustomers:T,totalLoyaltyPoints:R,totalPurchases:q,averagePurchase:$,customers:h.map(L=>({name:L.name,totalPurchases:L.totalPurchases,loyaltyPoints:L.loyaltyPoints,isVIP:L.isVIP}))});const B=L=>{localStorage.setItem("selectedCustomer",JSON.stringify(L)),e("/pos")},I=async L=>{d(L),await P(L.id),f(!0)};return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Customer Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage customer relationships and loyalty"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Debug: ",h.length," customers loaded"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(z,{variant:"outline",onClick:N,disabled:b,children:[n.jsx(Ar,{className:"w-4 h-4 mr-2"}),b?"Refreshing...":"Refresh"]}),n.jsxs(z,{className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Customers"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:D})]}),n.jsx(kr,{className:"w-8 h-8 text-primary"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"VIP Customers"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:T})]}),n.jsx(Vm,{className:"w-8 h-8 text-warning"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Loyalty Points"}),n.jsx("p",{className:"text-2xl font-bold text-success",children:R.toLocaleString()})]}),n.jsx(qr,{className:"w-8 h-8 text-success"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Purchase"}),n.jsxs("p",{className:"text-2xl font-bold text-primary",children:["PKR ",$.toFixed(0)]})]}),n.jsx(ar,{className:"w-8 h-8 text-primary"})]})})})]}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search by name, phone, or email...",value:a,onChange:L=>i(L.target.value),className:"pl-10"})]}),n.jsx("div",{className:"flex gap-2",children:C.map(L=>{const E={all:"All",vip:"VIP",regular:"Regular",recent:"Recent","with-purchases":"With Purchases"};return n.jsx(z,{variant:o===L?"default":"outline",size:"sm",onClick:()=>l(L),className:`${o===L?"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)]":""}`,children:E[L]||L},L)})})]})})}),b&&n.jsx(te,{className:"shadow-soft border-0",children:n.jsxs(re,{className:"p-12 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading customers..."})]})}),g&&n.jsx(te,{className:"shadow-soft border-0",children:n.jsxs(re,{className:"p-12 text-center",children:[n.jsx("p",{className:"text-destructive mb-4",children:g}),n.jsx(z,{onClick:N,variant:"outline",children:"Try Again"})]})}),!b&&!g&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(L=>n.jsxs(te,{className:"shadow-soft border-0 hover:shadow-medium transition-shadow",children:[n.jsx(Se,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-3",children:n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-semibold text-primary",children:L.name.split(" ").map(E=>E[0]).join("")})})}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx(z,{variant:"ghost",size:"sm",children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",children:n.jsx(wr,{className:"w-4 h-4"})})]})]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[n.jsx($a,{className:"w-4 h-4"}),n.jsx("span",{children:L.phone})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[n.jsx($s,{className:"w-4 h-4"}),n.jsx("span",{className:"truncate",children:L.email})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[n.jsx(Da,{className:"w-4 h-4"}),n.jsx("span",{className:"truncate",children:L.address})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-border",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Purchases"}),n.jsxs("p",{className:"font-semibold text-foreground",children:["PKR ",L.totalPurchases.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loyalty Points"}),n.jsx("p",{className:"font-semibold text-warning",children:L.loyaltyPoints})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Visit"}),n.jsx("p",{className:"font-semibold text-foreground",children:new Date(L.lastVisit).toLocaleDateString()})]})]}),n.jsxs("div",{className:"flex space-x-2 pt-2",children:[n.jsxs(z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>B(L),children:[n.jsx(qr,{className:"w-4 h-4 mr-1"}),"New Sale"]}),n.jsxs(z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>I(L),children:[n.jsx(ds,{className:"w-4 h-4 mr-1"}),"History"]})]})]})]},L.id))}),!b&&!g&&k.length===0&&n.jsx(te,{className:"shadow-soft border-0",children:n.jsxs(re,{className:"p-12 text-center",children:[n.jsx(kr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No customers found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filter criteria"}),n.jsxs(z,{className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add First Customer"]})]})}),n.jsx(it,{open:u,onOpenChange:f,children:n.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(ds,{className:"w-5 h-5 text-primary"}),n.jsxs("span",{children:["Purchase History - ",c==null?void 0:c.name]})]})}),c&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(te,{children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Purchases"}),n.jsxs("p",{className:"text-xl font-bold text-primary",children:["PKR ",c.totalPurchases.toLocaleString()]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Loyalty Points"}),n.jsx("p",{className:"text-xl font-bold text-warning",children:c.loyaltyPoints})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Visit"}),n.jsx("p",{className:"text-lg font-semibold",children:new Date(c.lastVisit).toLocaleDateString()})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ce,{variant:c.isVIP?"default":"outline",children:c.isVIP?"VIP":"Regular"})]})]})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Recent Purchases"}),v.length>0?v.map(L=>n.jsx(te,{className:"hover:shadow-medium transition-shadow",children:n.jsxs(re,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:n.jsx(ds,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold",children:["Receipt #",L.id]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(L.createdAt).toLocaleDateString()})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-primary",children:["PKR ",L.totalAmount]}),n.jsx(Ce,{variant:"outline",className:"capitalize",children:L.paymentMethod})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Items Purchased:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:L.items.map((E,_)=>n.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[n.jsx(cr,{className:"w-3 h-3 mr-1"}),E.product.name," (",E.quantity," ",E.product.unitType,")"]},_))})]})]})},L.id)):n.jsx(te,{children:n.jsxs(re,{className:"p-8 text-center",children:[n.jsx(ds,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No purchase history"}),n.jsx("p",{className:"text-muted-foreground",children:"This customer hasn't made any purchases yet."})]})})]})]})]})})]})},YV=()=>n.jsx(GV,{});var XV=Array.isArray,Dn=XV,QV=typeof ch=="object"&&ch&&ch.Object===Object&&ch,r_=QV,JV=r_,ZV=typeof self=="object"&&self&&self.Object===Object&&self,eq=JV||ZV||Function("return this")(),va=eq,tq=va,rq=tq.Symbol,Wf=rq,j2=Wf,n_=Object.prototype,nq=n_.hasOwnProperty,sq=n_.toString,Fd=j2?j2.toStringTag:void 0;function aq(e){var t=nq.call(e,Fd),r=e[Fd];try{e[Fd]=void 0;var s=!0}catch{}var a=sq.call(e);return s&&(t?e[Fd]=r:delete e[Fd]),a}var iq=aq,oq=Object.prototype,lq=oq.toString;function cq(e){return lq.call(e)}var dq=cq,w2=Wf,uq=iq,fq=dq,hq="[object Null]",mq="[object Undefined]",N2=w2?w2.toStringTag:void 0;function pq(e){return e==null?e===void 0?mq:hq:N2&&N2 in Object(e)?uq(e):fq(e)}var ei=pq;function xq(e){return e!=null&&typeof e=="object"}var ti=xq,gq=ei,vq=ti,yq="[object Symbol]";function bq(e){return typeof e=="symbol"||vq(e)&&gq(e)==yq}var hd=bq,jq=Dn,wq=hd,Nq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sq=/^\w*$/;function Pq(e,t){if(jq(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||wq(e)?!0:Sq.test(e)||!Nq.test(e)||t!=null&&e in Object(t)}var Xw=Pq;function Cq(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var to=Cq;const md=Lt(to);var Aq=ei,Eq=to,Oq="[object AsyncFunction]",kq="[object Function]",Tq="[object GeneratorFunction]",Iq="[object Proxy]";function _q(e){if(!Eq(e))return!1;var t=Aq(e);return t==kq||t==Tq||t==Oq||t==Iq}var Qw=_q;const lt=Lt(Qw);var Rq=va,Mq=Rq["__core-js_shared__"],Dq=Mq,Bv=Dq,S2=function(){var e=/[^.]+$/.exec(Bv&&Bv.keys&&Bv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function $q(e){return!!S2&&S2 in e}var Lq=$q,Fq=Function.prototype,Bq=Fq.toString;function Uq(e){if(e!=null){try{return Bq.call(e)}catch{}try{return e+""}catch{}}return""}var s_=Uq,zq=Qw,Vq=Lq,qq=to,Hq=s_,Wq=/[\\^$.*+?()[\]{}|]/g,Kq=/^\[object .+?Constructor\]$/,Gq=Function.prototype,Yq=Object.prototype,Xq=Gq.toString,Qq=Yq.hasOwnProperty,Jq=RegExp("^"+Xq.call(Qq).replace(Wq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zq(e){if(!qq(e)||Vq(e))return!1;var t=zq(e)?Jq:Kq;return t.test(Hq(e))}var eH=Zq;function tH(e,t){return e==null?void 0:e[t]}var rH=tH,nH=eH,sH=rH;function aH(e,t){var r=sH(e,t);return nH(r)?r:void 0}var cl=aH,iH=cl,oH=iH(Object,"create"),Gx=oH,P2=Gx;function lH(){this.__data__=P2?P2(null):{},this.size=0}var cH=lH;function dH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var uH=dH,fH=Gx,hH="__lodash_hash_undefined__",mH=Object.prototype,pH=mH.hasOwnProperty;function xH(e){var t=this.__data__;if(fH){var r=t[e];return r===hH?void 0:r}return pH.call(t,e)?t[e]:void 0}var gH=xH,vH=Gx,yH=Object.prototype,bH=yH.hasOwnProperty;function jH(e){var t=this.__data__;return vH?t[e]!==void 0:bH.call(t,e)}var wH=jH,NH=Gx,SH="__lodash_hash_undefined__";function PH(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=NH&&t===void 0?SH:t,this}var CH=PH,AH=cH,EH=uH,OH=gH,kH=wH,TH=CH;function pd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}pd.prototype.clear=AH;pd.prototype.delete=EH;pd.prototype.get=OH;pd.prototype.has=kH;pd.prototype.set=TH;var IH=pd;function _H(){this.__data__=[],this.size=0}var RH=_H;function MH(e,t){return e===t||e!==e&&t!==t}var Jw=MH,DH=Jw;function $H(e,t){for(var r=e.length;r--;)if(DH(e[r][0],t))return r;return-1}var Yx=$H,LH=Yx,FH=Array.prototype,BH=FH.splice;function UH(e){var t=this.__data__,r=LH(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():BH.call(t,r,1),--this.size,!0}var zH=UH,VH=Yx;function qH(e){var t=this.__data__,r=VH(t,e);return r<0?void 0:t[r][1]}var HH=qH,WH=Yx;function KH(e){return WH(this.__data__,e)>-1}var GH=KH,YH=Yx;function XH(e,t){var r=this.__data__,s=YH(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}var QH=XH,JH=RH,ZH=zH,eW=HH,tW=GH,rW=QH;function xd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}xd.prototype.clear=JH;xd.prototype.delete=ZH;xd.prototype.get=eW;xd.prototype.has=tW;xd.prototype.set=rW;var Xx=xd,nW=cl,sW=va,aW=nW(sW,"Map"),Zw=aW,C2=IH,iW=Xx,oW=Zw;function lW(){this.size=0,this.__data__={hash:new C2,map:new(oW||iW),string:new C2}}var cW=lW;function dW(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var uW=dW,fW=uW;function hW(e,t){var r=e.__data__;return fW(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Qx=hW,mW=Qx;function pW(e){var t=mW(this,e).delete(e);return this.size-=t?1:0,t}var xW=pW,gW=Qx;function vW(e){return gW(this,e).get(e)}var yW=vW,bW=Qx;function jW(e){return bW(this,e).has(e)}var wW=jW,NW=Qx;function SW(e,t){var r=NW(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}var PW=SW,CW=cW,AW=xW,EW=yW,OW=wW,kW=PW;function gd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}gd.prototype.clear=CW;gd.prototype.delete=AW;gd.prototype.get=EW;gd.prototype.has=OW;gd.prototype.set=kW;var eN=gd,a_=eN,TW="Expected a function";function tN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(TW);var r=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return r.cache=i.set(a,o)||i,o};return r.cache=new(tN.Cache||a_),r}tN.Cache=a_;var i_=tN;const IW=Lt(i_);var _W=i_,RW=500;function MW(e){var t=_W(e,function(s){return r.size===RW&&r.clear(),s}),r=t.cache;return t}var DW=MW,$W=DW,LW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FW=/\\(\\)?/g,BW=$W(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(LW,function(r,s,a,i){t.push(a?i.replace(FW,"$1"):s||r)}),t}),UW=BW;function zW(e,t){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=t(e[r],r,e);return a}var rN=zW,A2=Wf,VW=rN,qW=Dn,HW=hd,WW=1/0,E2=A2?A2.prototype:void 0,O2=E2?E2.toString:void 0;function o_(e){if(typeof e=="string")return e;if(qW(e))return VW(e,o_)+"";if(HW(e))return O2?O2.call(e):"";var t=e+"";return t=="0"&&1/e==-WW?"-0":t}var KW=o_,GW=KW;function YW(e){return e==null?"":GW(e)}var l_=YW,XW=Dn,QW=Xw,JW=UW,ZW=l_;function eK(e,t){return XW(e)?e:QW(e,t)?[e]:JW(ZW(e))}var c_=eK,tK=hd,rK=1/0;function nK(e){if(typeof e=="string"||tK(e))return e;var t=e+"";return t=="0"&&1/e==-rK?"-0":t}var Jx=nK,sK=c_,aK=Jx;function iK(e,t){t=sK(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[aK(t[r++])];return r&&r==s?e:void 0}var nN=iK,oK=nN;function lK(e,t,r){var s=e==null?void 0:oK(e,t);return s===void 0?r:s}var d_=lK;const Yn=Lt(d_);function cK(e){return e==null}var dK=cK;const dt=Lt(dK);var uK=ei,fK=Dn,hK=ti,mK="[object String]";function pK(e){return typeof e=="string"||!fK(e)&&hK(e)&&uK(e)==mK}var xK=pK;const Wo=Lt(xK);var u_={exports:{}},zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN=Symbol.for("react.element"),aN=Symbol.for("react.portal"),Zx=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),rg=Symbol.for("react.provider"),ng=Symbol.for("react.context"),gK=Symbol.for("react.server_context"),sg=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),ig=Symbol.for("react.suspense_list"),og=Symbol.for("react.memo"),lg=Symbol.for("react.lazy"),vK=Symbol.for("react.offscreen"),f_;f_=Symbol.for("react.module.reference");function ys(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sN:switch(e=e.type,e){case Zx:case tg:case eg:case ag:case ig:return e;default:switch(e=e&&e.$$typeof,e){case gK:case ng:case sg:case lg:case og:case rg:return e;default:return t}}case aN:return t}}}zt.ContextConsumer=ng;zt.ContextProvider=rg;zt.Element=sN;zt.ForwardRef=sg;zt.Fragment=Zx;zt.Lazy=lg;zt.Memo=og;zt.Portal=aN;zt.Profiler=tg;zt.StrictMode=eg;zt.Suspense=ag;zt.SuspenseList=ig;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(e){return ys(e)===ng};zt.isContextProvider=function(e){return ys(e)===rg};zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sN};zt.isForwardRef=function(e){return ys(e)===sg};zt.isFragment=function(e){return ys(e)===Zx};zt.isLazy=function(e){return ys(e)===lg};zt.isMemo=function(e){return ys(e)===og};zt.isPortal=function(e){return ys(e)===aN};zt.isProfiler=function(e){return ys(e)===tg};zt.isStrictMode=function(e){return ys(e)===eg};zt.isSuspense=function(e){return ys(e)===ag};zt.isSuspenseList=function(e){return ys(e)===ig};zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zx||e===tg||e===eg||e===ag||e===ig||e===vK||typeof e=="object"&&e!==null&&(e.$$typeof===lg||e.$$typeof===og||e.$$typeof===rg||e.$$typeof===ng||e.$$typeof===sg||e.$$typeof===f_||e.getModuleId!==void 0)};zt.typeOf=ys;u_.exports=zt;var yK=u_.exports,bK=ei,jK=ti,wK="[object Number]";function NK(e){return typeof e=="number"||jK(e)&&bK(e)==wK}var h_=NK;const SK=Lt(h_);var PK=h_;function CK(e){return PK(e)&&e!=+e}var AK=CK;const vd=Lt(AK);var gn=function(t){return t===0?0:t>0?1:-1},bo=function(t){return Wo(t)&&t.indexOf("%")===t.length-1},_e=function(t){return SK(t)&&!vd(t)},EK=function(t){return dt(t)},$r=function(t){return _e(t)||Wo(t)},OK=0,dl=function(t){var r=++OK;return"".concat(t||"").concat(r)},vn=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&!Wo(t))return s;var i;if(bo(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return vd(i)&&(i=s),a&&i>r&&(i=r),i},gi=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},kK=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},Mr=function(t,r){return _e(t)&&_e(r)?function(s){return t+s*(r-t)}:function(){return r}};function Zm(e,t,r){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Yn(s,t))===r})}var TK=function(t,r){return _e(t)&&_e(r)?t-r:Wo(t)&&Wo(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function sc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}var IK=["viewBox","children"],_K=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k2=["points","pathLength"],Uv={svg:IK,polygon:k2,polyline:k2},iN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ep=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(m.isValidElement(t)&&(s=t.props),!md(s))return null;var a={};return Object.keys(s).forEach(function(i){iN.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},RK=function(t,r,s){return function(a){return t(r,s,a),null}},Ko=function(t,r,s){if(!md(t)||z0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];iN.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=RK(o,r,s))}),a},MK=["children"],DK=["children"];function T2(e,t){if(e==null)return{};var r=$K(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function $K(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}var I2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},La=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},_2=null,zv=null,oN=function e(t){if(t===_2&&Array.isArray(zv))return zv;var r=[];return m.Children.forEach(t,function(s){dt(s)||(yK.isFragment(s)?r=r.concat(e(s.props.children)):r.push(s))}),zv=r,_2=t,r};function Xn(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(function(a){return La(a)}):s=[La(t)],oN(e).forEach(function(a){var i=Yn(a,"type.displayName")||Yn(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function zn(e,t){var r=Xn(e,t);return r&&r[0]}var R2=function(t){if(!t||!t.props)return!1;var r=t.props,s=r.width,a=r.height;return!(!_e(s)||s<=0||!_e(a)||a<=0)},LK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],FK=function(t){return t&&t.type&&Wo(t.type)&&LK.indexOf(t.type)>=0},m_=function(t){return t&&V0(t)==="object"&&"clipDot"in t},BK=function(t,r,s,a){var i,o=(i=Uv==null?void 0:Uv[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!lt(t)&&(a&&o.includes(r)||_K.includes(r))||s&&iN.includes(r)},tt=function(t,r,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(m.isValidElement(t)&&(a=t.props),!md(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;BK((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},q0=function e(t,r){if(t===r)return!0;var s=m.Children.count(t);if(s!==m.Children.count(r))return!1;if(s===0)return!0;if(s===1)return M2(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!M2(i,o))return!1}return!0},M2=function(t,r){if(dt(t)&&dt(r))return!0;if(!dt(t)&&!dt(r)){var s=t.props||{},a=s.children,i=T2(s,MK),o=r.props||{},l=o.children,c=T2(o,DK);return a&&l?sc(i,c)&&q0(a,l):!a&&!l?sc(i,c):!1}return!1},D2=function(t,r){var s=[],a={};return oN(t).forEach(function(i,o){if(FK(i))s.push(i);else if(i){var l=La(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var f=d(i,l,o);s.push(f),a[l]=!0}}}),s},UK=function(t){var r=t&&t.type;return r&&I2[r]?I2[r]:null},zK=function(t,r){return oN(r).indexOf(t)},VK=["children","width","height","viewBox","className","style","title","desc"];function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},H0.apply(this,arguments)}function qK(e,t){if(e==null)return{};var r=HK(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function HK(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function W0(e){var t=e.children,r=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=qK(e,VK),u=a||{width:r,height:s,x:0,y:0},f=ft("recharts-surface",i);return F.createElement("svg",H0({},tt(d,!0,"svg"),{className:f,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),F.createElement("title",null,l),F.createElement("desc",null,c),t)}var WK=["children","className"];function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},K0.apply(this,arguments)}function KK(e,t){if(e==null)return{};var r=GK(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function GK(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var St=F.forwardRef(function(e,t){var r=e.children,s=e.className,a=KK(e,WK),i=ft("recharts-layer",s);return F.createElement("g",K0({className:i},tt(a,!0),{ref:t}),r)}),Ls=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function YK(e,t,r){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var XK=YK,QK=XK;function JK(e,t,r){var s=e.length;return r=r===void 0?s:r,!t&&r>=s?e:QK(e,t,r)}var ZK=JK,eG="\\ud800-\\udfff",tG="\\u0300-\\u036f",rG="\\ufe20-\\ufe2f",nG="\\u20d0-\\u20ff",sG=tG+rG+nG,aG="\\ufe0e\\ufe0f",iG="\\u200d",oG=RegExp("["+iG+eG+sG+aG+"]");function lG(e){return oG.test(e)}var p_=lG;function cG(e){return e.split("")}var dG=cG,x_="\\ud800-\\udfff",uG="\\u0300-\\u036f",fG="\\ufe20-\\ufe2f",hG="\\u20d0-\\u20ff",mG=uG+fG+hG,pG="\\ufe0e\\ufe0f",xG="["+x_+"]",G0="["+mG+"]",Y0="\\ud83c[\\udffb-\\udfff]",gG="(?:"+G0+"|"+Y0+")",g_="[^"+x_+"]",v_="(?:\\ud83c[\\udde6-\\uddff]){2}",y_="[\\ud800-\\udbff][\\udc00-\\udfff]",vG="\\u200d",b_=gG+"?",j_="["+pG+"]?",yG="(?:"+vG+"(?:"+[g_,v_,y_].join("|")+")"+j_+b_+")*",bG=j_+b_+yG,jG="(?:"+[g_+G0+"?",G0,v_,y_,xG].join("|")+")",wG=RegExp(Y0+"(?="+Y0+")|"+jG+bG,"g");function NG(e){return e.match(wG)||[]}var SG=NG,PG=dG,CG=p_,AG=SG;function EG(e){return CG(e)?AG(e):PG(e)}var OG=EG,kG=ZK,TG=p_,IG=OG,_G=l_;function RG(e){return function(t){t=_G(t);var r=TG(t)?IG(t):void 0,s=r?r[0]:t.charAt(0),a=r?kG(r,1).join(""):t.slice(1);return s[e]()+a}}var MG=RG,DG=MG,$G=DG("toUpperCase"),LG=$G;const cg=Lt(LG);function Yt(e){return function(){return e}}const w_=Math.cos,tp=Math.sin,Hs=Math.sqrt,rp=Math.PI,dg=2*rp,X0=Math.PI,Q0=2*X0,fo=1e-6,FG=Q0-fo;function N_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function BG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return N_;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class UG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?N_:BG(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,d=a-r,u=o-t,f=l-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fo)if(!(Math.abs(f*c-d*u)>fo)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=s-o,b=a-l,x=c*c+d*d,g=p*p+b*b,y=Math.sqrt(x),v=Math.sqrt(h),j=i*Math.tan((X0-Math.acos((x+h-g)/(2*y*v)))/2),S=j/v,w=j/y;Math.abs(S-1)>fo&&this._append`L${t+S*u},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*p>u*b)},${this._x1=t+w*c},${this._y1=r+w*d}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=t+l,u=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>fo||Math.abs(this._y1-u)>fo)&&this._append`L${d},${u}`,s&&(h<0&&(h=h%Q0+Q0),h>FG?this._append`A${s},${s},0,1,${f},${t-l},${r-c}A${s},${s},0,1,${f},${this._x1=d},${this._y1=u}`:h>fo&&this._append`A${s},${s},0,${+(h>=X0)},${f},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function lN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new UG(t)}function cN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function S_(e){this._context=e}S_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ug(e){return new S_(e)}function P_(e){return e[0]}function C_(e){return e[1]}function A_(e,t){var r=Yt(!0),s=null,a=ug,i=null,o=lN(l);e=typeof e=="function"?e:e===void 0?P_:Yt(e),t=typeof t=="function"?t:t===void 0?C_:Yt(t);function l(c){var d,u=(c=cN(c)).length,f,h=!1,p;for(s==null&&(i=a(p=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,d,c),+t(f,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Yt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Yt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Yt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function $h(e,t,r){var s=null,a=Yt(!0),i=null,o=ug,l=null,c=lN(d);e=typeof e=="function"?e:e===void 0?P_:Yt(+e),t=typeof t=="function"?t:Yt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?C_:Yt(+r);function d(f){var h,p,b,x=(f=cN(f)).length,g,y=!1,v,j=new Array(x),S=new Array(x);for(i==null&&(l=o(v=c())),h=0;h<=x;++h){if(!(h<x&&a(g=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=h-1;b>=p;--b)l.point(j[b],S[b]);l.lineEnd(),l.areaEnd()}y&&(j[h]=+e(g,h,f),S[h]=+t(g,h,f),l.point(s?+s(g,h,f):j[h],r?+r(g,h,f):S[h]))}if(v)return l=null,v+""||null}function u(){return A_().defined(a).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),s=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),d):e},d.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Yt(+f),d):s},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yt(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(s).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Yt(!!f),d):a},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class E_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function zG(e){return new E_(e,!0)}function VG(e){return new E_(e,!1)}const dN={draw(e,t){const r=Hs(t/rp);e.moveTo(r,0),e.arc(0,0,r,0,dg)}},qG={draw(e,t){const r=Hs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},O_=Hs(1/3),HG=O_*2,WG={draw(e,t){const r=Hs(t/HG),s=r*O_;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},KG={draw(e,t){const r=Hs(t),s=-r/2;e.rect(s,s,r,r)}},GG=.8908130915292852,k_=tp(rp/10)/tp(7*rp/10),YG=tp(dg/10)*k_,XG=-w_(dg/10)*k_,QG={draw(e,t){const r=Hs(t*GG),s=YG*r,a=XG*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=dg*i/5,l=w_(o),c=tp(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},Vv=Hs(3),JG={draw(e,t){const r=-Hs(t/(Vv*3));e.moveTo(0,r*2),e.lineTo(-Vv*r,-r),e.lineTo(Vv*r,-r),e.closePath()}},rs=-.5,ns=Hs(3)/2,J0=1/Hs(12),ZG=(J0/2+1)*3,eY={draw(e,t){const r=Hs(t/ZG),s=r/2,a=r*J0,i=s,o=r*J0+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(rs*s-ns*a,ns*s+rs*a),e.lineTo(rs*i-ns*o,ns*i+rs*o),e.lineTo(rs*l-ns*c,ns*l+rs*c),e.lineTo(rs*s+ns*a,rs*a-ns*s),e.lineTo(rs*i+ns*o,rs*o-ns*i),e.lineTo(rs*l+ns*c,rs*c-ns*l),e.closePath()}};function tY(e,t){let r=null,s=lN(a);e=typeof e=="function"?e:Yt(e||dN),t=typeof t=="function"?t:Yt(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Yt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function np(){}function sp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function T_(e){this._context=e}T_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rY(e){return new T_(e)}function I_(e){this._context=e}I_.prototype={areaStart:np,areaEnd:np,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nY(e){return new I_(e)}function __(e){this._context=e}__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:sp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sY(e){return new __(e)}function R_(e){this._context=e}R_.prototype={areaStart:np,areaEnd:np,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aY(e){return new R_(e)}function $2(e){return e<0?-1:1}function L2(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return($2(i)+$2(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function F2(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qv(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function ap(e){this._context=e}ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qv(this,this._t0,F2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qv(this,F2(this,r=L2(this,e,t)),r);break;default:qv(this,this._t0,r=L2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function M_(e){this._context=new D_(e)}(M_.prototype=Object.create(ap.prototype)).point=function(e,t){ap.prototype.point.call(this,t,e)};function D_(e){this._context=e}D_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function iY(e){return new ap(e)}function oY(e){return new M_(e)}function $_(e){this._context=e}$_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=B2(e),a=B2(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function B2(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function lY(e){return new $_(e)}function fg(e,t){this._context=e,this._t=t}fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function cY(e){return new fg(e,.5)}function dY(e){return new fg(e,0)}function uY(e){return new fg(e,1)}function Ac(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function Z0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function fY(e,t){return e[t]}function hY(e){const t=[];return t.key=e,t}function mY(){var e=Yt([]),t=Z0,r=Ac,s=fY;function a(i){var o=Array.from(e.apply(this,arguments),hY),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(f,o[l].key,d,i)]).data=f;for(l=0,u=cN(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Yt(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?Z0:typeof i=="function"?i:Yt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ac,a):r},a}function pY(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}Ac(e,t)}}function xY(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}Ac(e,t)}}function gY(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[s][1]||0,h=u[s-1][1]||0,p=(f-h)/2,b=0;b<l;++b){var x=e[t[b]],g=x[s][1]||0,y=x[s-1][1]||0;p+=g-y}c+=f,d+=p*f}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,Ac(e,t)}}function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}var vY=["type","size","sizeType"];function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},eb.apply(this,arguments)}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function z2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(s){yY(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yY(e,t,r){return t=bY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bY(e){var t=jY(e,"string");return Gu(t)=="symbol"?t:t+""}function jY(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Gu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wY(e,t){if(e==null)return{};var r=NY(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function NY(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var L_={symbolCircle:dN,symbolCross:qG,symbolDiamond:WG,symbolSquare:KG,symbolStar:QG,symbolTriangle:JG,symbolWye:eY},SY=Math.PI/180,PY=function(t){var r="symbol".concat(cg(t));return L_[r]||dN},CY=function(t,r,s){if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*SY;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},AY=function(t,r){L_["symbol".concat(cg(t))]=r},uN=function(t){var r=t.type,s=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=wY(t,vY),d=z2(z2({},c),{},{type:s,size:i,sizeType:l}),u=function(){var g=PY(s),y=tY().type(g).size(CY(i,l,s));return y()},f=d.className,h=d.cx,p=d.cy,b=tt(d,!0);return h===+h&&p===+p&&i===+i?F.createElement("path",eb({},b,{className:ft("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};uN.registerSymbol=AY;function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},tb.apply(this,arguments)}function V2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function EY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(r),!0).forEach(function(s){Yu(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function OY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kY(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,B_(s.key),s)}}function TY(e,t,r){return t&&kY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IY(e,t,r){return t=ip(t),_Y(e,F_()?Reflect.construct(t,r||[],ip(e).constructor):t.apply(e,r))}function _Y(e,t){if(t&&(Ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RY(e)}function RY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F_=function(){return!!e})()}function ip(e){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ip(e)}function MY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rb(e,t)}function rb(e,t){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},rb(e,t)}function Yu(e,t,r){return t=B_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B_(e){var t=DY(e,"string");return Ec(t)=="symbol"?t:t+""}function DY(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ec(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ss=32,fN=function(e){function t(){return OY(this,t),IY(this,t,arguments)}return MY(t,e),TY(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=ss/2,o=ss/6,l=ss/3,c=s.inactive?a:s.color;if(s.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:ss,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ss,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return F.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ss/8,"h").concat(ss,"v").concat(ss*3/4,"h").concat(-ss,"z"),className:"recharts-legend-icon"});if(F.isValidElement(s.legendIcon)){var d=EY({},s);return delete d.legendIcon,F.cloneElement(s.legendIcon,d)}return F.createElement(uN,{fill:c,cx:i,cy:i,size:ss,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:ss,height:ss},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,b){var x=p.formatter||c,g=ft(Yu(Yu({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=lt(p.value)?null:p.value;Ls(!lt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?d:p.color;return F.createElement("li",tb({className:g,style:f,key:"legend-item-".concat(b)},Ko(s.props,p,b)),F.createElement(W0,{width:o,height:o,viewBox:u,style:h},s.renderIcon(p)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},x?x(y,p,b):y))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(m.PureComponent);Yu(fN,"displayName","Legend");Yu(fN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $Y=Xx;function LY(){this.__data__=new $Y,this.size=0}var FY=LY;function BY(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var UY=BY;function zY(e){return this.__data__.get(e)}var VY=zY;function qY(e){return this.__data__.has(e)}var HY=qY,WY=Xx,KY=Zw,GY=eN,YY=200;function XY(e,t){var r=this.__data__;if(r instanceof WY){var s=r.__data__;if(!KY||s.length<YY-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new GY(s)}return r.set(e,t),this.size=r.size,this}var QY=XY,JY=Xx,ZY=FY,eX=UY,tX=VY,rX=HY,nX=QY;function yd(e){var t=this.__data__=new JY(e);this.size=t.size}yd.prototype.clear=ZY;yd.prototype.delete=eX;yd.prototype.get=tX;yd.prototype.has=rX;yd.prototype.set=nX;var U_=yd,sX="__lodash_hash_undefined__";function aX(e){return this.__data__.set(e,sX),this}var iX=aX;function oX(e){return this.__data__.has(e)}var lX=oX,cX=eN,dX=iX,uX=lX;function op(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new cX;++t<r;)this.add(e[t])}op.prototype.add=op.prototype.push=dX;op.prototype.has=uX;var z_=op;function fX(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}var V_=fX;function hX(e,t){return e.has(t)}var q_=hX,mX=z_,pX=V_,xX=q_,gX=1,vX=2;function yX(e,t,r,s,a,i){var o=r&gX,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,h=!0,p=r&vX?new mX:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var b=e[f],x=t[f];if(s)var g=o?s(x,b,f,t,e,i):s(b,x,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!pX(t,function(y,v){if(!xX(p,v)&&(b===y||a(b,y,r,s,i)))return p.push(v)})){h=!1;break}}else if(!(b===x||a(b,x,r,s,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var H_=yX,bX=va,jX=bX.Uint8Array,wX=jX;function NX(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}var SX=NX;function PX(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var hN=PX,q2=Wf,H2=wX,CX=Jw,AX=H_,EX=SX,OX=hN,kX=1,TX=2,IX="[object Boolean]",_X="[object Date]",RX="[object Error]",MX="[object Map]",DX="[object Number]",$X="[object RegExp]",LX="[object Set]",FX="[object String]",BX="[object Symbol]",UX="[object ArrayBuffer]",zX="[object DataView]",W2=q2?q2.prototype:void 0,Hv=W2?W2.valueOf:void 0;function VX(e,t,r,s,a,i,o){switch(r){case zX:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case UX:return!(e.byteLength!=t.byteLength||!i(new H2(e),new H2(t)));case IX:case _X:case DX:return CX(+e,+t);case RX:return e.name==t.name&&e.message==t.message;case $X:case FX:return e==t+"";case MX:var l=EX;case LX:var c=s&kX;if(l||(l=OX),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;s|=TX,o.set(e,t);var u=AX(l(e),l(t),s,a,i,o);return o.delete(e),u;case BX:if(Hv)return Hv.call(e)==Hv.call(t)}return!1}var qX=VX;function HX(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var W_=HX,WX=W_,KX=Dn;function GX(e,t,r){var s=t(e);return KX(e)?s:WX(s,r(e))}var YX=GX;function XX(e,t){for(var r=-1,s=e==null?0:e.length,a=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var QX=XX;function JX(){return[]}var ZX=JX,eQ=QX,tQ=ZX,rQ=Object.prototype,nQ=rQ.propertyIsEnumerable,K2=Object.getOwnPropertySymbols,sQ=K2?function(e){return e==null?[]:(e=Object(e),eQ(K2(e),function(t){return nQ.call(e,t)}))}:tQ,aQ=sQ;function iQ(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var oQ=iQ,lQ=ei,cQ=ti,dQ="[object Arguments]";function uQ(e){return cQ(e)&&lQ(e)==dQ}var fQ=uQ,G2=fQ,hQ=ti,K_=Object.prototype,mQ=K_.hasOwnProperty,pQ=K_.propertyIsEnumerable,xQ=G2(function(){return arguments}())?G2:function(e){return hQ(e)&&mQ.call(e,"callee")&&!pQ.call(e,"callee")},mN=xQ,lp={exports:{}};function gQ(){return!1}var vQ=gQ;lp.exports;(function(e,t){var r=va,s=vQ,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(lp,lp.exports);var G_=lp.exports,yQ=9007199254740991,bQ=/^(?:0|[1-9]\d*)$/;function jQ(e,t){var r=typeof e;return t=t??yQ,!!t&&(r=="number"||r!="symbol"&&bQ.test(e))&&e>-1&&e%1==0&&e<t}var pN=jQ,wQ=9007199254740991;function NQ(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wQ}var xN=NQ,SQ=ei,PQ=xN,CQ=ti,AQ="[object Arguments]",EQ="[object Array]",OQ="[object Boolean]",kQ="[object Date]",TQ="[object Error]",IQ="[object Function]",_Q="[object Map]",RQ="[object Number]",MQ="[object Object]",DQ="[object RegExp]",$Q="[object Set]",LQ="[object String]",FQ="[object WeakMap]",BQ="[object ArrayBuffer]",UQ="[object DataView]",zQ="[object Float32Array]",VQ="[object Float64Array]",qQ="[object Int8Array]",HQ="[object Int16Array]",WQ="[object Int32Array]",KQ="[object Uint8Array]",GQ="[object Uint8ClampedArray]",YQ="[object Uint16Array]",XQ="[object Uint32Array]",rr={};rr[zQ]=rr[VQ]=rr[qQ]=rr[HQ]=rr[WQ]=rr[KQ]=rr[GQ]=rr[YQ]=rr[XQ]=!0;rr[AQ]=rr[EQ]=rr[BQ]=rr[OQ]=rr[UQ]=rr[kQ]=rr[TQ]=rr[IQ]=rr[_Q]=rr[RQ]=rr[MQ]=rr[DQ]=rr[$Q]=rr[LQ]=rr[FQ]=!1;function QQ(e){return CQ(e)&&PQ(e.length)&&!!rr[SQ(e)]}var JQ=QQ;function ZQ(e){return function(t){return e(t)}}var Y_=ZQ,cp={exports:{}};cp.exports;(function(e,t){var r=r_,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(cp,cp.exports);var eJ=cp.exports,tJ=JQ,rJ=Y_,Y2=eJ,X2=Y2&&Y2.isTypedArray,nJ=X2?rJ(X2):tJ,X_=nJ,sJ=oQ,aJ=mN,iJ=Dn,oJ=G_,lJ=pN,cJ=X_,dJ=Object.prototype,uJ=dJ.hasOwnProperty;function fJ(e,t){var r=iJ(e),s=!r&&aJ(e),a=!r&&!s&&oJ(e),i=!r&&!s&&!a&&cJ(e),o=r||s||a||i,l=o?sJ(e.length,String):[],c=l.length;for(var d in e)(t||uJ.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||lJ(d,c)))&&l.push(d);return l}var hJ=fJ,mJ=Object.prototype;function pJ(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||mJ;return e===r}var xJ=pJ;function gJ(e,t){return function(r){return e(t(r))}}var Q_=gJ,vJ=Q_,yJ=vJ(Object.keys,Object),bJ=yJ,jJ=xJ,wJ=bJ,NJ=Object.prototype,SJ=NJ.hasOwnProperty;function PJ(e){if(!jJ(e))return wJ(e);var t=[];for(var r in Object(e))SJ.call(e,r)&&r!="constructor"&&t.push(r);return t}var CJ=PJ,AJ=Qw,EJ=xN;function OJ(e){return e!=null&&EJ(e.length)&&!AJ(e)}var Kf=OJ,kJ=hJ,TJ=CJ,IJ=Kf;function _J(e){return IJ(e)?kJ(e):TJ(e)}var hg=_J,RJ=YX,MJ=aQ,DJ=hg;function $J(e){return RJ(e,DJ,MJ)}var LJ=$J,Q2=LJ,FJ=1,BJ=Object.prototype,UJ=BJ.hasOwnProperty;function zJ(e,t,r,s,a,i){var o=r&FJ,l=Q2(e),c=l.length,d=Q2(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:UJ.call(t,h)))return!1}var p=i.get(e),b=i.get(t);if(p&&b)return p==t&&b==e;var x=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){h=l[f];var y=e[h],v=t[h];if(s)var j=o?s(v,y,h,t,e,i):s(y,v,h,e,t,i);if(!(j===void 0?y===v||a(y,v,r,s,i):j)){x=!1;break}g||(g=h=="constructor")}if(x&&!g){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(x=!1)}return i.delete(e),i.delete(t),x}var VJ=zJ,qJ=cl,HJ=va,WJ=qJ(HJ,"DataView"),KJ=WJ,GJ=cl,YJ=va,XJ=GJ(YJ,"Promise"),QJ=XJ,JJ=cl,ZJ=va,eZ=JJ(ZJ,"Set"),J_=eZ,tZ=cl,rZ=va,nZ=tZ(rZ,"WeakMap"),sZ=nZ,nb=KJ,sb=Zw,ab=QJ,ib=J_,ob=sZ,Z_=ei,bd=s_,J2="[object Map]",aZ="[object Object]",Z2="[object Promise]",eP="[object Set]",tP="[object WeakMap]",rP="[object DataView]",iZ=bd(nb),oZ=bd(sb),lZ=bd(ab),cZ=bd(ib),dZ=bd(ob),ho=Z_;(nb&&ho(new nb(new ArrayBuffer(1)))!=rP||sb&&ho(new sb)!=J2||ab&&ho(ab.resolve())!=Z2||ib&&ho(new ib)!=eP||ob&&ho(new ob)!=tP)&&(ho=function(e){var t=Z_(e),r=t==aZ?e.constructor:void 0,s=r?bd(r):"";if(s)switch(s){case iZ:return rP;case oZ:return J2;case lZ:return Z2;case cZ:return eP;case dZ:return tP}return t});var uZ=ho,Wv=U_,fZ=H_,hZ=qX,mZ=VJ,nP=uZ,sP=Dn,aP=G_,pZ=X_,xZ=1,iP="[object Arguments]",oP="[object Array]",Lh="[object Object]",gZ=Object.prototype,lP=gZ.hasOwnProperty;function vZ(e,t,r,s,a,i){var o=sP(e),l=sP(t),c=o?oP:nP(e),d=l?oP:nP(t);c=c==iP?Lh:c,d=d==iP?Lh:d;var u=c==Lh,f=d==Lh,h=c==d;if(h&&aP(e)){if(!aP(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new Wv),o||pZ(e)?fZ(e,t,r,s,a,i):hZ(e,t,c,r,s,a,i);if(!(r&xZ)){var p=u&&lP.call(e,"__wrapped__"),b=f&&lP.call(t,"__wrapped__");if(p||b){var x=p?e.value():e,g=b?t.value():t;return i||(i=new Wv),a(x,g,r,s,i)}}return h?(i||(i=new Wv),mZ(e,t,r,s,a,i)):!1}var yZ=vZ,bZ=yZ,cP=ti;function eR(e,t,r,s,a){return e===t?!0:e==null||t==null||!cP(e)&&!cP(t)?e!==e&&t!==t:bZ(e,t,r,s,eR,a)}var gN=eR,jZ=U_,wZ=gN,NZ=1,SZ=2;function PZ(e,t,r,s){var a=r.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new jZ;if(s)var h=s(d,u,c,e,t,f);if(!(h===void 0?wZ(u,d,NZ|SZ,s,f):h))return!1}}return!0}var CZ=PZ,AZ=to;function EZ(e){return e===e&&!AZ(e)}var tR=EZ,OZ=tR,kZ=hg;function TZ(e){for(var t=kZ(e),r=t.length;r--;){var s=t[r],a=e[s];t[r]=[s,a,OZ(a)]}return t}var IZ=TZ;function _Z(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var rR=_Z,RZ=CZ,MZ=IZ,DZ=rR;function $Z(e){var t=MZ(e);return t.length==1&&t[0][2]?DZ(t[0][0],t[0][1]):function(r){return r===e||RZ(r,e,t)}}var LZ=$Z;function FZ(e,t){return e!=null&&t in Object(e)}var BZ=FZ,UZ=c_,zZ=mN,VZ=Dn,qZ=pN,HZ=xN,WZ=Jx;function KZ(e,t,r){t=UZ(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=WZ(t[s]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&HZ(a)&&qZ(o,a)&&(VZ(e)||zZ(e)))}var GZ=KZ,YZ=BZ,XZ=GZ;function QZ(e,t){return e!=null&&XZ(e,t,YZ)}var JZ=QZ,ZZ=gN,eee=d_,tee=JZ,ree=Xw,nee=tR,see=rR,aee=Jx,iee=1,oee=2;function lee(e,t){return ree(e)&&nee(t)?see(aee(e),t):function(r){var s=eee(r,e);return s===void 0&&s===t?tee(r,e):ZZ(t,s,iee|oee)}}var cee=lee;function dee(e){return e}var jd=dee;function uee(e){return function(t){return t==null?void 0:t[e]}}var fee=uee,hee=nN;function mee(e){return function(t){return hee(t,e)}}var pee=mee,xee=fee,gee=pee,vee=Xw,yee=Jx;function bee(e){return vee(e)?xee(yee(e)):gee(e)}var jee=bee,wee=LZ,Nee=cee,See=jd,Pee=Dn,Cee=jee;function Aee(e){return typeof e=="function"?e:e==null?See:typeof e=="object"?Pee(e)?Nee(e[0],e[1]):wee(e):Cee(e)}var ya=Aee;function Eee(e,t,r,s){for(var a=e.length,i=r+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var nR=Eee;function Oee(e){return e!==e}var kee=Oee;function Tee(e,t,r){for(var s=r-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var Iee=Tee,_ee=nR,Ree=kee,Mee=Iee;function Dee(e,t,r){return t===t?Mee(e,t,r):_ee(e,Ree,r)}var $ee=Dee,Lee=$ee;function Fee(e,t){var r=e==null?0:e.length;return!!r&&Lee(e,t,0)>-1}var Bee=Fee;function Uee(e,t,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(t,e[s]))return!0;return!1}var zee=Uee;function Vee(){}var qee=Vee,Kv=J_,Hee=qee,Wee=hN,Kee=1/0,Gee=Kv&&1/Wee(new Kv([,-0]))[1]==Kee?function(e){return new Kv(e)}:Hee,Yee=Gee,Xee=z_,Qee=Bee,Jee=zee,Zee=q_,ete=Yee,tte=hN,rte=200;function nte(e,t,r){var s=-1,a=Qee,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Jee;else if(i>=rte){var d=t?null:ete(e);if(d)return tte(d);o=!1,a=Zee,c=new Xee}else c=t?[]:l;e:for(;++s<i;){var u=e[s],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(u)}else a(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var ste=nte,ate=ya,ite=ste;function ote(e,t){return e&&e.length?ite(e,ate(t)):[]}var lte=ote;const dP=Lt(lte);function sR(e,t,r){return t===!0?dP(e,r):lt(t)?dP(e,t):e}function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}var cte=["ref"];function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(s){mg(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fP(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,iR(s.key),s)}}function ute(e,t,r){return t&&fP(e.prototype,t),r&&fP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fte(e,t,r){return t=dp(t),hte(e,aR()?Reflect.construct(t,r||[],dp(e).constructor):t.apply(e,r))}function hte(e,t){if(t&&(Oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mte(e)}function mte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aR=function(){return!!e})()}function dp(e){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dp(e)}function pte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lb(e,t)}function lb(e,t){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},lb(e,t)}function mg(e,t,r){return t=iR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iR(e){var t=xte(e,"string");return Oc(t)=="symbol"?t:t+""}function xte(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Oc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gte(e,t){if(e==null)return{};var r=vte(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function vte(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function yte(e){return e.value}function bte(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var r=gte(t,cte);return F.createElement(fN,r)}var hP=1,ac=function(e){function t(){var r;dte(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=fte(this,t,[].concat(a)),mg(r,"lastBoundingBox",{width:-1,height:-1}),r}return pte(t,e),ute(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>hP||Math.abs(a.height-this.lastBoundingBox.height)>hP)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,f,h;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((d||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();h={top:((u||0)-b.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return wa(wa({},f),h)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,f=wa(wa({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){s.wrapperNode=p}},bte(i,wa(wa({},this.props),{},{payload:sR(u,d,yte)})))}}],[{key:"getWithHeight",value:function(s,a){var i=wa(wa({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&_e(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(m.PureComponent);mg(ac,"displayName","Legend");mg(ac,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mP=Wf,jte=mN,wte=Dn,pP=mP?mP.isConcatSpreadable:void 0;function Nte(e){return wte(e)||jte(e)||!!(pP&&e&&e[pP])}var Ste=Nte,Pte=W_,Cte=Ste;function oR(e,t,r,s,a){var i=-1,o=e.length;for(r||(r=Cte),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?oR(l,t-1,r,s,a):Pte(a,l):s||(a[a.length]=l)}return a}var lR=oR;function Ate(e){return function(t,r,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Ete=Ate,Ote=Ete,kte=Ote(),Tte=kte,Ite=Tte,_te=hg;function Rte(e,t){return e&&Ite(e,t,_te)}var cR=Rte,Mte=Kf;function Dte(e,t){return function(r,s){if(r==null)return r;if(!Mte(r))return e(r,s);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return r}}var $te=Dte,Lte=cR,Fte=$te,Bte=Fte(Lte),vN=Bte,Ute=vN,zte=Kf;function Vte(e,t){var r=-1,s=zte(e)?Array(e.length):[];return Ute(e,function(a,i,o){s[++r]=t(a,i,o)}),s}var dR=Vte;function qte(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Hte=qte,xP=hd;function Wte(e,t){if(e!==t){var r=e!==void 0,s=e===null,a=e===e,i=xP(e),o=t!==void 0,l=t===null,c=t===t,d=xP(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||s&&o&&c||!r&&c||!a)return 1;if(!s&&!i&&!d&&e<t||d&&r&&a&&!s&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Kte=Wte,Gte=Kte;function Yte(e,t,r){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++s<o;){var c=Gte(a[s],i[s]);if(c){if(s>=l)return c;var d=r[s];return c*(d=="desc"?-1:1)}}return e.index-t.index}var Xte=Yte,Gv=rN,Qte=nN,Jte=ya,Zte=dR,ere=Hte,tre=Y_,rre=Xte,nre=jd,sre=Dn;function are(e,t,r){t.length?t=Gv(t,function(i){return sre(i)?function(o){return Qte(o,i.length===1?i[0]:i)}:i}):t=[nre];var s=-1;t=Gv(t,tre(Jte));var a=Zte(e,function(i,o,l){var c=Gv(t,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return ere(a,function(i,o){return rre(i,o,r)})}var ire=are;function ore(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var lre=ore,cre=lre,gP=Math.max;function dre(e,t,r){return t=gP(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=gP(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=r(o),cre(e,this,l)}}var ure=dre;function fre(e){return function(){return e}}var hre=fre,mre=cl,pre=function(){try{var e=mre(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uR=pre,xre=hre,vP=uR,gre=jd,vre=vP?function(e,t){return vP(e,"toString",{configurable:!0,enumerable:!1,value:xre(t),writable:!0})}:gre,yre=vre,bre=800,jre=16,wre=Date.now;function Nre(e){var t=0,r=0;return function(){var s=wre(),a=jre-(s-r);if(r=s,a>0){if(++t>=bre)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Sre=Nre,Pre=yre,Cre=Sre,Are=Cre(Pre),Ere=Are,Ore=jd,kre=ure,Tre=Ere;function Ire(e,t){return Tre(kre(e,t,Ore),e+"")}var _re=Ire,Rre=Jw,Mre=Kf,Dre=pN,$re=to;function Lre(e,t,r){if(!$re(r))return!1;var s=typeof t;return(s=="number"?Mre(r)&&Dre(t,r.length):s=="string"&&t in r)?Rre(r[t],e):!1}var pg=Lre,Fre=lR,Bre=ire,Ure=_re,yP=pg,zre=Ure(function(e,t){if(e==null)return[];var r=t.length;return r>1&&yP(e,t[0],t[1])?t=[]:r>2&&yP(t[0],t[1],t[2])&&(t=[t[0]]),Bre(e,Fre(t,1),[])}),Vre=zre;const yN=Lt(Vre);function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cb.apply(this,arguments)}function qre(e,t){return Gre(e)||Kre(e,t)||Wre(e,t)||Hre()}function Hre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wre(e,t){if(e){if(typeof e=="string")return bP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bP(e,t)}}function bP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Kre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Gre(e){if(Array.isArray(e))return e}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Yv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(s){Yre(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Yre(e,t,r){return t=Xre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xre(e){var t=Qre(e,"string");return Xu(t)=="symbol"?t:t+""}function Qre(e,t){if(Xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Xu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jre(e){return Array.isArray(e)&&$r(e[0])&&$r(e[1])?e.join(" ~ "):e}var Zre=function(t){var r=t.separator,s=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,b=t.labelClassName,x=t.label,g=t.labelFormatter,y=t.accessibilityLayer,v=y===void 0?!1:y,j=function(){if(u&&u.length){var R={padding:0,margin:0},q=(h?yN(u,h):u).map(function($,B){if($.type==="none")return null;var I=Yv({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),L=$.formatter||f||Jre,E=$.value,_=$.name,O=E,M=_;if(L&&O!=null&&M!=null){var A=L(E,_,$,B,u);if(Array.isArray(A)){var U=qre(A,2);O=U[0],M=U[1]}else O=A}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:I},$r(M)?F.createElement("span",{className:"recharts-tooltip-item-name"},M):null,$r(M)?F.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,F.createElement("span",{className:"recharts-tooltip-item-value"},O),F.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:R},q)}return null},S=Yv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=Yv({margin:0},d),N=!dt(x),P=N?x:"",C=ft("recharts-default-tooltip",p),k=ft("recharts-tooltip-label",b);N&&g&&u!==void 0&&u!==null&&(P=g(x,u));var D=v?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",cb({className:C,style:S},D),F.createElement("p",{className:k,style:w},F.isValidElement(P)?P:"".concat(P)),j())};function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function Fh(e,t,r){return t=ene(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ene(e){var t=tne(e,"string");return Qu(t)=="symbol"?t:t+""}function tne(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Qu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bd="recharts-tooltip-wrapper",rne={visibility:"hidden"};function nne(e){var t=e.coordinate,r=e.translateX,s=e.translateY;return ft(Bd,Fh(Fh(Fh(Fh({},"".concat(Bd,"-right"),_e(r)&&t&&_e(t.x)&&r>=t.x),"".concat(Bd,"-left"),_e(r)&&t&&_e(t.x)&&r<t.x),"".concat(Bd,"-bottom"),_e(s)&&t&&_e(t.y)&&s>=t.y),"".concat(Bd,"-top"),_e(s)&&t&&_e(t.y)&&s<t.y))}function wP(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&_e(i[s]))return i[s];var u=r[s]-l-a,f=r[s]+a;if(t[s])return o[s]?u:f;if(o[s]){var h=u,p=c[s];return h<p?Math.max(f,c[s]):Math.max(u,c[s])}var b=f+l,x=c[s]+d;return b>x?Math.max(u,c[s]):Math.max(f,c[s])}function sne(e){var t=e.translateX,r=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ane(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=wP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=wP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=sne({translateX:u,translateY:f,useTranslate3d:l})):d=rne,{cssProperties:d,cssClasses:nne({translateX:u,translateY:f,coordinate:r})}}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(s){ub(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ine(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function one(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,hR(s.key),s)}}function lne(e,t,r){return t&&one(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cne(e,t,r){return t=up(t),dne(e,fR()?Reflect.construct(t,r||[],up(e).constructor):t.apply(e,r))}function dne(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return une(e)}function une(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fR=function(){return!!e})()}function up(e){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},up(e)}function fne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&db(e,t)}function db(e,t){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},db(e,t)}function ub(e,t,r){return t=hR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hR(e){var t=hne(e,"string");return kc(t)=="symbol"?t:t+""}function hne(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(kc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PP=1,mne=function(e){function t(){var r;ine(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=cne(this,t,[].concat(a)),ub(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ub(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return fne(t,e),lne(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>PP||Math.abs(s.height-this.state.lastBoundingBox.height)>PP)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,b=a.position,x=a.reverseDirection,g=a.useTranslate3d,y=a.viewBox,v=a.wrapperStyle,j=ane({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:b,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),S=j.cssClasses,w=j.cssProperties,N=SP(SP({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return F.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(C){s.wrapperNode=C}},d)}}])}(m.PureComponent),pne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fs={isSsr:pne(),get:function(t){return Fs[t]},set:function(t,r){if(typeof t=="string")Fs[t]=r;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){Fs[a]=t[a]})}}};function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(s){bN(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function xne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gne(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,pR(s.key),s)}}function vne(e,t,r){return t&&gne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yne(e,t,r){return t=fp(t),bne(e,mR()?Reflect.construct(t,r||[],fp(e).constructor):t.apply(e,r))}function bne(e,t){if(t&&(Tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jne(e)}function jne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mR=function(){return!!e})()}function fp(e){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(e)}function wne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fb(e,t)}function fb(e,t){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},fb(e,t)}function bN(e,t,r){return t=pR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pR(e){var t=Nne(e,"string");return Tc(t)=="symbol"?t:t+""}function Nne(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Tc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sne(e){return e.dataKey}function Pne(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(Zre,t)}var Ys=function(e){function t(){return xne(this,t),yne(this,t,arguments)}return wne(t,e),vne(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,b=a.payload,x=a.payloadUniqBy,g=a.position,y=a.reverseDirection,v=a.useTranslate3d,j=a.viewBox,S=a.wrapperStyle,w=b??[];f&&w.length&&(w=sR(b.filter(function(P){return P.value!=null&&(P.hide!==!0||s.props.includeHidden)}),x,Sne));var N=w.length>0;return F.createElement(mne,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:N,offset:p,position:g,reverseDirection:y,useTranslate3d:v,viewBox:j,wrapperStyle:S},Pne(d,AP(AP({},this.props),{},{payload:w})))}}])}(m.PureComponent);bN(Ys,"displayName","Tooltip");bN(Ys,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Cne=va,Ane=function(){return Cne.Date.now()},Ene=Ane,One=/\s/;function kne(e){for(var t=e.length;t--&&One.test(e.charAt(t)););return t}var Tne=kne,Ine=Tne,_ne=/^\s+/;function Rne(e){return e&&e.slice(0,Ine(e)+1).replace(_ne,"")}var Mne=Rne,Dne=Mne,EP=to,$ne=hd,OP=NaN,Lne=/^[-+]0x[0-9a-f]+$/i,Fne=/^0b[01]+$/i,Bne=/^0o[0-7]+$/i,Une=parseInt;function zne(e){if(typeof e=="number")return e;if($ne(e))return OP;if(EP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=EP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Dne(e);var r=Fne.test(e);return r||Bne.test(e)?Une(e.slice(2),r?2:8):Lne.test(e)?OP:+e}var xR=zne,Vne=to,Xv=Ene,kP=xR,qne="Expected a function",Hne=Math.max,Wne=Math.min;function Kne(e,t,r){var s,a,i,o,l,c,d=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(qne);t=kP(t)||0,Vne(r)&&(u=!!r.leading,f="maxWait"in r,i=f?Hne(kP(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var P=s,C=a;return s=a=void 0,d=N,o=e.apply(C,P),o}function b(N){return d=N,l=setTimeout(y,t),u?p(N):o}function x(N){var P=N-c,C=N-d,k=t-P;return f?Wne(k,i-C):k}function g(N){var P=N-c,C=N-d;return c===void 0||P>=t||P<0||f&&C>=i}function y(){var N=Xv();if(g(N))return v(N);l=setTimeout(y,x(N))}function v(N){return l=void 0,h&&s?p(N):(s=a=void 0,o)}function j(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function S(){return l===void 0?o:v(Xv())}function w(){var N=Xv(),P=g(N);if(s=arguments,a=this,c=N,P){if(l===void 0)return b(c);if(f)return clearTimeout(l),l=setTimeout(y,t),p(c)}return l===void 0&&(l=setTimeout(y,t)),o}return w.cancel=j,w.flush=S,w}var Gne=Kne,Yne=Gne,Xne=to,Qne="Expected a function";function Jne(e,t,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(Qne);return Xne(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),Yne(e,t,{leading:s,maxWait:t,trailing:a})}var Zne=Jne;const gR=Lt(Zne);function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(s){ese(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ese(e,t,r){return t=tse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tse(e){var t=rse(e,"string");return Ju(t)=="symbol"?t:t+""}function rse(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ju(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nse(e,t){return ose(e)||ise(e,t)||ase(e,t)||sse()}function sse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ase(e,t){if(e){if(typeof e=="string")return IP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IP(e,t)}}function IP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function ise(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ose(e){if(Array.isArray(e))return e}var lse=m.forwardRef(function(e,t){var r=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,h=e.maxHeight,p=e.children,b=e.debounce,x=b===void 0?0:b,g=e.id,y=e.className,v=e.onResize,j=e.style,S=j===void 0?{}:j,w=m.useRef(null),N=m.useRef();N.current=v,m.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var P=m.useState({containerWidth:a.width,containerHeight:a.height}),C=nse(P,2),k=C[0],D=C[1],T=m.useCallback(function(q,$){D(function(B){var I=Math.round(q),L=Math.round($);return B.containerWidth===I&&B.containerHeight===L?B:{containerWidth:I,containerHeight:L}})},[]);m.useEffect(function(){var q=function(_){var O,M=_[0].contentRect,A=M.width,U=M.height;T(A,U),(O=N.current)===null||O===void 0||O.call(N,A,U)};x>0&&(q=gR(q,x,{trailing:!0,leading:!1}));var $=new ResizeObserver(q),B=w.current.getBoundingClientRect(),I=B.width,L=B.height;return T(I,L),$.observe(w.current),function(){$.disconnect()}},[T,x]);var R=m.useMemo(function(){var q=k.containerWidth,$=k.containerHeight;if(q<0||$<0)return null;Ls(bo(o)||bo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ls(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=bo(o)?q:o,I=bo(c)?$:c;r&&r>0&&(B?I=B/r:I&&(B=I*r),h&&I>h&&(I=h)),Ls(B>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,I,o,c,u,f,r);var L=!Array.isArray(p)&&La(p.type).endsWith("Chart");return F.Children.map(p,function(E){return F.isValidElement(E)?m.cloneElement(E,Bh({width:B,height:I},L?{style:Bh({height:"100%",width:"100%",maxHeight:I,maxWidth:B},E.props.style)}:{})):E})},[r,p,c,h,f,u,k,o]);return F.createElement("div",{id:g?"".concat(g):void 0,className:ft("recharts-responsive-container",y),style:Bh(Bh({},S),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:h}),ref:w},R)}),xg=function(t){return null};xg.displayName="Cell";function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(s){cse(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function cse(e,t,r){return t=dse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dse(e){var t=use(e,"string");return Zu(t)=="symbol"?t:t+""}function use(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Zu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jl={widthCache:{},cacheCount:0},fse=2e3,hse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RP="recharts_measurement_span";function mse(e){var t=hb({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var xu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fs.isSsr)return{width:0,height:0};var s=mse(r),a=JSON.stringify({text:t,copyStyle:s});if(jl.widthCache[a])return jl.widthCache[a];try{var i=document.getElementById(RP);i||(i=document.createElement("span"),i.setAttribute("id",RP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=hb(hb({},hse),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return jl.widthCache[a]=c,++jl.cacheCount>fse&&(jl.cacheCount=0,jl.widthCache={}),c}catch{return{width:0,height:0}}},pse=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function hp(e,t){return yse(e)||vse(e,t)||gse(e,t)||xse()}function xse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gse(e,t){if(e){if(typeof e=="string")return MP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MP(e,t)}}function MP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function vse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function yse(e){if(Array.isArray(e))return e}function bse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DP(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,wse(s.key),s)}}function jse(e,t,r){return t&&DP(e.prototype,t),r&&DP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wse(e){var t=Nse(e,"string");return ef(t)=="symbol"?t:t+""}function Nse(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(ef(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $P=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cse=Object.keys(vR),zl="NaN";function Ase(e,t){return e*vR[t]}var Uh=function(){function e(t,r){bse(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Sse.test(r)&&(this.num=NaN,this.unit=""),Cse.includes(r)&&(this.num=Ase(t,r),this.unit="px")}return jse(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=Pse.exec(r))!==null&&s!==void 0?s:[],i=hp(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function yR(e){if(e.includes(zl))return zl;for(var t=e;t.includes("*")||t.includes("/");){var r,s=(r=$P.exec(t))!==null&&r!==void 0?r:[],a=hp(s,4),i=a[1],o=a[2],l=a[3],c=Uh.parse(i??""),d=Uh.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return zl;t=t.replace($P,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=LP.exec(t))!==null&&f!==void 0?f:[],p=hp(h,4),b=p[1],x=p[2],g=p[3],y=Uh.parse(b??""),v=Uh.parse(g??""),j=x==="+"?y.add(v):y.subtract(v);if(j.isNaN())return zl;t=t.replace(LP,j.toString())}return t}var FP=/\(([^()]*)\)/;function Ese(e){for(var t=e;t.includes("(");){var r=FP.exec(t),s=hp(r,2),a=s[1];t=t.replace(FP,yR(a))}return t}function Ose(e){var t=e.replace(/\s+/g,"");return t=Ese(t),t=yR(t),t}function kse(e){try{return Ose(e)}catch{return zl}}function Qv(e){var t=kse(e.slice(5,-1));return t===zl?"":t}var Tse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ise=["dx","dy","angle","className","breakAll"];function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},mb.apply(this,arguments)}function BP(e,t){if(e==null)return{};var r=_se(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function _se(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function UP(e,t){return $se(e)||Dse(e,t)||Mse(e,t)||Rse()}function Rse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mse(e,t){if(e){if(typeof e=="string")return zP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zP(e,t)}}function zP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Dse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function $se(e){if(Array.isArray(e))return e}var bR=/[ \f\n\r\t\v\u2028\u2029]+/,jR=function(t){var r=t.children,s=t.breakAll,a=t.style;try{var i=[];dt(r)||(s?i=r.toString().split(""):i=r.toString().split(bR));var o=i.map(function(c){return{word:c,width:xu(c,a).width}}),l=s?0:xu("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Lse=function(t,r,s,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=_e(o),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(I,L){var E=L.word,_=L.width,O=I[I.length-1];if(O&&(a==null||i||O.width+_+s<Number(a)))O.words.push(E),O.width+=_+s;else{var M={words:[E],width:_};I.push(M)}return I},[])},p=h(r),b=function(B){return B.reduce(function(I,L){return I.width>L.width?I:L})};if(!u)return p;for(var x="",g=function(B){var I=f.slice(0,B),L=jR({breakAll:d,style:c,children:I+x}).wordsWithComputedWidth,E=h(L),_=E.length>o||b(E).width>Number(a);return[_,E]},y=0,v=f.length-1,j=0,S;y<=v&&j<=f.length-1;){var w=Math.floor((y+v)/2),N=w-1,P=g(N),C=UP(P,2),k=C[0],D=C[1],T=g(w),R=UP(T,1),q=R[0];if(!k&&!q&&(y=w+1),k&&q&&(v=w-1),!k&&q){S=D;break}j++}return S||p},VP=function(t){var r=dt(t)?[]:t.toString().split(bR);return[{words:r}]},Fse=function(t){var r=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||s)&&!Fs.isSsr){var c,d,u=jR({breakAll:o,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;c=f,d=h}else return VP(a);return Lse({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return VP(a)},qP="#808080",Go=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,b=t.verticalAnchor,x=b===void 0?"end":b,g=t.fill,y=g===void 0?qP:g,v=BP(t,Tse),j=m.useMemo(function(){return Fse({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),S=v.dx,w=v.dy,N=v.angle,P=v.className,C=v.breakAll,k=BP(v,Ise);if(!$r(s)||!$r(i))return null;var D=s+(_e(S)?S:0),T=i+(_e(w)?w:0),R;switch(x){case"start":R=Qv("calc(".concat(d,")"));break;case"middle":R=Qv("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:R=Qv("calc(".concat(j.length-1," * -").concat(l,")"));break}var q=[];if(f){var $=j[0].width,B=v.width;q.push("scale(".concat((_e(B)?B/$:1)/$,")"))}return N&&q.push("rotate(".concat(N,", ").concat(D,", ").concat(T,")")),q.length&&(k.transform=q.join(" ")),F.createElement("text",mb({},tt(k,!0),{x:D,y:T,className:ft("recharts-text",P),textAnchor:p,fill:y.includes("url")?qP:y}),j.map(function(I,L){var E=I.words.join(C?"":" ");return F.createElement("tspan",{x:D,dy:L===0?R:l,key:"".concat(E,"-").concat(L)},E)}))};function Fi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bse(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jN(e){let t,r,s;e.length!==2?(t=Fi,r=(l,c)=>Fi(e(l),c),s=(l,c)=>e(l)-c):(t=e===Fi||e===Bse?e:Use,r=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function Use(){return 0}function wR(e){return e===null?NaN:+e}function*zse(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Vse=jN(Fi),Gf=Vse.right;jN(wR).center;class HP extends Map{constructor(t,r=Wse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(WP(this,t))}has(t){return super.has(WP(this,t))}set(t,r){return super.set(qse(this,t),r)}delete(t){return super.delete(Hse(this,t))}}function WP({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function qse({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function Hse({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function Wse(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Kse(e=Fi){if(e===Fi)return NR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function NR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Gse=Math.sqrt(50),Yse=Math.sqrt(10),Xse=Math.sqrt(2);function mp(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=Gse?10:i>=Yse?5:i>=Xse?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?mp(e,t,r*2):[l,c,d]}function pb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?mp(t,e,r):mp(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function xb(e,t,r){return t=+t,e=+e,r=+r,mp(e,t,r)[2]}function gb(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?xb(t,e,r):xb(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function KP(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function GP(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function SR(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?NR:Kse(a);s>r;){if(s-r>600){const c=s-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*f/c+h)),b=Math.min(s,Math.floor(t+(c-d)*f/c+h));SR(e,t,p,b,a)}const i=e[t];let o=r,l=s;for(Ud(e,r,t),a(e[s],i)>0&&Ud(e,r,s);o<l;){for(Ud(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Ud(e,r,l):(++l,Ud(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function Ud(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function Qse(e,t,r){if(e=Float64Array.from(zse(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return GP(e);if(t>=1)return KP(e);var s,a=(s-1)*t,i=Math.floor(a),o=KP(SR(e,i).subarray(0,i+1)),l=GP(e.subarray(i+1));return o+(l-o)*(a-i)}}function Jse(e,t,r=wR){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Zse(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function bs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ri(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vb=Symbol("implicit");function wN(){var e=new HP,t=[],r=[],s=vb;function a(i){let o=e.get(i);if(o===void 0){if(s!==vb)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new HP;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return wN(t,r).unknown(s)},bs.apply(a,arguments),a}function tf(){var e=wN().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<s,b=p?a:s,x=p?s:a;i=(x-b)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),b+=(x-b-i*(h-c))*u,o=i*(1-c),l&&(b=Math.round(b),o=Math.round(o));var g=Zse(h).map(function(y){return b+i*y});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([s,a]=h,s=+s,a=+a,f()):[s,a]},e.rangeRound=function(h){return[s,a]=h,s=+s,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return tf(t(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},bs.apply(f(),arguments)}function PR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return PR(t())},e}function gu(){return PR(tf.apply(null,arguments).paddingInner(1))}function NN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CR(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function Yf(){}var rf=.7,pp=1/rf,ic="\\s*([+-]?\\d+)\\s*",nf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eae=/^#([0-9a-f]{3,8})$/,tae=new RegExp(`^rgb\\(${ic},${ic},${ic}\\)$`),rae=new RegExp(`^rgb\\(${da},${da},${da}\\)$`),nae=new RegExp(`^rgba\\(${ic},${ic},${ic},${nf}\\)$`),sae=new RegExp(`^rgba\\(${da},${da},${da},${nf}\\)$`),aae=new RegExp(`^hsl\\(${nf},${da},${da}\\)$`),iae=new RegExp(`^hsla\\(${nf},${da},${da},${nf}\\)$`),YP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NN(Yf,sf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XP,formatHex:XP,formatHex8:oae,formatHsl:lae,formatRgb:QP,toString:QP});function XP(){return this.rgb().formatHex()}function oae(){return this.rgb().formatHex8()}function lae(){return AR(this).formatHsl()}function QP(){return this.rgb().formatRgb()}function sf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eae.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?JP(t):r===3?new kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?zh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?zh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tae.exec(e))?new kn(t[1],t[2],t[3],1):(t=rae.exec(e))?new kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nae.exec(e))?zh(t[1],t[2],t[3],t[4]):(t=sae.exec(e))?zh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aae.exec(e))?tC(t[1],t[2]/100,t[3]/100,1):(t=iae.exec(e))?tC(t[1],t[2]/100,t[3]/100,t[4]):YP.hasOwnProperty(e)?JP(YP[e]):e==="transparent"?new kn(NaN,NaN,NaN,0):null}function JP(e){return new kn(e>>16&255,e>>8&255,e&255,1)}function zh(e,t,r,s){return s<=0&&(e=t=r=NaN),new kn(e,t,r,s)}function cae(e){return e instanceof Yf||(e=sf(e)),e?(e=e.rgb(),new kn(e.r,e.g,e.b,e.opacity)):new kn}function yb(e,t,r,s){return arguments.length===1?cae(e):new kn(e,t,r,s??1)}function kn(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}NN(kn,yb,CR(Yf,{brighter(e){return e=e==null?pp:Math.pow(pp,e),new kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rf:Math.pow(rf,e),new kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kn(Ro(this.r),Ro(this.g),Ro(this.b),xp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZP,formatHex:ZP,formatHex8:dae,formatRgb:eC,toString:eC}));function ZP(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}`}function dae(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}${jo((isNaN(this.opacity)?1:this.opacity)*255)}`}function eC(){const e=xp(this.opacity);return`${e===1?"rgb(":"rgba("}${Ro(this.r)}, ${Ro(this.g)}, ${Ro(this.b)}${e===1?")":`, ${e})`}`}function xp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ro(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jo(e){return e=Ro(e),(e<16?"0":"")+e.toString(16)}function tC(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Rs(e,t,r,s)}function AR(e){if(e instanceof Rs)return new Rs(e.h,e.s,e.l,e.opacity);if(e instanceof Yf||(e=sf(e)),!e)return new Rs;if(e instanceof Rs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Rs(o,l,c,e.opacity)}function uae(e,t,r,s){return arguments.length===1?AR(e):new Rs(e,t,r,s??1)}function Rs(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}NN(Rs,uae,CR(Yf,{brighter(e){return e=e==null?pp:Math.pow(pp,e),new Rs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rf:Math.pow(rf,e),new Rs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new kn(Jv(e>=240?e-240:e+120,a,s),Jv(e,a,s),Jv(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Rs(rC(this.h),Vh(this.s),Vh(this.l),xp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xp(this.opacity);return`${e===1?"hsl(":"hsla("}${rC(this.h)}, ${Vh(this.s)*100}%, ${Vh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rC(e){return e=(e||0)%360,e<0?e+360:e}function Vh(e){return Math.max(0,Math.min(1,e||0))}function Jv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const SN=e=>()=>e;function fae(e,t){return function(r){return e+r*t}}function hae(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function mae(e){return(e=+e)==1?ER:function(t,r){return r-t?hae(t,r,e):SN(isNaN(t)?r:t)}}function ER(e,t){var r=t-e;return r?fae(e,r):SN(isNaN(e)?t:e)}const nC=function e(t){var r=mae(t);function s(a,i){var o=r((a=yb(a)).r,(i=yb(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=ER(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function pae(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function xae(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gae(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=wd(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function vae(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function gp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yae(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=wd(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var bb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zv=new RegExp(bb.source,"g");function bae(e){return function(){return e}}function jae(e){return function(t){return e(t)+""}}function wae(e,t){var r=bb.lastIndex=Zv.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=bb.exec(e))&&(a=Zv.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:gp(s,a)})),r=Zv.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?jae(c[0].x):bae(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function wd(e,t){var r=typeof t,s;return t==null||r==="boolean"?SN(t):(r==="number"?gp:r==="string"?(s=sf(t))?(t=s,nC):wae:t instanceof sf?nC:t instanceof Date?vae:xae(t)?pae:Array.isArray(t)?gae:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yae:gp)(e,t)}function PN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Nae(e,t){t===void 0&&(t=e,e=wd);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function Sae(e){return function(){return e}}function vp(e){return+e}var sC=[0,1];function yn(e){return e}function jb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Sae(isNaN(t)?NaN:.5)}function Pae(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function Cae(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=jb(a,s),i=r(o,i)):(s=jb(s,a),i=r(i,o)),function(l){return i(s(l))}}function Aae(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=jb(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Gf(e,l,1,s)-1;return i[c](a[c](l))}}function Xf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gg(){var e=sC,t=sC,r=wd,s,a,i,o=yn,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==yn&&(o=Pae(e[0],e[h-1])),l=h>2?Aae:Cae,c=d=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(s),t,r)))(s(o(h)))}return f.invert=function(h){return o(a((d||(d=l(t,e.map(s),gp)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,vp),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=PN,u()},f.clamp=function(h){return arguments.length?(o=h?!0:yn,u()):o!==yn},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return s=h,a=p,u()}}function CN(){return gg()(yn,yn)}function Eae(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yp(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function Ic(e){return e=yp(Math.abs(e)),e?e[1]:NaN}function Oae(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function kae(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Tae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function af(e){if(!(t=Tae.exec(e)))throw new Error("invalid format: "+e);var t;return new AN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}af.prototype=AN.prototype;function AN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}AN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Iae(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var OR;function _ae(e,t){var r=yp(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(OR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+yp(e,Math.max(0,t+i-1))[0]}function aC(e,t){var r=yp(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const iC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Eae,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>aC(e*100,t),r:aC,s:_ae,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oC(e){return e}var lC=Array.prototype.map,cC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rae(e){var t=e.grouping===void 0||e.thousands===void 0?oC:Oae(lC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?oC:kae(lC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=af(f);var h=f.fill,p=f.align,b=f.sign,x=f.symbol,g=f.zero,y=f.width,v=f.comma,j=f.precision,S=f.trim,w=f.type;w==="n"?(v=!0,w="g"):iC[w]||(j===void 0&&(j=12),S=!0,w="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",P=x==="$"?s:/[%p]/.test(w)?o:"",C=iC[w],k=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function D(T){var R=N,q=P,$,B,I;if(w==="c")q=C(T)+q,T="";else{T=+T;var L=T<0||1/T<0;if(T=isNaN(T)?c:C(Math.abs(T),j),S&&(T=Iae(T)),L&&+T==0&&b!=="+"&&(L=!1),R=(L?b==="("?b:l:b==="-"||b==="("?"":b)+R,q=(w==="s"?cC[8+OR/3]:"")+q+(L&&b==="("?")":""),k){for($=-1,B=T.length;++$<B;)if(I=T.charCodeAt($),48>I||I>57){q=(I===46?a+T.slice($+1):T.slice($))+q,T=T.slice(0,$);break}}}v&&!g&&(T=t(T,1/0));var E=R.length+T.length+q.length,_=E<y?new Array(y-E+1).join(h):"";switch(v&&g&&(T=t(_+T,_.length?y-q.length:1/0),_=""),p){case"<":T=R+T+q+_;break;case"=":T=R+_+T+q;break;case"^":T=_.slice(0,E=_.length>>1)+R+T+q+_.slice(E);break;default:T=_+R+T+q;break}return i(T)}return D.toString=function(){return f+""},D}function u(f,h){var p=d((f=af(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(Ic(h)/3)))*3,x=Math.pow(10,-b),g=cC[8+b/3];return function(y){return p(x*y)+g}}return{format:d,formatPrefix:u}}var qh,EN,kR;Mae({thousands:",",grouping:[3],currency:["$",""]});function Mae(e){return qh=Rae(e),EN=qh.format,kR=qh.formatPrefix,qh}function Dae(e){return Math.max(0,-Ic(Math.abs(e)))}function $ae(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ic(t)/3)))*3-Ic(Math.abs(e)))}function Lae(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ic(t)-Ic(e))+1}function TR(e,t,r,s){var a=gb(e,t,r),i;switch(s=af(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=$ae(a,o))&&(s.precision=i),kR(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=Lae(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=Dae(a))&&(s.precision=i-(s.type==="%")*2);break}}return EN(s)}function ro(e){var t=e.domain;return e.ticks=function(r){var s=t();return pb(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return TR(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=xb(o,l,r),d===c)return s[a]=o,s[i]=l,t(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function bp(){var e=CN();return e.copy=function(){return Xf(e,bp())},bs.apply(e,arguments),ro(e)}function IR(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,vp),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return IR(e).unknown(t)},e=arguments.length?Array.from(e,vp):[0,1],ro(r)}function _R(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function dC(e){return Math.log(e)}function uC(e){return Math.exp(e)}function Fae(e){return-Math.log(-e)}function Bae(e){return-Math.exp(-e)}function Uae(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zae(e){return e===10?Uae:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Vae(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fC(e){return(t,r)=>-e(-t,r)}function ON(e){const t=e(dC,uC),r=t.domain;let s=10,a,i;function o(){return a=Vae(s),i=zae(s),r()[0]<0?(a=fC(a),i=fC(i),e(Fae,Bae)):e(dC,uC),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=a(d),p=a(u),b,x;const g=l==null?10:+l;let y=[];if(!(s%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(b=1;b<s;++b)if(x=h<0?b/i(-h):b*i(h),!(x<d)){if(x>u)break;y.push(x)}}else for(;h<=p;++h)for(b=s-1;b>=1;--b)if(x=h>0?b/i(-h):b*i(h),!(x<d)){if(x>u)break;y.push(x)}y.length*2<g&&(y=pb(d,u,g))}else y=pb(h,p,Math.min(p-h,g)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=af(c)).precision==null&&(c.trim=!0),c=EN(c)),l===1/0)return c;const d=Math.max(1,s*l/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*s<s-.5&&(f*=s),f<=d?c(u):""}},t.nice=()=>r(_R(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function RR(){const e=ON(gg()).domain([1,10]);return e.copy=()=>Xf(e,RR()).base(e.base()),bs.apply(e,arguments),e}function hC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kN(e){var t=1,r=e(hC(t),mC(t));return r.constant=function(s){return arguments.length?e(hC(t=+s),mC(t)):t},ro(r)}function MR(){var e=kN(gg());return e.copy=function(){return Xf(e,MR()).constant(e.constant())},bs.apply(e,arguments)}function pC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qae(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Hae(e){return e<0?-e*e:e*e}function TN(e){var t=e(yn,yn),r=1;function s(){return r===1?e(yn,yn):r===.5?e(qae,Hae):e(pC(r),pC(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},ro(t)}function IN(){var e=TN(gg());return e.copy=function(){return Xf(e,IN()).exponent(e.exponent())},bs.apply(e,arguments),e}function Wae(){return IN.apply(null,arguments).exponent(.5)}function xC(e){return Math.sign(e)*e*e}function Kae(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function DR(){var e=CN(),t=[0,1],r=!1,s;function a(i){var o=Kae(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(xC(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,vp)).map(xC)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return DR(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},bs.apply(a,arguments),ro(a)}function $R(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Jse(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[Gf(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Fi),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return $R().domain(e).range(t).unknown(s)},bs.apply(i,arguments)}function LR(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Gf(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=r?[s[r-1],t]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return LR().domain([e,t]).range(a).unknown(i)},bs.apply(ro(o),arguments)}function FR(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[Gf(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return FR().domain(e).range(t).unknown(r)},bs.apply(a,arguments)}const ey=new Date,ty=new Date;function Fr(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>Fr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(ey.setTime(+i),ty.setTime(+o),e(ey),e(ty),Math.floor(r(ey,ty))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const jp=Fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);jp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):jp);jp.range;const ka=1e3,us=ka*60,Ta=us*60,Ya=Ta*24,_N=Ya*7,gC=Ya*30,ry=Ya*365,wo=Fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ka)},(e,t)=>(t-e)/ka,e=>e.getUTCSeconds());wo.range;const RN=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ka)},(e,t)=>{e.setTime(+e+t*us)},(e,t)=>(t-e)/us,e=>e.getMinutes());RN.range;const MN=Fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*us)},(e,t)=>(t-e)/us,e=>e.getUTCMinutes());MN.range;const DN=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ka-e.getMinutes()*us)},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getHours());DN.range;const $N=Fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getUTCHours());$N.range;const Qf=Fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*us)/Ya,e=>e.getDate()-1);Qf.range;const vg=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>e.getUTCDate()-1);vg.range;const BR=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ya,e=>Math.floor(e/Ya));BR.range;function ul(e){return Fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*us)/_N)}const yg=ul(0),wp=ul(1),Gae=ul(2),Yae=ul(3),_c=ul(4),Xae=ul(5),Qae=ul(6);yg.range;wp.range;Gae.range;Yae.range;_c.range;Xae.range;Qae.range;function fl(e){return Fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_N)}const bg=fl(0),Np=fl(1),Jae=fl(2),Zae=fl(3),Rc=fl(4),eie=fl(5),tie=fl(6);bg.range;Np.range;Jae.range;Zae.range;Rc.range;eie.range;tie.range;const LN=Fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());LN.range;const FN=Fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());FN.range;const Xa=Fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Xa.range;const Qa=Fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Qa.range;function UR(e,t,r,s,a,i){const o=[[wo,1,ka],[wo,5,5*ka],[wo,15,15*ka],[wo,30,30*ka],[i,1,us],[i,5,5*us],[i,15,15*us],[i,30,30*us],[a,1,Ta],[a,3,3*Ta],[a,6,6*Ta],[a,12,12*Ta],[s,1,Ya],[s,2,2*Ya],[r,1,_N],[t,1,gC],[t,3,3*gC],[e,1,ry]];function l(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const p=f&&typeof f.range=="function"?f:c(d,u,f),b=p?p.range(d,+u+1):[];return h?b.reverse():b}function c(d,u,f){const h=Math.abs(u-d)/f,p=jN(([,,g])=>g).right(o,h);if(p===o.length)return e.every(gb(d/ry,u/ry,f));if(p===0)return jp.every(Math.max(gb(d,u,f),1));const[b,x]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return b.every(x)}return[l,c]}const[rie,nie]=UR(Qa,FN,bg,BR,$N,MN),[sie,aie]=UR(Xa,LN,yg,Qf,DN,RN);function ny(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function iie(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Vd(a),u=qd(a),f=Vd(i),h=qd(i),p=Vd(o),b=qd(o),x=Vd(l),g=qd(l),y=Vd(c),v=qd(c),j={a:L,A:E,b:_,B:O,c:null,d:NC,e:NC,f:Oie,g:Fie,G:Uie,H:Cie,I:Aie,j:Eie,L:zR,m:kie,M:Tie,p:M,q:A,Q:CC,s:AC,S:Iie,u:_ie,U:Rie,V:Mie,w:Die,W:$ie,x:null,X:null,y:Lie,Y:Bie,Z:zie,"%":PC},S={a:U,A:ee,b:V,B:X,c:null,d:SC,e:SC,f:Wie,g:roe,G:soe,H:Vie,I:qie,j:Hie,L:qR,m:Kie,M:Gie,p:Q,q:le,Q:CC,s:AC,S:Yie,u:Xie,U:Qie,V:Jie,w:Zie,W:eoe,x:null,X:null,y:toe,Y:noe,Z:aoe,"%":PC},w={a:D,A:T,b:R,B:q,c:$,d:jC,e:jC,f:wie,g:bC,G:yC,H:wC,I:wC,j:vie,L:jie,m:gie,M:yie,p:k,q:xie,Q:Sie,s:Pie,S:bie,u:uie,U:fie,V:hie,w:die,W:mie,x:B,X:I,y:bC,Y:yC,Z:pie,"%":Nie};j.x=N(r,j),j.X=N(s,j),j.c=N(t,j),S.x=N(r,S),S.X=N(s,S),S.c=N(t,S);function N(H,ce){return function(se){var Y=[],Ee=-1,ye=0,J=H.length,ke,Me,Le;for(se instanceof Date||(se=new Date(+se));++Ee<J;)H.charCodeAt(Ee)===37&&(Y.push(H.slice(ye,Ee)),(Me=vC[ke=H.charAt(++Ee)])!=null?ke=H.charAt(++Ee):Me=ke==="e"?" ":"0",(Le=ce[ke])&&(ke=Le(se,Me)),Y.push(ke),ye=Ee+1);return Y.push(H.slice(ye,Ee)),Y.join("")}}function P(H,ce){return function(se){var Y=zd(1900,void 0,1),Ee=C(Y,H,se+="",0),ye,J;if(Ee!=se.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ce&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ye=sy(zd(Y.y,0,1)),J=ye.getUTCDay(),ye=J>4||J===0?Np.ceil(ye):Np(ye),ye=vg.offset(ye,(Y.V-1)*7),Y.y=ye.getUTCFullYear(),Y.m=ye.getUTCMonth(),Y.d=ye.getUTCDate()+(Y.w+6)%7):(ye=ny(zd(Y.y,0,1)),J=ye.getDay(),ye=J>4||J===0?wp.ceil(ye):wp(ye),ye=Qf.offset(ye,(Y.V-1)*7),Y.y=ye.getFullYear(),Y.m=ye.getMonth(),Y.d=ye.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),J="Z"in Y?sy(zd(Y.y,0,1)).getUTCDay():ny(zd(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(J+5)%7:Y.w+Y.U*7-(J+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,sy(Y)):ny(Y)}}function C(H,ce,se,Y){for(var Ee=0,ye=ce.length,J=se.length,ke,Me;Ee<ye;){if(Y>=J)return-1;if(ke=ce.charCodeAt(Ee++),ke===37){if(ke=ce.charAt(Ee++),Me=w[ke in vC?ce.charAt(Ee++):ke],!Me||(Y=Me(H,se,Y))<0)return-1}else if(ke!=se.charCodeAt(Y++))return-1}return Y}function k(H,ce,se){var Y=d.exec(ce.slice(se));return Y?(H.p=u.get(Y[0].toLowerCase()),se+Y[0].length):-1}function D(H,ce,se){var Y=p.exec(ce.slice(se));return Y?(H.w=b.get(Y[0].toLowerCase()),se+Y[0].length):-1}function T(H,ce,se){var Y=f.exec(ce.slice(se));return Y?(H.w=h.get(Y[0].toLowerCase()),se+Y[0].length):-1}function R(H,ce,se){var Y=y.exec(ce.slice(se));return Y?(H.m=v.get(Y[0].toLowerCase()),se+Y[0].length):-1}function q(H,ce,se){var Y=x.exec(ce.slice(se));return Y?(H.m=g.get(Y[0].toLowerCase()),se+Y[0].length):-1}function $(H,ce,se){return C(H,t,ce,se)}function B(H,ce,se){return C(H,r,ce,se)}function I(H,ce,se){return C(H,s,ce,se)}function L(H){return o[H.getDay()]}function E(H){return i[H.getDay()]}function _(H){return c[H.getMonth()]}function O(H){return l[H.getMonth()]}function M(H){return a[+(H.getHours()>=12)]}function A(H){return 1+~~(H.getMonth()/3)}function U(H){return o[H.getUTCDay()]}function ee(H){return i[H.getUTCDay()]}function V(H){return c[H.getUTCMonth()]}function X(H){return l[H.getUTCMonth()]}function Q(H){return a[+(H.getUTCHours()>=12)]}function le(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var ce=N(H+="",j);return ce.toString=function(){return H},ce},parse:function(H){var ce=P(H+="",!1);return ce.toString=function(){return H},ce},utcFormat:function(H){var ce=N(H+="",S);return ce.toString=function(){return H},ce},utcParse:function(H){var ce=P(H+="",!0);return ce.toString=function(){return H},ce}}}var vC={"-":"",_:" ",0:"0"},Gr=/^\s*\d+/,oie=/^%/,lie=/[\\^$*+?|[\]().{}]/g;function kt(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function cie(e){return e.replace(lie,"\\$&")}function Vd(e){return new RegExp("^(?:"+e.map(cie).join("|")+")","i")}function qd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function die(e,t,r){var s=Gr.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function uie(e,t,r){var s=Gr.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function fie(e,t,r){var s=Gr.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function hie(e,t,r){var s=Gr.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function mie(e,t,r){var s=Gr.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function yC(e,t,r){var s=Gr.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function bC(e,t,r){var s=Gr.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function pie(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function xie(e,t,r){var s=Gr.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function gie(e,t,r){var s=Gr.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function jC(e,t,r){var s=Gr.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function vie(e,t,r){var s=Gr.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function wC(e,t,r){var s=Gr.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function yie(e,t,r){var s=Gr.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function bie(e,t,r){var s=Gr.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function jie(e,t,r){var s=Gr.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function wie(e,t,r){var s=Gr.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function Nie(e,t,r){var s=oie.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function Sie(e,t,r){var s=Gr.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function Pie(e,t,r){var s=Gr.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function NC(e,t){return kt(e.getDate(),t,2)}function Cie(e,t){return kt(e.getHours(),t,2)}function Aie(e,t){return kt(e.getHours()%12||12,t,2)}function Eie(e,t){return kt(1+Qf.count(Xa(e),e),t,3)}function zR(e,t){return kt(e.getMilliseconds(),t,3)}function Oie(e,t){return zR(e,t)+"000"}function kie(e,t){return kt(e.getMonth()+1,t,2)}function Tie(e,t){return kt(e.getMinutes(),t,2)}function Iie(e,t){return kt(e.getSeconds(),t,2)}function _ie(e){var t=e.getDay();return t===0?7:t}function Rie(e,t){return kt(yg.count(Xa(e)-1,e),t,2)}function VR(e){var t=e.getDay();return t>=4||t===0?_c(e):_c.ceil(e)}function Mie(e,t){return e=VR(e),kt(_c.count(Xa(e),e)+(Xa(e).getDay()===4),t,2)}function Die(e){return e.getDay()}function $ie(e,t){return kt(wp.count(Xa(e)-1,e),t,2)}function Lie(e,t){return kt(e.getFullYear()%100,t,2)}function Fie(e,t){return e=VR(e),kt(e.getFullYear()%100,t,2)}function Bie(e,t){return kt(e.getFullYear()%1e4,t,4)}function Uie(e,t){var r=e.getDay();return e=r>=4||r===0?_c(e):_c.ceil(e),kt(e.getFullYear()%1e4,t,4)}function zie(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function SC(e,t){return kt(e.getUTCDate(),t,2)}function Vie(e,t){return kt(e.getUTCHours(),t,2)}function qie(e,t){return kt(e.getUTCHours()%12||12,t,2)}function Hie(e,t){return kt(1+vg.count(Qa(e),e),t,3)}function qR(e,t){return kt(e.getUTCMilliseconds(),t,3)}function Wie(e,t){return qR(e,t)+"000"}function Kie(e,t){return kt(e.getUTCMonth()+1,t,2)}function Gie(e,t){return kt(e.getUTCMinutes(),t,2)}function Yie(e,t){return kt(e.getUTCSeconds(),t,2)}function Xie(e){var t=e.getUTCDay();return t===0?7:t}function Qie(e,t){return kt(bg.count(Qa(e)-1,e),t,2)}function HR(e){var t=e.getUTCDay();return t>=4||t===0?Rc(e):Rc.ceil(e)}function Jie(e,t){return e=HR(e),kt(Rc.count(Qa(e),e)+(Qa(e).getUTCDay()===4),t,2)}function Zie(e){return e.getUTCDay()}function eoe(e,t){return kt(Np.count(Qa(e)-1,e),t,2)}function toe(e,t){return kt(e.getUTCFullYear()%100,t,2)}function roe(e,t){return e=HR(e),kt(e.getUTCFullYear()%100,t,2)}function noe(e,t){return kt(e.getUTCFullYear()%1e4,t,4)}function soe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Rc(e):Rc.ceil(e),kt(e.getUTCFullYear()%1e4,t,4)}function aoe(){return"+0000"}function PC(){return"%"}function CC(e){return+e}function AC(e){return Math.floor(+e/1e3)}var wl,WR,KR;ioe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ioe(e){return wl=iie(e),WR=wl.format,wl.parse,KR=wl.utcFormat,wl.utcParse,wl}function ooe(e){return new Date(e)}function loe(e){return e instanceof Date?+e:+new Date(+e)}function BN(e,t,r,s,a,i,o,l,c,d){var u=CN(),f=u.invert,h=u.domain,p=d(".%L"),b=d(":%S"),x=d("%I:%M"),g=d("%I %p"),y=d("%a %d"),v=d("%b %d"),j=d("%B"),S=d("%Y");function w(N){return(c(N)<N?p:l(N)<N?b:o(N)<N?x:i(N)<N?g:s(N)<N?a(N)<N?y:v:r(N)<N?j:S)(N)}return u.invert=function(N){return new Date(f(N))},u.domain=function(N){return arguments.length?h(Array.from(N,loe)):h().map(ooe)},u.ticks=function(N){var P=h();return e(P[0],P[P.length-1],N??10)},u.tickFormat=function(N,P){return P==null?w:d(P)},u.nice=function(N){var P=h();return(!N||typeof N.range!="function")&&(N=t(P[0],P[P.length-1],N??10)),N?h(_R(P,N)):u},u.copy=function(){return Xf(u,BN(e,t,r,s,a,i,o,l,c,d))},u}function coe(){return bs.apply(BN(sie,aie,Xa,LN,yg,Qf,DN,RN,wo,WR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function doe(){return bs.apply(BN(rie,nie,Qa,FN,bg,vg,$N,MN,wo,KR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jg(){var e=0,t=1,r,s,a,i,o=yn,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(h){var p,b;return arguments.length?([p,b]=h,o=f(p,b),d):[o(0),o(1)]}}return d.range=u(wd),d.rangeRound=u(PN),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),s=f(t),a=r===s?0:1/(s-r),d}}function no(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GR(){var e=ro(jg()(yn));return e.copy=function(){return no(e,GR())},ri.apply(e,arguments)}function YR(){var e=ON(jg()).domain([1,10]);return e.copy=function(){return no(e,YR()).base(e.base())},ri.apply(e,arguments)}function XR(){var e=kN(jg());return e.copy=function(){return no(e,XR()).constant(e.constant())},ri.apply(e,arguments)}function UN(){var e=TN(jg());return e.copy=function(){return no(e,UN()).exponent(e.exponent())},ri.apply(e,arguments)}function uoe(){return UN.apply(null,arguments).exponent(.5)}function QR(){var e=[],t=yn;function r(s){if(s!=null&&!isNaN(s=+s))return t((Gf(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Fi),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>Qse(e,i/s))},r.copy=function(){return QR(t).domain(e)},ri.apply(r,arguments)}function wg(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,d=yn,u,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+u(x))-i)*(s*x<s*i?l:c),d(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([e,t,r]=x,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,p):[e,t,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(d=x,p):d};function b(x){return function(g){var y,v,j;return arguments.length?([y,v,j]=g,d=Nae(x,[y,v,j]),p):[d(0),d(.5),d(1)]}}return p.range=b(wd),p.rangeRound=b(PN),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return u=x,a=x(e),i=x(t),o=x(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,p}}function JR(){var e=ro(wg()(yn));return e.copy=function(){return no(e,JR())},ri.apply(e,arguments)}function ZR(){var e=ON(wg()).domain([.1,1,10]);return e.copy=function(){return no(e,ZR()).base(e.base())},ri.apply(e,arguments)}function eM(){var e=kN(wg());return e.copy=function(){return no(e,eM()).constant(e.constant())},ri.apply(e,arguments)}function zN(){var e=TN(wg());return e.copy=function(){return no(e,zN()).exponent(e.exponent())},ri.apply(e,arguments)}function foe(){return zN.apply(null,arguments).exponent(.5)}const EC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tf,scaleDiverging:JR,scaleDivergingLog:ZR,scaleDivergingPow:zN,scaleDivergingSqrt:foe,scaleDivergingSymlog:eM,scaleIdentity:IR,scaleImplicit:vb,scaleLinear:bp,scaleLog:RR,scaleOrdinal:wN,scalePoint:gu,scalePow:IN,scaleQuantile:$R,scaleQuantize:LR,scaleRadial:DR,scaleSequential:GR,scaleSequentialLog:YR,scaleSequentialPow:UN,scaleSequentialQuantile:QR,scaleSequentialSqrt:uoe,scaleSequentialSymlog:XR,scaleSqrt:Wae,scaleSymlog:MR,scaleThreshold:FR,scaleTime:coe,scaleUtc:doe,tickFormat:TR},Symbol.toStringTag,{value:"Module"}));var hoe=hd;function moe(e,t,r){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!hoe(o):r(o,l)))var l=o,c=i}return c}var Ng=moe;function poe(e,t){return e>t}var tM=poe,xoe=Ng,goe=tM,voe=jd;function yoe(e){return e&&e.length?xoe(e,voe,goe):void 0}var boe=yoe;const Ci=Lt(boe);function joe(e,t){return e<t}var rM=joe,woe=Ng,Noe=rM,Soe=jd;function Poe(e){return e&&e.length?woe(e,Soe,Noe):void 0}var Coe=Poe;const Sg=Lt(Coe);var Aoe=rN,Eoe=ya,Ooe=dR,koe=Dn;function Toe(e,t){var r=koe(e)?Aoe:Ooe;return r(e,Eoe(t))}var Ioe=Toe,_oe=lR,Roe=Ioe;function Moe(e,t){return _oe(Roe(e,t),1)}var Doe=Moe;const $oe=Lt(Doe);var Loe=gN;function Foe(e,t){return Loe(e,t)}var Boe=Foe;const Yo=Lt(Boe);var Nd=1e9,Uoe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qN,lr=!0,gs="[DecimalError] ",Mo=gs+"Invalid argument: ",VN=gs+"Exponent out of range: ",Sd=Math.floor,mo=Math.pow,zoe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qn,Br=1e7,nr=7,nM=9007199254740991,Sp=Sd(nM/nr),Ge={};Ge.absoluteValue=Ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ge.comparedTo=Ge.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*nr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ge.dividedBy=Ge.div=function(e){return Fa(this,new this.constructor(e))};Ge.dividedToIntegerBy=Ge.idiv=function(e){var t=this,r=t.constructor;return Kt(Fa(t,new r(e),0,1),r.precision)};Ge.equals=Ge.eq=function(e){return!this.cmp(e)};Ge.exponent=function(){return Tr(this)};Ge.greaterThan=Ge.gt=function(e){return this.cmp(e)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(e){return this.cmp(e)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(e){return this.cmp(e)<0};Ge.lessThanOrEqualTo=Ge.lte=function(e){return this.cmp(e)<1};Ge.logarithm=Ge.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(qn))throw Error(gs+"NaN");if(r.s<1)throw Error(gs+(r.s?"NaN":"-Infinity"));return r.eq(qn)?new s(0):(lr=!1,t=Fa(of(r,i),of(e,i),i),lr=!0,Kt(t,a))};Ge.minus=Ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iM(t,e):sM(t,(e.s=-e.s,e))};Ge.modulo=Ge.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(gs+"NaN");return r.s?(lr=!1,t=Fa(r,e,0,1).times(e),lr=!0,r.minus(t)):Kt(new s(r),a)};Ge.naturalExponential=Ge.exp=function(){return aM(this)};Ge.naturalLogarithm=Ge.ln=function(){return of(this)};Ge.negated=Ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ge.plus=Ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sM(t,e):iM(t,(e.s=-e.s,e))};Ge.precision=Ge.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Mo+e);if(t=Tr(a)+1,s=a.d.length-1,r=s*nr+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};Ge.squareRoot=Ge.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(gs+"NaN")}for(e=Tr(l),lr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=na(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Sd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(Fa(l,i,o+2)).times(.5),na(i.d).slice(0,o)===(t=na(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Kt(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return lr=!0,Kt(s,r)};Ge.times=Ge.mul=function(e){var t,r,s,a,i,o,l,c,d,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=p.length,c<d&&(i=h,h=p,p=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+p[s]*h[a-s-1]+t,i[a--]=l%Br|0,t=l/Br|0;i[a]=(i[a]+t)%Br|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,lr?Kt(e,f.precision):e};Ge.toDecimalPlaces=Ge.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(xa(e,0,Nd),t===void 0?t=s.rounding:xa(t,0,8),Kt(r,e+Tr(r)+1,t))};Ge.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=Xo(s,!0):(xa(e,0,Nd),t===void 0?t=a.rounding:xa(t,0,8),s=Kt(new a(s),e+1,t),r=Xo(s,!0,e+1)),r};Ge.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?Xo(a):(xa(e,0,Nd),t===void 0?t=i.rounding:xa(t,0,8),s=Kt(new i(a),e+Tr(a)+1,t),r=Xo(s.abs(),!1,e+Tr(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ge.toInteger=Ge.toint=function(){var e=this,t=e.constructor;return Kt(new t(e),Tr(e)+1,t.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(qn);if(l=new c(l),!l.s){if(e.s<1)throw Error(gs+"Infinity");return l}if(l.eq(qn))return l;if(s=c.precision,e.eq(qn))return Kt(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=nM){for(a=new c(qn),t=Math.ceil(s/nr+4),lr=!1;r%2&&(a=a.times(l),kC(a.d,t)),r=Sd(r/2),r!==0;)l=l.times(l),kC(l.d,t);return lr=!0,e.s<0?new c(qn).div(a):Kt(a,s)}}else if(i<0)throw Error(gs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,lr=!1,a=e.times(of(l,s+d)),lr=!0,a=aM(a),a.s=i,a};Ge.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=Tr(a),s=Xo(a,r<=i.toExpNeg||r>=i.toExpPos)):(xa(e,1,Nd),t===void 0?t=i.rounding:xa(t,0,8),a=Kt(new i(a),e,t),r=Tr(a),s=Xo(a,e<=r||r<=i.toExpNeg,e)),s};Ge.toSignificantDigits=Ge.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(xa(e,1,Nd),t===void 0?t=s.rounding:xa(t,0,8)),Kt(new s(r),e,t)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tr(e),r=e.constructor;return Xo(e,t<=r.toExpNeg||t>=r.toExpPos)};function sM(e,t){var r,s,a,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),lr?Kt(t,f):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(f/nr),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Br|0,c[i]%=Br;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,lr?Kt(t,f):t}function xa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Mo+e)}function na(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=nr-s.length,r&&(i+=mi(r)),i+=s;o=e[t],s=o+"",r=nr-s.length,r&&(i+=mi(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fa=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%Br|0,o=i/Br|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Br+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,f,h,p,b,x,g,y,v,j,S,w,N,P,C,k=s.constructor,D=s.s==a.s?1:-1,T=s.d,R=a.d;if(!s.s)return new k(s);if(!a.s)throw Error(gs+"Division by zero");for(c=s.e-a.e,P=R.length,w=T.length,p=new k(D),b=p.d=[],d=0;R[d]==(T[d]||0);)++d;if(R[d]>(T[d]||0)&&--c,i==null?v=i=k.precision:o?v=i+(Tr(s)-Tr(a))+1:v=i,v<0)return new k(0);if(v=v/nr+2|0,d=0,P==1)for(u=0,R=R[0],v++;(d<w||u)&&v--;d++)j=u*Br+(T[d]||0),b[d]=j/R|0,u=j%R|0;else{for(u=Br/(R[0]+1)|0,u>1&&(R=e(R,u),T=e(T,u),P=R.length,w=T.length),S=P,x=T.slice(0,P),g=x.length;g<P;)x[g++]=0;C=R.slice(),C.unshift(0),N=R[0],R[1]>=Br/2&&++N;do u=0,l=t(R,x,P,g),l<0?(y=x[0],P!=g&&(y=y*Br+(x[1]||0)),u=y/N|0,u>1?(u>=Br&&(u=Br-1),f=e(R,u),h=f.length,g=x.length,l=t(f,x,h,g),l==1&&(u--,r(f,P<h?C:R,h))):(u==0&&(l=u=1),f=R.slice()),h=f.length,h<g&&f.unshift(0),r(x,f,g),l==-1&&(g=x.length,l=t(R,x,P,g),l<1&&(u++,r(x,P<g?C:R,g))),g=x.length):l===0&&(u++,x=[0]),b[d++]=u,l&&x[0]?x[g++]=T[S]||0:(x=[T[S]],g=1);while((S++<w||x[0]!==void 0)&&v--)}return b[0]||b.shift(),p.e=c,Kt(p,o?i+Tr(p)+1:i)}}();function aM(e,t){var r,s,a,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(Tr(e)>16)throw Error(VN+Tr(e));if(!e.s)return new u(qn);for(t==null?(lr=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(mo(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(qn),u.precision=l;;){if(a=Kt(a.times(e),l),r=r.times(++c),o=i.plus(Fa(a,r,l)),na(o.d).slice(0,l)===na(i.d).slice(0,l)){for(;d--;)i=Kt(i.times(i),l);return u.precision=f,t==null?(lr=!0,Kt(i,f)):i}i=o}}function Tr(e){for(var t=e.e*nr,r=e.d[0];r>=10;r/=10)t++;return t}function ay(e,t,r){if(t>e.LN10.sd())throw lr=!0,r&&(e.precision=r),Error(gs+"LN10 precision limit exceeded");return Kt(new e(e.LN10),t)}function mi(e){for(var t="";e--;)t+="0";return t}function of(e,t){var r,s,a,i,o,l,c,d,u,f=1,h=10,p=e,b=p.d,x=p.constructor,g=x.precision;if(p.s<1)throw Error(gs+(p.s?"NaN":"-Infinity"));if(p.eq(qn))return new x(0);if(t==null?(lr=!1,d=g):d=t,p.eq(10))return t==null&&(lr=!0),ay(x,d);if(d+=h,x.precision=d,r=na(b),s=r.charAt(0),i=Tr(p),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)p=p.times(e),r=na(p.d),s=r.charAt(0),f++;i=Tr(p),s>1?(p=new x("0."+r),i++):p=new x(s+"."+r.slice(1))}else return c=ay(x,d+2,g).times(i+""),p=of(new x(s+"."+r.slice(1)),d-h).plus(c),x.precision=g,t==null?(lr=!0,Kt(p,g)):p;for(l=o=p=Fa(p.minus(qn),p.plus(qn),d),u=Kt(p.times(p),d),a=3;;){if(o=Kt(o.times(u),d),c=l.plus(Fa(o,new x(a),d)),na(c.d).slice(0,d)===na(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(ay(x,d+2,g).times(i+""))),l=Fa(l,new x(f),d),x.precision=g,t==null?(lr=!0,Kt(l,g)):l;l=c,a+=2}}function OC(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=Sd(r/nr),e.d=[],s=(r+1)%nr,r<0&&(s+=nr),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=nr;s<a;)e.d.push(+t.slice(s,s+=nr));t=t.slice(s),s=nr-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),lr&&(e.e>Sp||e.e<-Sp))throw Error(VN+r)}else e.s=0,e.e=0,e.d=[0];return e}function Kt(e,t,r){var s,a,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=nr,a=t,d=f[u=0];else{if(u=Math.ceil((s+1)/nr),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;s%=nr,a=s-nr+o}if(r!==void 0&&(i=mo(10,o-a-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/mo(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Tr(e),f.length=1,t=t-i-1,f[0]=mo(10,(nr-t%nr)%nr),e.e=Sd(-t/nr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=u,i=1,u--):(f.length=u+1,i=mo(10,nr-s),f[u]=a>0?(d/mo(10,o-a)%mo(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==Br&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Br)break;f[u--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(lr&&(e.e>Sp||e.e<-Sp))throw Error(VN+Tr(e));return e}function iM(e,t){var r,s,a,i,o,l,c,d,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),lr?Kt(t,p):t;if(c=e.d,f=t.d,s=t.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,s=d,l=c.length),a=Math.max(Math.ceil(p/nr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Br-1;--c[i],c[a]+=Br}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,lr?Kt(t,p):t):new h(0)}function Xo(e,t,r){var s,a=Tr(e),i=na(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+mi(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+mi(-a-1)+i,r&&(s=r-o)>0&&(i+=mi(s))):a>=o?(i+=mi(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+mi(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=mi(s))),e.s<0?"-"+i:i}function kC(e,t){if(e.length>t)return e.length=t,!0}function oM(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Mo+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return OC(o,i.toString())}else if(typeof i!="string")throw Error(Mo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,zoe.test(i))OC(o,i);else throw Error(Mo+i)}if(a.prototype=Ge,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=oM,a.config=a.set=Voe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function Voe(e){if(!e||typeof e!="object")throw Error(gs+"Object expected");var t,r,s,a=["precision",1,Nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(Sd(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(Mo+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(Mo+r+": "+s);return this}var qN=oM(Uoe);qn=new qN(1);const Ht=qN;function qoe(e){return Goe(e)||Koe(e)||Woe(e)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Woe(e,t){if(e){if(typeof e=="string")return wb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wb(e,t)}}function Koe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Goe(e){if(Array.isArray(e))return wb(e)}function wb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var Yoe=function(t){return t},lM={"@@functional/placeholder":!0},cM=function(t){return t===lM},TC=function(t){return function r(){return arguments.length===0||arguments.length===1&&cM(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Xoe=function e(t,r){return t===1?r:TC(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==lM}).length;return o>=t?r.apply(void 0,a):e(t-o,TC(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(f){return cM(f)?c.shift():f});return r.apply(void 0,qoe(u).concat(c))}))})},Pg=function(t){return Xoe(t.length,t)},Nb=function(t,r){for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},Qoe=Pg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Joe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return Yoe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},Sb=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},dM=function(t){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=t.apply(void 0,i)),s}};function Zoe(e){var t;return e===0?t=1:t=Math.floor(new Ht(e).abs().log(10).toNumber())+1,t}function ele(e,t,r){for(var s=new Ht(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var tle=Pg(function(e,t,r){var s=+e,a=+t;return s+r*(a-s)}),rle=Pg(function(e,t,r){var s=t-+e;return s=s||1/0,(r-e)/s}),nle=Pg(function(e,t,r){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});const Cg={rangeStep:ele,getDigitCount:Zoe,interpolateNumber:tle,uninterpolateNumber:rle,uninterpolateTruncation:nle};function Pb(e){return ile(e)||ale(e)||uM(e)||sle()}function sle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ale(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ile(e){if(Array.isArray(e))return Cb(e)}function lf(e,t){return cle(e)||lle(e,t)||uM(e,t)||ole()}function ole(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uM(e,t){if(e){if(typeof e=="string")return Cb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cb(e,t)}}function Cb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function lle(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function cle(e){if(Array.isArray(e))return e}function fM(e){var t=lf(e,2),r=t[0],s=t[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function hM(e,t,r){if(e.lte(0))return new Ht(0);var s=Cg.getDigitCount(e.toNumber()),a=new Ht(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new Ht(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Ht(Math.ceil(c))}function dle(e,t,r){var s=1,a=new Ht(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new Ht(10).pow(Cg.getDigitCount(e)-1),a=new Ht(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Ht(Math.floor(e)))}else e===0?a=new Ht(Math.floor((t-1)/2)):r||(a=new Ht(Math.floor(e)));var o=Math.floor((t-1)/2),l=Joe(Qoe(function(c){return a.add(new Ht(c-o).mul(s)).toNumber()}),Nb);return l(0,t)}function mM(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ht(0),tickMin:new Ht(0),tickMax:new Ht(0)};var i=hM(new Ht(t).sub(e).div(r-1),s,a),o;e<=0&&t>=0?o=new Ht(0):(o=new Ht(e).add(t).div(2),o=o.sub(new Ht(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ht(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?mM(e,t,r,s,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Ht(l).mul(i)),tickMax:o.add(new Ht(c).mul(i))})}function ule(e){var t=lf(e,2),r=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=fM([r,s]),c=lf(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(Pb(Nb(0,a-1).map(function(){return 1/0}))):[].concat(Pb(Nb(0,a-1).map(function(){return-1/0})),[u]);return r>s?Sb(f):f}if(d===u)return dle(d,a,i);var h=mM(d,u,o,i),p=h.step,b=h.tickMin,x=h.tickMax,g=Cg.rangeStep(b,x.add(new Ht(.1).mul(p)),p);return r>s?Sb(g):g}function fle(e,t){var r=lf(e,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=fM([s,a]),l=lf(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(t,2),f=hM(new Ht(d).sub(c).div(u-1),i,0),h=[].concat(Pb(Cg.rangeStep(new Ht(c),new Ht(d).sub(new Ht(.99).mul(f)),f)),[d]);return s>a?Sb(h):h}var hle=dM(ule),mle=dM(fle),ple="Invariant failed";function Qo(e,t){throw new Error(ple)}var xle=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Pp.apply(this,arguments)}function gle(e,t){return jle(e)||ble(e,t)||yle(e,t)||vle()}function vle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yle(e,t){if(e){if(typeof e=="string")return IC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IC(e,t)}}function IC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function ble(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function jle(e){if(Array.isArray(e))return e}function wle(e,t){if(e==null)return{};var r=Nle(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Nle(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Sle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ple(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gM(s.key),s)}}function Cle(e,t,r){return t&&Ple(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ale(e,t,r){return t=Cp(t),Ele(e,pM()?Reflect.construct(t,r||[],Cp(e).constructor):t.apply(e,r))}function Ele(e,t){if(t&&(Mc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ole(e)}function Ole(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pM=function(){return!!e})()}function Cp(e){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(e)}function kle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ab(e,t)}function Ab(e,t){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Ab(e,t)}function xM(e,t,r){return t=gM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gM(e){var t=Tle(e,"string");return Mc(t)=="symbol"?t:t+""}function Tle(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Mc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jf=function(e){function t(){return Sle(this,t),Ale(this,t,arguments)}return kle(t,e),Cle(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,f=s.yAxis,h=wle(s,xle),p=tt(h,!1);this.props.direction==="x"&&u.type!=="number"&&Qo();var b=c.map(function(x){var g=d(x,l),y=g.x,v=g.y,j=g.value,S=g.errorVal;if(!S)return null;var w=[],N,P;if(Array.isArray(S)){var C=gle(S,2);N=C[0],P=C[1]}else N=P=S;if(i==="vertical"){var k=u.scale,D=v+a,T=D+o,R=D-o,q=k(j-N),$=k(j+P);w.push({x1:$,y1:T,x2:$,y2:R}),w.push({x1:q,y1:D,x2:$,y2:D}),w.push({x1:q,y1:T,x2:q,y2:R})}else if(i==="horizontal"){var B=f.scale,I=y+a,L=I-o,E=I+o,_=B(j-N),O=B(j+P);w.push({x1:L,y1:O,x2:E,y2:O}),w.push({x1:I,y1:_,x2:I,y2:O}),w.push({x1:L,y1:_,x2:E,y2:_})}return F.createElement(St,Pp({className:"recharts-errorBar",key:"bar-".concat(w.map(function(M){return"".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))},p),w.map(function(M){return F.createElement("line",Pp({},M,{key:"line-".concat(M.x1,"-").concat(M.x2,"-").concat(M.y1,"-").concat(M.y2)}))}))});return F.createElement(St,{className:"recharts-errorBars"},b)}}])}(F.Component);xM(Jf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xM(Jf,"displayName","ErrorBar");function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(s){Ile(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ile(e,t,r){return t=_le(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _le(e){var t=Rle(e,"string");return cf(t)=="symbol"?t:t+""}function Rle(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(cf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vM=function(t){var r=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=zn(r,ac);if(!o)return null;var l=ac.defaultProps,c=l!==void 0?io(io({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,f){var h=f.item,p=f.props,b=p.sectors||p.data||[];return u.concat(b.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):d=(s||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?io(io({},h),f.props):{},b=p.dataKey,x=p.name,g=p.legendType,y=p.hide;return{inactive:y,dataKey:b,type:c.iconType||g||"square",color:HN(f),value:x||b,payload:p}}),io(io(io({},c),ac.getWithHeight(o,a)),{},{payload:d,item:o})};function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function RC(e){return Lle(e)||$le(e)||Dle(e)||Mle()}function Mle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dle(e,t){if(e){if(typeof e=="string")return Eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eb(e,t)}}function $le(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lle(e){if(Array.isArray(e))return Eb(e)}function Eb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function MC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(r),!0).forEach(function(s){oc(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function oc(e,t,r){return t=Fle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fle(e){var t=Ble(e,"string");return df(t)=="symbol"?t:t+""}function Ble(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(df(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sr(e,t,r){return dt(e)||dt(t)?r:$r(t)?Yn(e,t,r):lt(t)?t(e):r}function vu(e,t,r,s){var a=$oe(e,function(l){return Sr(l,t)});if(r==="number"){var i=a.filter(function(l){return _e(l)||parseFloat(l)});return i.length?[Sg(i),Ci(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!dt(l)}):a;return o.map(function(l){return $r(l)||l instanceof Date?l:""})}var Ule=function(t){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s==null?void 0:s.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,f=a[d].coordinate,h=d>=l-1?a[0].coordinate:a[d+1].coordinate,p=void 0;if(gn(f-u)!==gn(h-f)){var b=[];if(gn(h-f)===gn(c[1]-c[0])){p=h;var x=f+c[1]-c[0];b[0]=Math.min(x,(x+u)/2),b[1]=Math.max(x,(x+u)/2)}else{p=u;var g=h+c[1]-c[0];b[0]=Math.min(f,(g+f)/2),b[1]=Math.max(f,(g+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=b[0]&&t<=b[1]){o=a[d].index;break}}else{var v=Math.min(u,h),j=Math.max(u,h);if(t>(v+f)/2&&t<=(j+f)/2){o=a[d].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(s[S].coordinate+s[S+1].coordinate)/2||S>0&&S<l-1&&t>(s[S].coordinate+s[S-1].coordinate)/2&&t<=(s[S].coordinate+s[S+1].coordinate)/2||S===l-1&&t>(s[S].coordinate+s[S-1].coordinate)/2){o=s[S].index;break}return o},HN=function(t){var r,s=t,a=s.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?vr(vr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},zle=function(t){var r=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var b=u[f[h]],x=b.items,g=b.cateAxisId,y=x.filter(function(P){return La(P.type).indexOf("Bar")>=0});if(y&&y.length){var v=y[0].type.defaultProps,j=v!==void 0?vr(vr({},v),y[0].props):y[0].props,S=j.barSize,w=j[g];o[w]||(o[w]=[]);var N=dt(S)?r:S;o[w].push({item:y[0],stackList:y.slice(1),barSize:dt(N)?void 0:vn(N,s,0)})}}return o},Vle=function(t){var r=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=vn(r,a,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,b=o.reduce(function(S,w){return S+w.barSize||0},0);b+=(c-1)*d,b>=a&&(b-=(c-1)*d,d=0),b>=a&&p>0&&(h=!0,p*=.9,b=c*p);var x=(a-b)/2>>0,g={offset:x-d,size:0};u=o.reduce(function(S,w){var N={item:w.item,position:{offset:g.offset+g.size+d,size:h?p:w.barSize}},P=[].concat(RC(S),[N]);return g=P[P.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){P.push({item:C,position:g})}),P},f)}else{var y=vn(s,a,0,!0);a-2*y-(c-1)*d<=0&&(d=0);var v=(a-2*y-(c-1)*d)/c;v>1&&(v>>=0);var j=l===+l?Math.min(v,l):v;u=o.reduce(function(S,w,N){var P=[].concat(RC(S),[{item:w.item,position:{offset:y+(v+d)*N+(v-j)/2,size:j}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){P.push({item:C,position:P[P.length-1].position})}),P},f)}return u},qle=function(t,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=vM({children:i,legendWidth:c});if(d){var u=a||{},f=u.width,h=u.height,p=d.align,b=d.verticalAlign,x=d.layout;if((x==="vertical"||x==="horizontal"&&b==="middle")&&p!=="center"&&_e(t[p]))return vr(vr({},t),{},oc({},p,t[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&b!=="middle"&&_e(t[b]))return vr(vr({},t),{},oc({},b,t[b]+(h||0)))}return t},Hle=function(t,r,s){return dt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},yM=function(t,r,s,a,i){var o=r.props.children,l=Xn(o,Jf).filter(function(d){return Hle(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Sr(u,s);if(dt(f))return d;var h=Array.isArray(f)?[Sg(f),Ci(f)]:[f,f],p=c.reduce(function(b,x){var g=Sr(u,x,0),y=h[0]-Math.abs(Array.isArray(g)?g[0]:g),v=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,b[0]),Math.max(v,b[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},Wle=function(t,r,s,a,i){var o=r.map(function(l){return yM(t,l,s,i,a)}).filter(function(l){return!dt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},bM=function(t,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&yM(t,c,d,a)||vu(t,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},jM=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},wM=function(t,r,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},Ia=function(t,r,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?gn(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+d,value:f,offset:d}});return u.filter(function(f){return!vd(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+d,value:f,index:h,offset:d}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+d,value:f,offset:d}}):a.domain().map(function(f,h){return{coordinate:a(f)+d,value:i?i[f]:f,index:h,offset:d}})},iy=new WeakMap,Hh=function(t,r){if(typeof r!="function")return t;iy.has(t)||iy.set(t,new WeakMap);var s=iy.get(t);if(s.has(r))return s.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},NM=function(t,r,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:tf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:bp(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:gu(),realScaleType:"point"}:i==="category"?{scale:tf(),realScaleType:"band"}:{scale:bp(),realScaleType:"linear"};if(Wo(a)){var c="scale".concat(cg(a));return{scale:(EC[c]||gu)(),realScaleType:EC[c]?c:"point"}}return lt(a)?{scale:a}:{scale:gu(),realScaleType:"point"}},DC=1e-4,SM=function(t){var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),i=Math.min(a[0],a[1])-DC,o=Math.max(a[0],a[1])+DC,l=t(r[0]),c=t(r[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[s-1]])}},Kle=function(t,r){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===r)return t[s].position;return null},Gle=function(t,r){if(!r||r.length!==2||!_e(r[0])||!_e(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!_e(t[0])||t[0]<s)&&(i[0]=s),(!_e(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},Yle=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=vd(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},Xle=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=vd(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},Qle={sign:Yle,expand:pY,none:Ac,silhouette:xY,wiggle:gY,positive:Xle},Jle=function(t,r,s){var a=r.map(function(l){return l.props.dataKey}),i=Qle[s],o=mY().keys(a).value(function(l,c){return+Sr(l,c,0)}).order(Z0).offset(i);return o(t)},Zle=function(t,r,s,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,h){var p,b=(p=h.type)!==null&&p!==void 0&&p.defaultProps?vr(vr({},h.type.defaultProps),h.props):h.props,x=b.stackId,g=b.hide;if(g)return f;var y=b[s],v=f[y]||{hasStack:!1,stackGroups:{}};if($r(x)){var j=v.stackGroups[x]||{numericAxisId:s,cateAxisId:a,items:[]};j.items.push(h),v.hasStack=!0,v.stackGroups[x]=j}else v.stackGroups[dl("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[h]};return vr(vr({},f),{},oc({},y,v))},c),u={};return Object.keys(d).reduce(function(f,h){var p=d[h];if(p.hasStack){var b={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,g){var y=p.stackGroups[g];return vr(vr({},x),{},oc({},g,{numericAxisId:s,cateAxisId:a,items:y.items,stackedData:Jle(t,y.items,i)}))},b)}return vr(vr({},f),{},oc({},h,p))},u)},PM=function(t,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=hle(d,i,l);return t.domain([Sg(u),Ci(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=mle(f,i,l);return{niceTicks:h}}return null};function Ap(e){var t=e.axis,r=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!dt(a[t.dataKey])){var l=Zm(r,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=Sr(a,dt(o)?t.dataKey:o);return dt(c)?null:t.scale(c)}var $C=function(t){var r=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=Sr(o,r.dataKey,r.domain[l]);return dt(c)?null:r.scale(c)-i/2+a},ece=function(t){var r=t.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},tce=function(t,r){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?vr(vr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if($r(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},rce=function(t){return t.reduce(function(r,s){return[Sg(s.concat([r[0]]).filter(_e)),Ci(s.concat([r[1]]).filter(_e))]},[1/0,-1/0])},CM=function(t,r,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var f=rce(u.slice(r,s+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},LC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ob=function(t,r,s){if(lt(t))return t(r,s);if(!Array.isArray(t))return r;var a=[];if(_e(t[0]))a[0]=s?t[0]:Math.min(t[0],r[0]);else if(LC.test(t[0])){var i=+LC.exec(t[0])[1];a[0]=r[0]-i}else lt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(_e(t[1]))a[1]=s?t[1]:Math.max(t[1],r[1]);else if(FC.test(t[1])){var o=+FC.exec(t[1])[1];a[1]=r[1]+o}else lt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Ep=function(t,r,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var i=yN(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},BC=function(t,r,s){return!t||!t.length||Yo(t,Yn(s,"type.defaultProps.domain"))?r:t},AM=function(t,r){var s=t.type.defaultProps?vr(vr({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return vr(vr({},tt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:HN(t),value:Sr(r,a),type:c,payload:r,chartType:d,hide:u})};function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(s){EM(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function EM(e,t,r){return t=nce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nce(e){var t=sce(e,"string");return uf(t)=="symbol"?t:t+""}function sce(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(uf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ace(e,t){return cce(e)||lce(e,t)||oce(e,t)||ice()}function ice(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oce(e,t){if(e){if(typeof e=="string")return zC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(e,t)}}function zC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function lce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function cce(e){if(Array.isArray(e))return e}var Op=Math.PI/180,dce=function(t){return t*180/Math.PI},Qt=function(t,r,s,a){return{x:t+Math.cos(-Op*a)*s,y:r+Math.sin(-Op*a)*s}},OM=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},uce=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=vn(t.cx,o,o/2),f=vn(t.cy,l,l/2),h=OM(o,l,s),p=vn(t.innerRadius,h,0),b=vn(t.outerRadius,h,h*.8),x=Object.keys(r);return x.reduce(function(g,y){var v=r[y],j=v.domain,S=v.reversed,w;if(dt(v.range))a==="angleAxis"?w=[c,d]:a==="radiusAxis"&&(w=[p,b]),S&&(w=[w[1],w[0]]);else{w=v.range;var N=w,P=ace(N,2);c=P[0],d=P[1]}var C=NM(v,i),k=C.realScaleType,D=C.scale;D.domain(j).range(w),SM(D);var T=PM(D,Pa(Pa({},v),{},{realScaleType:k})),R=Pa(Pa(Pa({},v),T),{},{range:w,radius:b,realScaleType:k,scale:D,cx:u,cy:f,innerRadius:p,outerRadius:b,startAngle:c,endAngle:d});return Pa(Pa({},g),{},EM({},y,R))},{})},fce=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},hce=function(t,r){var s=t.x,a=t.y,i=r.cx,o=r.cy,l=fce({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:dce(d),angleInRadian:d}},mce=function(t){var r=t.startAngle,s=t.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},pce=function(t,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},VC=function(t,r){var s=t.x,a=t.y,i=hce({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=mce(r),f=u.startAngle,h=u.endAngle,p=l,b;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;b=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;b=p>=h&&p<=f}return b?Pa(Pa({},r),{},{radius:o,angle:pce(p,r)}):null},kM=function(t){return!m.isValidElement(t)&&!lt(t)&&typeof t!="boolean"?t.className:""};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}var xce=["offset"];function gce(e){return jce(e)||bce(e)||yce(e)||vce()}function vce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yce(e,t){if(e){if(typeof e=="string")return kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kb(e,t)}}function bce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jce(e){if(Array.isArray(e))return kb(e)}function kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function wce(e,t){if(e==null)return{};var r=Nce(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Nce(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(s){Sce(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Sce(e,t,r){return t=Pce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pce(e){var t=Cce(e,"string");return ff(t)=="symbol"?t:t+""}function Cce(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ff(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hf.apply(this,arguments)}var Ace=function(t){var r=t.value,s=t.formatter,a=dt(t.children)?r:t.children;return lt(s)?s(a):a},Ece=function(t,r){var s=gn(r-t),a=Math.min(Math.abs(r-t),360);return s*a},Oce=function(t,r,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,b=c.endAngle,x=c.clockWise,g=(f+h)/2,y=Ece(p,b),v=y>=0?1:-1,j,S;a==="insideStart"?(j=p+v*o,S=x):a==="insideEnd"?(j=b-v*o,S=!x):a==="end"&&(j=b+v*o,S=x),S=y<=0?S:!S;var w=Qt(d,u,g,j),N=Qt(d,u,g,j+(S?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),C=dt(t.id)?dl("recharts-radial-line-"):t.id;return F.createElement("text",hf({},s,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",l)}),F.createElement("defs",null,F.createElement("path",{id:C,d:P})),F.createElement("textPath",{xlinkHref:"#".concat(C)},r))},kce=function(t){var r=t.viewBox,s=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var p=Qt(o,l,d+s,h),b=p.x,x=p.y;return{x:b,y:x,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,y=Qt(o,l,g,h),v=y.x,j=y.y;return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Tce=function(t){var r=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,h=f*a,p=f>0?"end":"start",b=f>0?"start":"end",x=d>=0?1:-1,g=x*a,y=x>0?"end":"start",v=x>0?"start":"end";if(i==="top"){var j={x:l+d/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return _r(_r({},j),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var S={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:b};return _r(_r({},S),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var w={x:l-g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return _r(_r({},w),s?{width:Math.max(w.x-s.x,0),height:u}:{})}if(i==="right"){var N={x:l+d+g,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return _r(_r({},N),s?{width:Math.max(s.x+s.width-N.x,0),height:u}:{})}var P=s?{width:d,height:u}:{};return i==="insideLeft"?_r({x:l+g,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},P):i==="insideRight"?_r({x:l+d-g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},P):i==="insideTop"?_r({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:b},P):i==="insideBottom"?_r({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:p},P):i==="insideTopLeft"?_r({x:l+g,y:c+h,textAnchor:v,verticalAnchor:b},P):i==="insideTopRight"?_r({x:l+d-g,y:c+h,textAnchor:y,verticalAnchor:b},P):i==="insideBottomLeft"?_r({x:l+g,y:c+u-h,textAnchor:v,verticalAnchor:p},P):i==="insideBottomRight"?_r({x:l+d-g,y:c+u-h,textAnchor:y,verticalAnchor:p},P):md(i)&&(_e(i.x)||bo(i.x))&&(_e(i.y)||bo(i.y))?_r({x:l+vn(i.x,d),y:c+vn(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):_r({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Ice=function(t){return"cx"in t&&_e(t.cx)};function zr(e){var t=e.offset,r=t===void 0?5:t,s=wce(e,xce),a=_r({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||dt(l)&&dt(c)&&!m.isValidElement(d)&&!lt(d))return null;if(m.isValidElement(d))return m.cloneElement(d,a);var p;if(lt(d)){if(p=m.createElement(d,a),m.isValidElement(p))return p}else p=Ace(a);var b=Ice(i),x=tt(a,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Oce(a,p,x);var g=b?kce(a):Tce(a);return F.createElement(Go,hf({className:ft("recharts-label",f)},x,g,{breakAll:h}),p)}zr.displayName="Label";var TM=function(t){var r=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,b=t.left,x=t.width,g=t.height,y=t.clockWise,v=t.labelViewBox;if(v)return v;if(_e(x)&&_e(g)){if(_e(f)&&_e(h))return{x:f,y:h,width:x,height:g};if(_e(p)&&_e(b))return{x:p,y:b,width:x,height:g}}return _e(f)&&_e(h)?{x:f,y:h,width:0,height:0}:_e(r)&&_e(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},_ce=function(t,r){return t?t===!0?F.createElement(zr,{key:"label-implicit",viewBox:r}):$r(t)?F.createElement(zr,{key:"label-implicit",viewBox:r,value:t}):m.isValidElement(t)?t.type===zr?m.cloneElement(t,{key:"label-implicit",viewBox:r}):F.createElement(zr,{key:"label-implicit",content:t,viewBox:r}):lt(t)?F.createElement(zr,{key:"label-implicit",content:t,viewBox:r}):md(t)?F.createElement(zr,hf({viewBox:r},t,{key:"label-implicit"})):null:null},Rce=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=TM(t),o=Xn(a,zr).map(function(c,d){return m.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=_ce(t.label,r||i);return[l].concat(gce(o))};zr.parseViewBox=TM;zr.renderCallByParent=Rce;function Mce(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Dce=Mce;const $ce=Lt(Dce);function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}var Lce=["valueAccessor"],Fce=["data","dataKey","clockWise","id","textBreakAll"];function Bce(e){return qce(e)||Vce(e)||zce(e)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zce(e,t){if(e){if(typeof e=="string")return Tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tb(e,t)}}function Vce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qce(e){if(Array.isArray(e))return Tb(e)}function Tb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kp.apply(this,arguments)}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function WC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(s){Hce(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Hce(e,t,r){return t=Wce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wce(e){var t=Kce(e,"string");return mf(t)=="symbol"?t:t+""}function Kce(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(mf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KC(e,t){if(e==null)return{};var r=Gce(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Gce(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var Yce=function(t){return Array.isArray(t.value)?$ce(t.value):t.value};function ua(e){var t=e.valueAccessor,r=t===void 0?Yce:t,s=KC(e,Lce),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=KC(s,Fce);return!a||!a.length?null:F.createElement(St,{className:"recharts-label-list"},a.map(function(u,f){var h=dt(i)?r(u,f):Sr(u&&u.payload,i),p=dt(l)?{}:{id:"".concat(l,"-").concat(f)};return F.createElement(zr,kp({},tt(u,!0),d,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:zr.parseViewBox(dt(o)?u:WC(WC({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}ua.displayName="LabelList";function Xce(e,t){return e?e===!0?F.createElement(ua,{key:"labelList-implicit",data:t}):F.isValidElement(e)||lt(e)?F.createElement(ua,{key:"labelList-implicit",data:t,content:e}):md(e)?F.createElement(ua,kp({data:t},e,{key:"labelList-implicit"})):null:null}function Qce(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=Xn(s,ua).map(function(o,l){return m.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=Xce(e.label,t);return[i].concat(Bce(a))}ua.renderCallByParent=Qce;function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ib.apply(this,arguments)}function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function YC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(s){Jce(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Jce(e,t,r){return t=Zce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zce(e){var t=ede(e,"string");return pf(t)=="symbol"?t:t+""}function ede(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(pf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tde=function(t,r){var s=gn(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},Wh=function(t){var r=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,f=Math.asin(c/u)/Op,h=d?i:i+o*f,p=Qt(r,s,u,h),b=Qt(r,s,a,h),x=d?i-o*f:i,g=Qt(r,s,u*Math.cos(f*Op),x);return{center:p,circleTangency:b,lineTangency:g,theta:f}},IM=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=tde(o,l),d=o+c,u=Qt(r,s,i,o),f=Qt(r,s,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Qt(r,s,a,o),b=Qt(r,s,a,d);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(s," Z");return h},rde=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=gn(u-d),h=Wh({cx:r,cy:s,radius:i,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,b=h.lineTangency,x=h.theta,g=Wh({cx:r,cy:s,radius:i,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=g.circleTangency,v=g.lineTangency,j=g.theta,S=c?Math.abs(d-u):Math.abs(d-u)-x-j;if(S<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):IM({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var w="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var N=Wh({cx:r,cy:s,radius:a,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=N.circleTangency,C=N.lineTangency,k=N.theta,D=Wh({cx:r,cy:s,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=D.circleTangency,R=D.lineTangency,q=D.theta,$=c?Math.abs(d-u):Math.abs(d-u)-k-q;if($<0&&o===0)return"".concat(w,"L").concat(r,",").concat(s,"Z");w+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else w+="L".concat(r,",").concat(s,"Z");return w},nde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_M=function(t){var r=YC(YC({},nde),t),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<i||u===f)return null;var p=ft("recharts-sector",h),b=o-i,x=vn(l,b,0,!0),g;return x>0&&Math.abs(u-f)<360?g=rde({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(x,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):g=IM({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f}),F.createElement("path",Ib({},tt(r,!0),{className:p,d:g,role:"img"}))};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_b.apply(this,arguments)}function XC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function QC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(r),!0).forEach(function(s){sde(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function sde(e,t,r){return t=ade(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ade(e){var t=ide(e,"string");return xf(t)=="symbol"?t:t+""}function ide(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(xf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JC={curveBasisClosed:nY,curveBasisOpen:sY,curveBasis:rY,curveBumpX:zG,curveBumpY:VG,curveLinearClosed:aY,curveLinear:ug,curveMonotoneX:iY,curveMonotoneY:oY,curveNatural:lY,curveStep:cY,curveStepAfter:uY,curveStepBefore:dY},Kh=function(t){return t.x===+t.x&&t.y===+t.y},Hd=function(t){return t.x},Wd=function(t){return t.y},ode=function(t,r){if(lt(t))return t;var s="curve".concat(cg(t));return(s==="curveMonotone"||s==="curveBump")&&r?JC["".concat(s).concat(r==="vertical"?"Y":"X")]:JC[s]||ug},lde=function(t){var r=t.type,s=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=ode(s,l),f=d?i.filter(function(x){return Kh(x)}):i,h;if(Array.isArray(o)){var p=d?o.filter(function(x){return Kh(x)}):o,b=f.map(function(x,g){return QC(QC({},x),{},{base:p[g]})});return l==="vertical"?h=$h().y(Wd).x1(Hd).x0(function(x){return x.base.x}):h=$h().x(Hd).y1(Wd).y0(function(x){return x.base.y}),h.defined(Kh).curve(u),h(b)}return l==="vertical"&&_e(o)?h=$h().y(Wd).x1(Hd).x0(o):_e(o)?h=$h().x(Hd).y1(Wd).y0(o):h=A_().x(Hd).y(Wd),h.defined(Kh).curve(u),h(f)},Do=function(t){var r=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?lde(t):a;return m.createElement("path",_b({},tt(t,!1),ep(t),{className:ft("recharts-curve",r),d:o,ref:i}))},RM={exports:{}},cde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dde=cde,ude=dde;function MM(){}function DM(){}DM.resetWarningCache=MM;var fde=function(){function e(s,a,i,o,l,c){if(c!==ude){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:DM,resetWarningCache:MM};return r.PropTypes=r,r};RM.exports=fde();var hde=RM.exports;const Rt=Lt(hde);var mde=Object.getOwnPropertyNames,pde=Object.getOwnPropertySymbols,xde=Object.prototype.hasOwnProperty;function ZC(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function Gh(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=e(r,s,a);return i.delete(r),i.delete(s),c}}function eA(e){return mde(e).concat(pde(e))}var gde=Object.hasOwn||function(e,t){return xde.call(e,t)};function hl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var vde="__v",yde="__o",bde="_owner",tA=Object.getOwnPropertyDescriptor,rA=Object.keys;function jde(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function wde(e,t){return hl(e.getTime(),t.getTime())}function Nde(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Sde(e,t){return e===t}function nA(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,f=0;(l=d.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;c++}return!0}var Pde=hl;function Cde(e,t,r){var s=rA(e),a=s.length;if(rA(t).length!==a)return!1;for(;a-- >0;)if(!$M(e,t,r,s[a]))return!1;return!0}function Kd(e,t,r){var s=eA(e),a=s.length;if(eA(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!$M(e,t,r,i)||(o=tA(e,i),l=tA(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Ade(e,t){return hl(e.valueOf(),t.valueOf())}function Ede(e,t){return e.source===t.source&&e.flags===t.flags}function sA(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function Ode(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function kde(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function $M(e,t,r,s){return(s===bde||s===yde||s===vde)&&(e.$$typeof||t.$$typeof)?!0:gde(t,s)&&r.equals(e[s],t[s],s,s,e,t,r)}var Tde="[object Arguments]",Ide="[object Boolean]",_de="[object Date]",Rde="[object Error]",Mde="[object Map]",Dde="[object Number]",$de="[object Object]",Lde="[object RegExp]",Fde="[object Set]",Bde="[object String]",Ude="[object URL]",zde=Array.isArray,aA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,iA=Object.assign,Vde=Object.prototype.toString.call.bind(Object.prototype.toString);function qde(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(b,x,g){if(b===x)return!0;if(b==null||x==null)return!1;var y=typeof b;if(y!==typeof x)return!1;if(y!=="object")return y==="number"?o(b,x,g):y==="function"?a(b,x,g):!1;var v=b.constructor;if(v!==x.constructor)return!1;if(v===Object)return l(b,x,g);if(zde(b))return t(b,x,g);if(aA!=null&&aA(b))return f(b,x,g);if(v===Date)return r(b,x,g);if(v===RegExp)return d(b,x,g);if(v===Map)return i(b,x,g);if(v===Set)return u(b,x,g);var j=Vde(b);return j===_de?r(b,x,g):j===Lde?d(b,x,g):j===Mde?i(b,x,g):j===Fde?u(b,x,g):j===$de?typeof b.then!="function"&&typeof x.then!="function"&&l(b,x,g):j===Ude?h(b,x,g):j===Rde?s(b,x,g):j===Tde?l(b,x,g):j===Ide||j===Dde||j===Bde?c(b,x,g):!1}}function Hde(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?Kd:jde,areDatesEqual:wde,areErrorsEqual:Nde,areFunctionsEqual:Sde,areMapsEqual:s?ZC(nA,Kd):nA,areNumbersEqual:Pde,areObjectsEqual:s?Kd:Cde,arePrimitiveWrappersEqual:Ade,areRegExpsEqual:Ede,areSetsEqual:s?ZC(sA,Kd):sA,areTypedArraysEqual:s?Kd:Ode,areUrlsEqual:kde};if(r&&(a=iA({},a,r(a))),t){var i=Gh(a.areArraysEqual),o=Gh(a.areMapsEqual),l=Gh(a.areObjectsEqual),c=Gh(a.areSetsEqual);a=iA({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Wde(e){return function(t,r,s,a,i,o,l){return e(t,r,l)}}function Kde(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var u=s(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return r(c,d,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var Gde=so();so({strict:!0});so({circular:!0});so({circular:!0,strict:!0});so({createInternalComparator:function(){return hl}});so({strict:!0,createInternalComparator:function(){return hl}});so({circular:!0,createInternalComparator:function(){return hl}});so({circular:!0,createInternalComparator:function(){return hl},strict:!0});function so(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=Hde(e),c=qde(l),d=s?s(c):Wde(c);return Kde({circular:r,comparator:c,createState:a,equals:d,strict:o})}function Yde(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function oA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Yde(a)};requestAnimationFrame(s)}function Rb(e){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rb(e)}function Xde(e){return eue(e)||Zde(e)||Jde(e)||Qde()}function Qde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jde(e,t){if(e){if(typeof e=="string")return lA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lA(e,t)}}function lA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Zde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eue(e){if(Array.isArray(e))return e}function tue(){var e={},t=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Xde(o),c=l[0],d=l.slice(1);if(typeof c=="number"){oA(a.bind(null,d),c);return}a(c),oA(a.bind(null,d));return}Rb(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(s){LM(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function LM(e,t,r){return t=rue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rue(e){var t=nue(e,"string");return gf(t)==="symbol"?t:String(t)}function nue(e,t){if(gf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(gf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sue=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},aue=function(t){return t},iue=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},yu=function(t,r){return Object.keys(r).reduce(function(s,a){return dA(dA({},s),{},LM({},a,t(a,r[a])))},{})},uA=function(t,r,s){return t.map(function(a){return"".concat(iue(a)," ").concat(r,"ms ").concat(s)}).join(",")};function oue(e,t){return due(e)||cue(e,t)||FM(e,t)||lue()}function lue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function due(e){if(Array.isArray(e))return e}function uue(e){return mue(e)||hue(e)||FM(e)||fue()}function fue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FM(e,t){if(e){if(typeof e=="string")return Mb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mb(e,t)}}function hue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mue(e){if(Array.isArray(e))return Mb(e)}function Mb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var Tp=1e-4,BM=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},UM=function(t,r){return t.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},fA=function(t,r){return function(s){var a=BM(t,r);return UM(a,s)}},pue=function(t,r){return function(s){var a=BM(t,r),i=[].concat(uue(a.map(function(o,l){return o*l}).slice(1)),[0]);return UM(i,s)}},hA=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=oue(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var f=fA(a,o),h=fA(i,l),p=pue(a,o),b=function(y){return y>1?1:y<0?0:y},x=function(y){for(var v=y>1?1:y,j=v,S=0;S<8;++S){var w=f(j)-v,N=p(j);if(Math.abs(w-v)<Tp||N<Tp)return h(j);j=b(j-w/N)}return h(j)};return x.isStepper=!1,x},xue=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,s=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,f,h){var p=-(u-f)*s,b=h*i,x=h+(p-b)*l/1e3,g=h*l/1e3+u;return Math.abs(g-f)<Tp&&Math.abs(x)<Tp?[f,0]:[g,x]};return c.isStepper=!0,c.dt=l,c},gue=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hA(a);case"spring":return xue();default:if(a.split("(")[0]==="cubic-bezier")return hA(a)}return typeof a=="function"?a:null};function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function mA(e){return bue(e)||yue(e)||zM(e)||vue()}function vue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bue(e){if(Array.isArray(e))return $b(e)}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(s){Db(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Db(e,t,r){return t=jue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jue(e){var t=wue(e,"string");return vf(t)==="symbol"?t:String(t)}function wue(e,t){if(vf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(vf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nue(e,t){return Cue(e)||Pue(e,t)||zM(e,t)||Sue()}function Sue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zM(e,t){if(e){if(typeof e=="string")return $b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $b(e,t)}}function $b(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Pue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Cue(e){if(Array.isArray(e))return e}var Ip=function(t,r,s){return t+(r-t)*s},Lb=function(t){var r=t.from,s=t.to;return r!==s},Aue=function e(t,r,s){var a=yu(function(i,o){if(Lb(o)){var l=t(o.from,o.to,o.velocity),c=Nue(l,2),d=c[0],u=c[1];return Xr(Xr({},o),{},{from:d,velocity:u})}return o},r);return s<1?yu(function(i,o){return Lb(o)?Xr(Xr({},o),{},{velocity:Ip(o.velocity,a[i].velocity,s),from:Ip(o.from,a[i].from,s)}):o},r):e(t,a,s-1)};const Eue=function(e,t,r,s,a){var i=sue(e,t),o=i.reduce(function(g,y){return Xr(Xr({},g),{},Db({},y,[e[y],t[y]]))},{}),l=i.reduce(function(g,y){return Xr(Xr({},g),{},Db({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,d,u,f=function(){return null},h=function(){return yu(function(y,v){return v.from},l)},p=function(){return!Object.values(l).filter(Lb).length},b=function(y){d||(d=y);var v=y-d,j=v/r.dt;l=Aue(r,l,j),a(Xr(Xr(Xr({},e),t),h())),d=y,p()||(c=requestAnimationFrame(f))},x=function(y){u||(u=y);var v=(y-u)/s,j=yu(function(w,N){return Ip.apply(void 0,mA(N).concat([r(v)]))},o);if(a(Xr(Xr(Xr({},e),t),j)),v<1)c=requestAnimationFrame(f);else{var S=yu(function(w,N){return Ip.apply(void 0,mA(N).concat([r(1)]))},o);a(Xr(Xr(Xr({},e),t),S))}};return f=r.isStepper?b:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}var Oue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kue(e,t){if(e==null)return{};var r=Tue(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Tue(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function oy(e){return Mue(e)||Rue(e)||_ue(e)||Iue()}function Iue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ue(e,t){if(e){if(typeof e=="string")return Fb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fb(e,t)}}function Rue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mue(e){if(Array.isArray(e))return Fb(e)}function Fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(s){ru(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ru(e,t,r){return t=VM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Due(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ue(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,VM(s.key),s)}}function Lue(e,t,r){return t&&$ue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VM(e){var t=Fue(e,"string");return Dc(t)==="symbol"?t:String(t)}function Fue(e,t){if(Dc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Dc(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bb(e,t)}function Bb(e,t){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Bb(e,t)}function Uue(e){var t=zue();return function(){var s=_p(e),a;if(t){var i=_p(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return Ub(this,a)}}function Ub(e,t){if(t&&(Dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zb(e)}function zb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _p(e){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(e)}var Vs=function(e){Bue(r,e);var t=Uue(r);function r(s,a){var i;Due(this,r),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(zb(i)),i.changeStyle=i.changeStyle.bind(zb(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),Ub(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof h=="function")return i.state={style:d},Ub(i);i.state={style:c?ru({},c,d):d}}else i.state={style:{}};return i}return Lue(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?ru({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(p);return}if(!(Gde(a.to,u)&&a.canBegin&&a.isActive)){var b=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=b||d?f:a.to;if(this.state&&h){var g={style:c?ru({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(g)}this.runAnimation(Ns(Ns({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=Eue(o,l,gue(d),c,this.changeStyle),b=function(){i.stopJSAnimation=p()};this.manager.start([h,u,b,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,f=d.duration,h=f===void 0?0:f,p=function(x,g,y){if(y===0)return x;var v=g.duration,j=g.easing,S=j===void 0?"ease":j,w=g.style,N=g.properties,P=g.onAnimationEnd,C=y>0?o[y-1]:g,k=N||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(oy(x),[i.runJSAnimation.bind(i,{from:C.style,to:w,duration:v,easing:S}),v]);var D=uA(k,v,S),T=Ns(Ns(Ns({},C.style),w),{},{transition:D});return[].concat(oy(x),[T,v,P]).filter(aue)};return this.manager.start([c].concat(oy(o.reduce(p,[u,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=tue());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var x=l?ru({},l,c):c,g=uA(Object.keys(x),o,d);b.start([u,i,Ns(Ns({},x),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=kue(a,Oue),d=m.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var f=function(p){var b=p.props,x=b.style,g=x===void 0?{}:x,y=b.className,v=m.cloneElement(p,Ns(Ns({},c),{},{style:Ns(Ns({},g),u),className:y}));return v};return d===1?f(m.Children.only(i)):F.createElement("div",null,m.Children.map(i,function(h){return f(h)}))}}]),r}(m.PureComponent);Vs.displayName="Animate";Vs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vs.propTypes={from:Rt.oneOfType([Rt.object,Rt.string]),to:Rt.oneOfType([Rt.object,Rt.string]),attributeName:Rt.string,duration:Rt.number,begin:Rt.number,easing:Rt.oneOfType([Rt.string,Rt.func]),steps:Rt.arrayOf(Rt.shape({duration:Rt.number.isRequired,style:Rt.object.isRequired,easing:Rt.oneOfType([Rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Rt.func]),properties:Rt.arrayOf("string"),onAnimationEnd:Rt.func})),children:Rt.oneOfType([Rt.node,Rt.func]),isActive:Rt.bool,canBegin:Rt.bool,onAnimationEnd:Rt.func,shouldReAnimate:Rt.bool,onAnimationStart:Rt.func,onAnimationReStart:Rt.func};function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Rp.apply(this,arguments)}function Vue(e,t){return Kue(e)||Wue(e,t)||Hue(e,t)||que()}function que(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hue(e,t){if(e){if(typeof e=="string")return gA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(e,t)}}function gA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Wue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Kue(e){if(Array.isArray(e))return e}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function yA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(s){Gue(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Gue(e,t,r){return t=Yue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yue(e){var t=Xue(e,"string");return yf(t)=="symbol"?t:t+""}function Xue(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(yf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bA=function(t,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+s-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+s,",").concat(r+l*f[1])),u+="L ".concat(t+s,",").concat(r+a-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+s-c*f[2],",").concat(r+a)),u+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*f[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);u="M ".concat(t,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+c*b,",").concat(r,`
            L `).concat(t+s-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+s,",").concat(r+l*b,`
            L `).concat(t+s,",").concat(r+a-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+s-c*b,",").concat(r+a,`
            L `).concat(t+c*b,",").concat(r+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*b," Z")}else u="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},Que=function(t,r){if(!t||!r)return!1;var s=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return s>=d&&s<=u&&a>=f&&a<=h}return!1},Jue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WN=function(t){var r=yA(yA({},Jue),t),s=m.useRef(),a=m.useState(-1),i=Vue(a,2),o=i[0],l=i[1];m.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var S=s.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,b=r.animationEasing,x=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var j=ft("recharts-rectangle",p);return v?F.createElement(Vs,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:x,animationEasing:b,isActive:v},function(S){var w=S.width,N=S.height,P=S.x,C=S.y;return F.createElement(Vs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,isActive:y,easing:b},F.createElement("path",Rp({},tt(r,!0),{className:j,d:bA(P,C,w,N,h),ref:s})))}):F.createElement("path",Rp({},tt(r,!0),{className:j,d:bA(c,d,u,f,h)}))},Zue=["points","className","baseLinePoints","connectNulls"];function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Vl.apply(this,arguments)}function efe(e,t){if(e==null)return{};var r=tfe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function tfe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function jA(e){return afe(e)||sfe(e)||nfe(e)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nfe(e,t){if(e){if(typeof e=="string")return Vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vb(e,t)}}function sfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function afe(e){if(Array.isArray(e))return Vb(e)}function Vb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var wA=function(t){return t&&t.x===+t.x&&t.y===+t.y},ife=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(s){wA(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),wA(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},bu=function(t,r){var s=ife(t);r&&(s=[s.reduce(function(i,o){return[].concat(jA(i),jA(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},ofe=function(t,r,s){var a=bu(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(bu(r.reverse(),s).slice(1))},lfe=function(t){var r=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=efe(t,Zue);if(!r||!r.length)return null;var l=ft("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=ofe(r,a,i);return F.createElement("g",{className:l},F.createElement("path",Vl({},tt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?F.createElement("path",Vl({},tt(o,!0),{fill:"none",d:bu(r,i)})):null,c?F.createElement("path",Vl({},tt(o,!0),{fill:"none",d:bu(a,i)})):null)}var u=bu(r,i);return F.createElement("path",Vl({},tt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},qb.apply(this,arguments)}var Zf=function(t){var r=t.cx,s=t.cy,a=t.r,i=t.className,o=ft("recharts-dot",i);return r===+r&&s===+s&&a===+a?m.createElement("circle",qb({},tt(t,!1),ep(t),{className:o,cx:r,cy:s,r:a})):null};function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}var cfe=["x","y","top","left","width","height","className"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Hb.apply(this,arguments)}function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function dfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(s){ufe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ufe(e,t,r){return t=ffe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ffe(e){var t=hfe(e,"string");return bf(t)=="symbol"?t:t+""}function hfe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(bf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mfe(e,t){if(e==null)return{};var r=pfe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function pfe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var xfe=function(t,r,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},gfe=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,b=t.className,x=mfe(t,cfe),g=dfe({x:s,y:i,top:l,left:d,width:f,height:p},x);return!_e(s)||!_e(i)||!_e(f)||!_e(p)||!_e(l)||!_e(d)?null:F.createElement("path",Hb({},tt(g,!0),{className:ft("recharts-cross",b),d:xfe(s,i,f,p,l,d)}))},vfe=Ng,yfe=tM,bfe=ya;function jfe(e,t){return e&&e.length?vfe(e,bfe(t),yfe):void 0}var wfe=jfe;const Nfe=Lt(wfe);var Sfe=Ng,Pfe=ya,Cfe=rM;function Afe(e,t){return e&&e.length?Sfe(e,Pfe(t),Cfe):void 0}var Efe=Afe;const Ofe=Lt(Efe);var kfe=["cx","cy","angle","ticks","axisLine"],Tfe=["ticks","tick","angle","tickFormatter","stroke"];function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ju.apply(this,arguments)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(s){Ag(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function PA(e,t){if(e==null)return{};var r=Ife(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Ife(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function _fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CA(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,HM(s.key),s)}}function Rfe(e,t,r){return t&&CA(e.prototype,t),r&&CA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mfe(e,t,r){return t=Mp(t),Dfe(e,qM()?Reflect.construct(t,r||[],Mp(e).constructor):t.apply(e,r))}function Dfe(e,t){if(t&&($c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $fe(e)}function $fe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qM=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(e)}function Lfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wb(e,t)}function Wb(e,t){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Wb(e,t)}function Ag(e,t,r){return t=HM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HM(e){var t=Ffe(e,"string");return $c(t)=="symbol"?t:t+""}function Ffe(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if($c(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eg=function(e){function t(){return _fe(this,t),Mfe(this,t,arguments)}return Lfe(t,e),Rfe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Qt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=Nfe(l,function(u){return u.coordinate||0}),d=Ofe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=PA(s,kfe),u=l.reduce(function(b,x){return[Math.min(b[0],x.coordinate),Math.max(b[1],x.coordinate)]},[1/0,-1/0]),f=Qt(a,i,u[0],o),h=Qt(a,i,u[1],o),p=oo(oo(oo({},tt(d,!1)),{},{fill:"none"},tt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return F.createElement("line",ju({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=PA(a,Tfe),f=this.getTickTextAnchor(),h=tt(u,!1),p=tt(o,!1),b=i.map(function(x,g){var y=s.getTickValueCoord(x),v=oo(oo(oo(oo({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:d},p),{},{index:g},y),{},{payload:x});return F.createElement(St,ju({className:ft("recharts-polar-radius-axis-tick",kM(o)),key:"tick-".concat(x.coordinate)},Ko(s.props,x,g)),t.renderTickItem(o,v,c?c(x.value,g):x.value))});return F.createElement(St,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:F.createElement(St,{className:ft("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),zr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return F.isValidElement(s)?o=F.cloneElement(s,a):lt(s)?o=s(a):o=F.createElement(Go,ju({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(m.PureComponent);Ag(Eg,"displayName","PolarRadiusAxis");Ag(Eg,"axisType","radiusAxis");Ag(Eg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},xo.apply(this,arguments)}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(s){Og(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Bfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EA(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,KM(s.key),s)}}function Ufe(e,t,r){return t&&EA(e.prototype,t),r&&EA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zfe(e,t,r){return t=Dp(t),Vfe(e,WM()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function Vfe(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qfe(e)}function qfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function Hfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kb(e,t)}function Kb(e,t){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Kb(e,t)}function Og(e,t,r){return t=KM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KM(e){var t=Wfe(e,"string");return Lc(t)=="symbol"?t:t+""}function Wfe(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Lc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kfe=Math.PI/180,OA=1e-5,kg=function(e){function t(){return Bfe(this,t),zfe(this,t,arguments)}return Hfe(t,e),Ufe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,f=Qt(i,o,l,s.coordinate),h=Qt(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*Kfe),o;return i>OA?o=a==="outer"?"start":"end":i<-OA?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=lo(lo({},tt(this.props,!1)),{},{fill:"none"},tt(l,!1));if(c==="circle")return F.createElement(Zf,xo({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,f=u.map(function(h){return Qt(a,i,o,h.coordinate)});return F.createElement(lfe,xo({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=tt(this.props,!1),f=tt(o,!1),h=lo(lo({},u),{},{fill:"none"},tt(l,!1)),p=i.map(function(b,x){var g=s.getTickLineCoord(b),y=s.getTickTextAnchor(b),v=lo(lo(lo({textAnchor:y},u),{},{stroke:"none",fill:d},f),{},{index:x,payload:b,x:g.x2,y:g.y2});return F.createElement(St,xo({className:ft("recharts-polar-angle-axis-tick",kM(o)),key:"tick-".concat(b.coordinate)},Ko(s.props,b,x)),l&&F.createElement("line",xo({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,v,c?c(b.value,x):b.value))});return F.createElement(St,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:F.createElement(St,{className:ft("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return F.isValidElement(s)?o=F.cloneElement(s,a):lt(s)?o=s(a):o=F.createElement(Go,xo({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(m.PureComponent);Og(kg,"displayName","PolarAngleAxis");Og(kg,"axisType","angleAxis");Og(kg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Gfe=Q_,Yfe=Gfe(Object.getPrototypeOf,Object),Xfe=Yfe,Qfe=ei,Jfe=Xfe,Zfe=ti,ehe="[object Object]",the=Function.prototype,rhe=Object.prototype,GM=the.toString,nhe=rhe.hasOwnProperty,she=GM.call(Object);function ahe(e){if(!Zfe(e)||Qfe(e)!=ehe)return!1;var t=Jfe(e);if(t===null)return!0;var r=nhe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&GM.call(r)==she}var ihe=ahe;const ohe=Lt(ihe);var lhe=ei,che=ti,dhe="[object Boolean]";function uhe(e){return e===!0||e===!1||che(e)&&lhe(e)==dhe}var fhe=uhe;const hhe=Lt(fhe);function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$p.apply(this,arguments)}function mhe(e,t){return vhe(e)||ghe(e,t)||xhe(e,t)||phe()}function phe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xhe(e,t){if(e){if(typeof e=="string")return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function ghe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function vhe(e){if(Array.isArray(e))return e}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function IA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(s){yhe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yhe(e,t,r){return t=bhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bhe(e){var t=jhe(e,"string");return jf(t)=="symbol"?t:t+""}function jhe(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(jf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _A=function(t,r,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+s,",").concat(r),l+="L ".concat(t+s-o/2,",").concat(r+i),l+="L ".concat(t+s-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},whe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nhe=function(t){var r=IA(IA({},whe),t),s=m.useRef(),a=m.useState(-1),i=mhe(a,2),o=i[0],l=i[1];m.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var j=s.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,b=r.animationEasing,x=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var v=ft("recharts-trapezoid",p);return y?F.createElement(Vs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:h,x:c,y:d},duration:x,animationEasing:b,isActive:y},function(j){var S=j.upperWidth,w=j.lowerWidth,N=j.height,P=j.x,C=j.y;return F.createElement(Vs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:x,easing:b},F.createElement("path",$p({},tt(r,!0),{className:v,d:_A(P,C,S,w,N),ref:s})))}):F.createElement("g",null,F.createElement("path",$p({},tt(r,!0),{className:v,d:_A(c,d,u,f,h)})))},She=["option","shapeType","propTransformer","activeClassName","isActive"];function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function Phe(e,t){if(e==null)return{};var r=Che(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Che(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function RA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Lp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(r),!0).forEach(function(s){Ahe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ahe(e,t,r){return t=Ehe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ehe(e){var t=Ohe(e,"string");return wf(t)=="symbol"?t:t+""}function Ohe(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(wf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function khe(e,t){return Lp(Lp({},t),e)}function The(e,t){return e==="symbols"}function MA(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return F.createElement(WN,r);case"trapezoid":return F.createElement(Nhe,r);case"sector":return F.createElement(_M,r);case"symbols":if(The(t))return F.createElement(uN,r);break;default:return null}}function Ihe(e){return m.isValidElement(e)?e.props:e}function YM(e){var t=e.option,r=e.shapeType,s=e.propTransformer,a=s===void 0?khe:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=Phe(e,She),d;if(m.isValidElement(t))d=m.cloneElement(t,Lp(Lp({},c),Ihe(t)));else if(lt(t))d=t(c);else if(ohe(t)&&!hhe(t)){var u=a(t,c);d=F.createElement(MA,{shapeType:r,elementProps:u})}else{var f=c;d=F.createElement(MA,{shapeType:r,elementProps:f})}return l?F.createElement(St,{className:o},d):d}function Tg(e,t){return t!=null&&"trapezoids"in e.props}function Ig(e,t){return t!=null&&"sectors"in e.props}function Nf(e,t){return t!=null&&"points"in e.props}function _he(e,t){var r,s,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function Rhe(e,t){var r=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return r&&s}function Mhe(e,t){var r=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return r&&s&&a}function Dhe(e,t){var r;return Tg(e,t)?r=_he:Ig(e,t)?r=Rhe:Nf(e,t)&&(r=Mhe),r}function $he(e,t){var r;return Tg(e,t)?r="trapezoids":Ig(e,t)?r="sectors":Nf(e,t)&&(r="points"),r}function Lhe(e,t){if(Tg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ig(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return Nf(e,t)?t.payload:{}}function Fhe(e){var t=e.activeTooltipItem,r=e.graphicalItem,s=e.itemData,a=$he(r,t),i=Lhe(r,t),o=s.filter(function(c,d){var u=Yo(i,c),f=r.props[a].filter(function(b){var x=Dhe(r,t);return x(b,t)}),h=r.props[a].indexOf(f[f.length-1]),p=d===h;return u&&p}),l=s.indexOf(o[o.length-1]);return l}var pm;function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ql.apply(this,arguments)}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(s){ls(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Bhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $A(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,QM(s.key),s)}}function Uhe(e,t,r){return t&&$A(e.prototype,t),r&&$A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zhe(e,t,r){return t=Fp(t),Vhe(e,XM()?Reflect.construct(t,r||[],Fp(e).constructor):t.apply(e,r))}function Vhe(e,t){if(t&&(Fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qhe(e)}function qhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XM=function(){return!!e})()}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(e)}function Hhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gb(e,t)}function Gb(e,t){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Gb(e,t)}function ls(e,t,r){return t=QM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QM(e){var t=Whe(e,"string");return Fc(t)=="symbol"?t:t+""}function Whe(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Fc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ni=function(e){function t(r){var s;return Bhe(this,t),s=zhe(this,t,[r]),ls(s,"pieRef",null),ls(s,"sectorRefs",[]),ls(s,"id",dl("recharts-pie-")),ls(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),lt(a)&&a()}),ls(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),lt(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return Hhe(t,e),Uhe(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=tt(this.props,!1),f=tt(o,!1),h=tt(l,!1),p=o&&o.offsetRadius||20,b=s.map(function(x,g){var y=(x.startAngle+x.endAngle)/2,v=Qt(x.cx,x.cy,x.outerRadius+p,y),j=Gt(Gt(Gt(Gt({},u),x),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(v.x,x.cx)},v),S=Gt(Gt(Gt(Gt({},u),x),{},{fill:"none",stroke:x.fill},h),{},{index:g,points:[Qt(x.cx,x.cy,x.outerRadius,y),v]}),w=c;return dt(c)&&dt(d)?w="value":dt(c)&&(w=d),F.createElement(St,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,S,"line"),t.renderLabelItem(o,j,Sr(x,w)))});return F.createElement(St,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&s.length!==1)return null;var f=a.isActiveIndex(u),h=c&&a.hasActiveIndex()?c:null,p=f?o:h,b=Gt(Gt({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return F.createElement(St,ql({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Ko(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),F.createElement(YM,ql({option:p,isActive:f,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return F.createElement(Vs,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var x=b.t,g=[],y=i&&i[0],v=y.startAngle;return i.forEach(function(j,S){var w=h&&h[S],N=S>0?Yn(j,"paddingAngle",0):0;if(w){var P=Mr(w.endAngle-w.startAngle,j.endAngle-j.startAngle),C=Gt(Gt({},j),{},{startAngle:v+N,endAngle:v+P(x)+N});g.push(C),v=C.endAngle}else{var k=j.endAngle,D=j.startAngle,T=Mr(0,k-D),R=T(x),q=Gt(Gt({},j),{},{startAngle:v+N,endAngle:v+R+N});g.push(q),v=q.endAngle}}),F.createElement(St,null,s.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Yo(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,b=this.state.isAnimationFinished;if(i||!o||!o.length||!_e(d)||!_e(u)||!_e(f)||!_e(h))return null;var x=ft("recharts-pie",l);return F.createElement(St,{tabIndex:this.props.rootTabIndex,className:x,ref:function(y){s.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),zr.renderCallByParent(this.props,null,!1),(!p||b)&&ua.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(F.isValidElement(s))return F.cloneElement(s,a);if(lt(s))return s(a);var o=ft("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return F.createElement(Do,ql({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(F.isValidElement(s))return F.cloneElement(s,a);var o=i;if(lt(s)&&(o=s(a),F.isValidElement(o)))return o;var l=ft("recharts-pie-label-text",typeof s!="boolean"&&!lt(s)?s.className:"");return F.createElement(Go,ql({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(m.PureComponent);pm=ni;ls(ni,"displayName","Pie");ls(ni,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ls(ni,"parseDeltaAngle",function(e,t){var r=gn(t-e),s=Math.min(Math.abs(t-e),360);return r*s});ls(ni,"getRealPieData",function(e){var t=e.data,r=e.children,s=tt(e,!1),a=Xn(r,xg);return t&&t.length?t.map(function(i,o){return Gt(Gt(Gt({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Gt(Gt({},s),i.props)}):[]});ls(ni,"parseCoordinateOfPie",function(e,t){var r=t.top,s=t.left,a=t.width,i=t.height,o=OM(a,i),l=s+vn(e.cx,a,a/2),c=r+vn(e.cy,i,i/2),d=vn(e.innerRadius,o,0),u=vn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});ls(ni,"getComposedData",function(e){var t=e.item,r=e.offset,s=t.type.defaultProps!==void 0?Gt(Gt({},t.type.defaultProps),t.props):t.props,a=pm.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,f=s.valueKey,h=s.tooltipType,p=Math.abs(s.minAngle),b=pm.parseCoordinateOfPie(s,r),x=pm.parseDeltaAngle(o,l),g=Math.abs(x),y=d;dt(d)&&dt(f)?(Ls(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):dt(d)&&(Ls(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var v=a.filter(function(C){return Sr(C,y,0)!==0}).length,j=(g>=360?v:v-1)*c,S=g-v*p-j,w=a.reduce(function(C,k){var D=Sr(k,y,0);return C+(_e(D)?D:0)},0),N;if(w>0){var P;N=a.map(function(C,k){var D=Sr(C,y,0),T=Sr(C,u,k),R=(_e(D)?D:0)/w,q;k?q=P.endAngle+gn(x)*c*(D!==0?1:0):q=o;var $=q+gn(x)*((D!==0?p:0)+R*S),B=(q+$)/2,I=(b.innerRadius+b.outerRadius)/2,L=[{name:T,value:D,payload:C,dataKey:y,type:h}],E=Qt(b.cx,b.cy,I,B);return P=Gt(Gt(Gt({percent:R,cornerRadius:i,name:T,tooltipPayload:L,midAngle:B,middleRadius:I,tooltipPosition:E},C),b),{},{value:Sr(C,y),startAngle:q,endAngle:$,payload:C,paddingAngle:gn(x)*c}),P})}return Gt(Gt({},b),{},{sectors:N,data:a})});var Khe=Math.ceil,Ghe=Math.max;function Yhe(e,t,r,s){for(var a=-1,i=Ghe(Khe((t-e)/(r||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=r;return o}var Xhe=Yhe,Qhe=xR,LA=1/0,Jhe=17976931348623157e292;function Zhe(e){if(!e)return e===0?e:0;if(e=Qhe(e),e===LA||e===-LA){var t=e<0?-1:1;return t*Jhe}return e===e?e:0}var JM=Zhe,eme=Xhe,tme=pg,ly=JM;function rme(e){return function(t,r,s){return s&&typeof s!="number"&&tme(t,r,s)&&(r=s=void 0),t=ly(t),r===void 0?(r=t,t=0):r=ly(r),s=s===void 0?t<r?1:-1:ly(s),eme(t,r,s,e)}}var nme=rme,sme=nme,ame=sme(),ime=ame;const Bp=Lt(ime);function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function FA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function BA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(r),!0).forEach(function(s){ZM(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ZM(e,t,r){return t=ome(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ome(e){var t=lme(e,"string");return Sf(t)=="symbol"?t:t+""}function lme(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Sf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cme=["Webkit","Moz","O","ms"],dme=function(t,r){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=cme.reduce(function(i,o){return BA(BA({},i),{},ZM({},o+s,r))},{});return a[t]=r,a};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Up.apply(this,arguments)}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(s){Bn(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ume(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zA(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tD(s.key),s)}}function fme(e,t,r){return t&&zA(e.prototype,t),r&&zA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hme(e,t,r){return t=zp(t),mme(e,eD()?Reflect.construct(t,r||[],zp(e).constructor):t.apply(e,r))}function mme(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pme(e)}function pme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!e})()}function zp(e){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zp(e)}function xme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yb(e,t)}function Yb(e,t){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Yb(e,t)}function Bn(e,t,r){return t=tD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tD(e){var t=gme(e,"string");return Bc(t)=="symbol"?t:t+""}function gme(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Bc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vme=function(t){var r=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=gu().domain(Bp(0,c)).range([i,i+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},VA=function(t){return t.changedTouches&&!!t.changedTouches.length},Uc=function(e){function t(r){var s;return ume(this,t),s=hme(this,t,[r]),Bn(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),Bn(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),Bn(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),Bn(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Bn(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Bn(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Bn(s,"handleSlideDragStart",function(a){var i=VA(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return xme(t,e),fme(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),b=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:b===u?u:b-b%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Sr(i[s],l,s);return lt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,b=c.onChange,x=s.pageX-i;x>0?x=Math.min(x,d+u-f-l,d+u-f-o):x<0&&(x=Math.max(x,d-o,d-l));var g=this.getIndex({startX:o+x,endX:l+x});(g.startIndex!==h||g.endIndex!==p)&&b&&b(g),this.setState({startX:o+x,endX:l+x,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=VA(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,b=u.onChange,x=u.gap,g=u.data,y={startX:this.state.startX,endX:this.state.endX},v=s.pageX-i;v>0?v=Math.min(v,f+h-p-d):v<0&&(v=Math.max(v,f-d)),y[o]=d+v;var j=this.getIndex(y),S=j.startIndex,w=j.endIndex,N=function(){var C=g.length-1;return o==="startX"&&(l>c?S%x===0:w%x===0)||l<c&&w===C||o==="endX"&&(l>c?w%x===0:S%x===0)||l>c&&w===C};this.setState(Bn(Bn({},o,d+v),"brushMoveStartX",s.pageX),function(){b&&N()&&b(j)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],f=l.indexOf(u);if(f!==-1){var h=f+s;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=d||a==="endX"&&p<=c||this.setState(Bn({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return F.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,f=m.Children.only(d);return f?F.cloneElement(f,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,b=c.data,x=c.startIndex,g=c.endIndex,y=Math.max(s,this.props.x),v=cy(cy({},tt(this.props,!1)),{},{x:y,y:d,width:u,height:f}),j=p||"Min value: ".concat((i=b[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[g])===null||o===void 0?void 0:o.name);return F.createElement(St,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,f=Math.max(Math.abs(a-s)-d,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,f=u.startX,h=u.endX,p=5,b={pointerEvents:"none",fill:d};return F.createElement(St,{className:"recharts-brush-texts"},F.createElement(Go,Up({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},b),this.getTextOfTick(a)),F.createElement(Go,Up({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,f=s.alwaysShowText,h=this.state,p=h.startX,b=h.endX,x=h.isTextActive,g=h.isSlideMoving,y=h.isTravellerMoving,v=h.isTravellerFocused;if(!a||!a.length||!_e(l)||!_e(c)||!_e(d)||!_e(u)||d<=0||u<=0)return null;var j=ft("recharts-brush",i),S=F.Children.count(o)===1,w=dme("userSelect","none");return F.createElement(St,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,b),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(b,"endX"),(x||g||y||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),F.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return F.isValidElement(s)?i=F.cloneElement(s,a):lt(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,f=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return cy({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?vme({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(m.PureComponent);Bn(Uc,"displayName","Brush");Bn(Uc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var yme=vN;function bme(e,t){var r;return yme(e,function(s,a,i){return r=t(s,a,i),!r}),!!r}var jme=bme,wme=V_,Nme=ya,Sme=jme,Pme=Dn,Cme=pg;function Ame(e,t,r){var s=Pme(e)?wme:Sme;return r&&Cme(e,t,r)&&(t=void 0),s(e,Nme(t))}var Eme=Ame;const Ome=Lt(Eme);var fa=function(t,r){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===r},qA=uR;function kme(e,t,r){t=="__proto__"&&qA?qA(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Tme=kme,Ime=Tme,_me=cR,Rme=ya;function Mme(e,t){var r={};return t=Rme(t),_me(e,function(s,a,i){Ime(r,a,t(s,a,i))}),r}var Dme=Mme;const $me=Lt(Dme);function Lme(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!t(e[r],r,e))return!1;return!0}var Fme=Lme,Bme=vN;function Ume(e,t){var r=!0;return Bme(e,function(s,a,i){return r=!!t(s,a,i),r}),r}var zme=Ume,Vme=Fme,qme=zme,Hme=ya,Wme=Dn,Kme=pg;function Gme(e,t,r){var s=Wme(e)?Vme:qme;return r&&Kme(e,t,r)&&(t=void 0),s(e,Hme(t))}var Yme=Gme;const rD=Lt(Yme);var Xme=["x","y"];function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xb.apply(this,arguments)}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(s){Qme(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Qme(e,t,r){return t=Jme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jme(e){var t=Zme(e,"string");return Pf(t)=="symbol"?t:t+""}function Zme(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Pf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function epe(e,t){if(e==null)return{};var r=tpe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function tpe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function rpe(e,t){var r=e.x,s=e.y,a=epe(e,Xme),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Gd(Gd(Gd(Gd(Gd({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function WA(e){return F.createElement(YM,Xb({shapeType:"rectangle",propTransformer:rpe,activeClassName:"recharts-active-bar"},e))}var npe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=_e(s)||EK(s);return i?t(s,a):(i||Qo(),r)}},spe=["value","background"],nD;function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function ape(e,t){if(e==null)return{};var r=ipe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function ipe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Vp.apply(this,arguments)}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(s){Ai(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ope(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GA(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,aD(s.key),s)}}function lpe(e,t,r){return t&&GA(e.prototype,t),r&&GA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cpe(e,t,r){return t=qp(t),dpe(e,sD()?Reflect.construct(t,r||[],qp(e).constructor):t.apply(e,r))}function dpe(e,t){if(t&&(zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return upe(e)}function upe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!e})()}function qp(e){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(e)}function fpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qb(e,t)}function Qb(e,t){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Qb(e,t)}function Ai(e,t,r){return t=aD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aD(e){var t=hpe(e,"string");return zc(t)=="symbol"?t:t+""}function hpe(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(zc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ba=function(e){function t(){var r;ope(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=cpe(this,t,[].concat(a)),Ai(r,"state",{isAnimationFinished:!1}),Ai(r,"id",dl("recharts-bar-")),Ai(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ai(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return fpe(t,e),lpe(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=tt(this.props,!1);return s&&s.map(function(f,h){var p=h===c,b=p?d:o,x=Cr(Cr(Cr({},u),f),{},{isActive:p,option:b,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return F.createElement(St,Vp({className:"recharts-bar-rectangle"},Ko(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),F.createElement(WA,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return F.createElement(Vs,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var b=p.t,x=i.map(function(g,y){var v=h&&h[y];if(v){var j=Mr(v.x,g.x),S=Mr(v.y,g.y),w=Mr(v.width,g.width),N=Mr(v.height,g.height);return Cr(Cr({},g),{},{x:j(b),y:S(b),width:w(b),height:N(b)})}if(o==="horizontal"){var P=Mr(0,g.height),C=P(b);return Cr(Cr({},g),{},{y:g.y+g.height-C,height:C})}var k=Mr(0,g.width),D=k(b);return Cr(Cr({},g),{},{width:D})});return F.createElement(St,null,s.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Yo(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=tt(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,h=ape(d,spe);if(!f)return null;var p=Cr(Cr(Cr(Cr(Cr({},h),{},{fill:"#eee"},f),c),Ko(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return F.createElement(WA,Vp({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Xn(u,Jf);if(!f)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,p=function(g,y){var v=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:v,errorVal:Sr(g,y)}},b={clipPath:s?"url(#clipPath-".concat(a,")"):null};return F.createElement(St,b,f.map(function(x){return F.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,f=s.width,h=s.height,p=s.isAnimationActive,b=s.background,x=s.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,y=ft("recharts-bar",o),v=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,S=v||j,w=dt(x)?this.id:x;return F.createElement(St,{className:y},v||j?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(w)},F.createElement("rect",{x:v?d:d-f/2,y:j?u:u-h/2,width:v?f:f*2,height:j?h:h*2}))):null,F.createElement(St,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||g)&&ua.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(m.PureComponent);nD=Ba;Ai(Ba,"displayName","Bar");Ai(Ba,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ai(Ba,"getComposedData",function(e){var t=e.props,r=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Kle(s,r);if(!p)return null;var b=t.layout,x=r.type.defaultProps,g=x!==void 0?Cr(Cr({},x),r.props):r.props,y=g.dataKey,v=g.children,j=g.minPointSize,S=b==="horizontal"?o:i,w=d?S.scale.domain():null,N=ece({numericAxis:S}),P=Xn(v,xg),C=f.map(function(k,D){var T,R,q,$,B,I;d?T=Gle(d[u+D],w):(T=Sr(k,y),Array.isArray(T)||(T=[N,T]));var L=npe(j,nD.defaultProps.minPointSize)(T[1],D);if(b==="horizontal"){var E,_=[o.scale(T[0]),o.scale(T[1])],O=_[0],M=_[1];R=$C({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:k,index:D}),q=(E=M??O)!==null&&E!==void 0?E:void 0,$=p.size;var A=O-M;if(B=Number.isNaN(A)?0:A,I={x:R,y:o.y,width:$,height:o.height},Math.abs(L)>0&&Math.abs(B)<Math.abs(L)){var U=gn(B||L)*(Math.abs(L)-Math.abs(B));q-=U,B+=U}}else{var ee=[i.scale(T[0]),i.scale(T[1])],V=ee[0],X=ee[1];if(R=V,q=$C({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:k,index:D}),$=X-V,B=p.size,I={x:i.x,y:q,width:i.width,height:B},Math.abs(L)>0&&Math.abs($)<Math.abs(L)){var Q=gn($||L)*(Math.abs(L)-Math.abs($));$+=Q}}return Cr(Cr(Cr({},k),{},{x:R,y:q,width:$,height:B,value:d?T:T[1],payload:k,background:I},P&&P[D]&&P[D].props),{},{tooltipPayload:[AM(r,k)],tooltipPosition:{x:R+$/2,y:q+B/2}})});return Cr({data:C,layout:b},h)});function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function mpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YA(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,iD(s.key),s)}}function ppe(e,t,r){return t&&YA(e.prototype,t),r&&YA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(r),!0).forEach(function(s){_g(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function _g(e,t,r){return t=iD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iD(e){var t=xpe(e,"string");return Cf(t)=="symbol"?t:t+""}function xpe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Cf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KN=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},h=!!zn(d,Ba);return u.reduce(function(p,b){var x=r[b],g=x.orientation,y=x.domain,v=x.padding,j=v===void 0?{}:v,S=x.mirror,w=x.reversed,N="".concat(g).concat(S?"Mirror":""),P,C,k,D,T;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var R=y[1]-y[0],q=1/0,$=x.categoricalDomain.sort(TK);if($.forEach(function(ee,V){V>0&&(q=Math.min((ee||0)-($[V-1]||0),q))}),Number.isFinite(q)){var B=q/R,I=x.layout==="vertical"?s.height:s.width;if(x.padding==="gap"&&(P=B*I/2),x.padding==="no-gap"){var L=vn(t.barCategoryGap,B*I),E=B*I/2;P=E-L-(E-L)/I*L}}}a==="xAxis"?C=[s.left+(j.left||0)+(P||0),s.left+s.width-(j.right||0)-(P||0)]:a==="yAxis"?C=c==="horizontal"?[s.top+s.height-(j.bottom||0),s.top+(j.top||0)]:[s.top+(j.top||0)+(P||0),s.top+s.height-(j.bottom||0)-(P||0)]:C=x.range,w&&(C=[C[1],C[0]]);var _=NM(x,i,h),O=_.scale,M=_.realScaleType;O.domain(y).range(C),SM(O);var A=PM(O,ks(ks({},x),{},{realScaleType:M}));a==="xAxis"?(T=g==="top"&&!S||g==="bottom"&&S,k=s.left,D=f[N]-T*x.height):a==="yAxis"&&(T=g==="left"&&!S||g==="right"&&S,k=f[N]-T*x.width,D=s.top);var U=ks(ks(ks({},x),A),{},{realScaleType:M,x:k,y:D,scale:O,width:a==="xAxis"?s.width:x.width,height:a==="yAxis"?s.height:x.height});return U.bandSize=Ep(U,A),!x.hide&&a==="xAxis"?f[N]+=(T?-1:1)*U.height:x.hide||(f[N]+=(T?-1:1)*U.width),ks(ks({},p),{},_g({},b,U))},{})},oD=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},gpe=function(t){var r=t.x1,s=t.y1,a=t.x2,i=t.y2;return oD({x:r,y:s},{x:a,y:i})},lD=function(){function e(t){mpe(this,e),this.scale=t}return ppe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();_g(lD,"EPS",1e-4);var GN=function(t){var r=Object.keys(t).reduce(function(s,a){return ks(ks({},s),{},_g({},a,lD.create(t[a])))},{});return ks(ks({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return $me(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return rD(a,function(i,o){return r[o].isInRange(i)})}})};function vpe(e){return(e%180+180)%180}var ype=function(t){var r=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=vpe(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},bpe=ya,jpe=Kf,wpe=hg;function Npe(e){return function(t,r,s){var a=Object(t);if(!jpe(t)){var i=bpe(r);t=wpe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,s);return o>-1?a[i?t[o]:o]:void 0}}var Spe=Npe,Ppe=JM;function Cpe(e){var t=Ppe(e),r=t%1;return t===t?r?t-r:t:0}var Ape=Cpe,Epe=nR,Ope=ya,kpe=Ape,Tpe=Math.max;function Ipe(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var a=r==null?0:kpe(r);return a<0&&(a=Tpe(s+a,0)),Epe(e,Ope(t),a)}var _pe=Ipe,Rpe=Spe,Mpe=_pe,Dpe=Rpe(Mpe),$pe=Dpe;const Lpe=Lt($pe);var Fpe=IW(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),YN=m.createContext(void 0),XN=m.createContext(void 0),cD=m.createContext(void 0),dD=m.createContext({}),uD=m.createContext(void 0),fD=m.createContext(0),hD=m.createContext(0),QA=function(t){var r=t.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=Fpe(i);return F.createElement(YN.Provider,{value:s},F.createElement(XN.Provider,{value:a},F.createElement(dD.Provider,{value:i},F.createElement(cD.Provider,{value:u},F.createElement(uD.Provider,{value:o},F.createElement(fD.Provider,{value:d},F.createElement(hD.Provider,{value:c},l)))))))},Bpe=function(){return m.useContext(uD)},mD=function(t){var r=m.useContext(YN);r==null&&Qo();var s=r[t];return s==null&&Qo(),s},Upe=function(){var t=m.useContext(YN);return gi(t)},zpe=function(){var t=m.useContext(XN),r=Lpe(t,function(s){return rD(s.domain,Number.isFinite)});return r||gi(t)},pD=function(t){var r=m.useContext(XN);r==null&&Qo();var s=r[t];return s==null&&Qo(),s},Vpe=function(){var t=m.useContext(cD);return t},qpe=function(){return m.useContext(dD)},QN=function(){return m.useContext(hD)},JN=function(){return m.useContext(fD)};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function Hpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wpe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gD(s.key),s)}}function Kpe(e,t,r){return t&&Wpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gpe(e,t,r){return t=Hp(t),Ype(e,xD()?Reflect.construct(t,r||[],Hp(e).constructor):t.apply(e,r))}function Ype(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xpe(e)}function Xpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!e})()}function Hp(e){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(e)}function Qpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jb(e,t)}function Jb(e,t){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Jb(e,t)}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ZA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(s){ZN(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ZN(e,t,r){return t=gD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gD(e){var t=Jpe(e,"string");return Vc(t)=="symbol"?t:t+""}function Jpe(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Vc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zpe(e,t){return nxe(e)||rxe(e,t)||txe(e,t)||exe()}function exe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function txe(e,t){if(e){if(typeof e=="string")return eE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eE(e,t)}}function eE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function rxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function nxe(e){if(Array.isArray(e))return e}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zb.apply(this,arguments)}var sxe=function(t,r){var s;return F.isValidElement(t)?s=F.cloneElement(t,r):lt(t)?s=t(r):s=F.createElement("line",Zb({},r,{className:"recharts-reference-line-line"})),s},axe=function(t,r,s,a,i,o,l,c,d){var u=i.x,f=i.y,h=i.width,p=i.height;if(s){var b=d.y,x=t.y.apply(b,{position:o});if(fa(d,"discard")&&!t.y.isInRange(x))return null;var g=[{x:u+h,y:x},{x:u,y:x}];return c==="left"?g.reverse():g}if(r){var y=d.x,v=t.x.apply(y,{position:o});if(fa(d,"discard")&&!t.x.isInRange(v))return null;var j=[{x:v,y:f+p},{x:v,y:f}];return l==="top"?j.reverse():j}if(a){var S=d.segment,w=S.map(function(N){return t.apply(N,{position:o})});return fa(d,"discard")&&Ome(w,function(N){return!t.isInRange(N)})?null:w}return null};function ixe(e){var t=e.x,r=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=Bpe(),u=mD(a),f=pD(i),h=Vpe();if(!d||!h)return null;Ls(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=GN({x:u.scale,y:f.scale}),b=$r(t),x=$r(r),g=s&&s.length===2,y=axe(p,b,x,g,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var v=Zpe(y,2),j=v[0],S=j.x,w=j.y,N=v[1],P=N.x,C=N.y,k=fa(e,"hidden")?"url(#".concat(d,")"):void 0,D=ZA(ZA({clipPath:k},tt(e,!0)),{},{x1:S,y1:w,x2:P,y2:C});return F.createElement(St,{className:ft("recharts-reference-line",l)},sxe(o,D),zr.renderCallByParent(e,gpe({x1:S,y1:w,x2:P,y2:C})))}var e1=function(e){function t(){return Hpe(this,t),Gpe(this,t,arguments)}return Qpe(t,e),Kpe(t,[{key:"render",value:function(){return F.createElement(ixe,this.props)}}])}(F.Component);ZN(e1,"displayName","ReferenceLine");ZN(e1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ej.apply(this,arguments)}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function rE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(s){Rg(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function oxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lxe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,yD(s.key),s)}}function cxe(e,t,r){return t&&lxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dxe(e,t,r){return t=Wp(t),uxe(e,vD()?Reflect.construct(t,r||[],Wp(e).constructor):t.apply(e,r))}function uxe(e,t){if(t&&(qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fxe(e)}function fxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vD=function(){return!!e})()}function Wp(e){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(e)}function hxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tj(e,t)}function tj(e,t){return tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},tj(e,t)}function Rg(e,t,r){return t=yD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yD(e){var t=mxe(e,"string");return qc(t)=="symbol"?t:t+""}function mxe(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(qc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pxe=function(t){var r=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=GN({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return fa(t,"discard")&&!o.isInRange(l)?null:l},Mg=function(e){function t(){return oxe(this,t),dxe(this,t,arguments)}return hxe(t,e),cxe(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=$r(a),u=$r(i);if(Ls(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=pxe(this.props);if(!f)return null;var h=f.x,p=f.y,b=this.props,x=b.shape,g=b.className,y=fa(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=rE(rE({clipPath:y},tt(this.props,!0)),{},{cx:h,cy:p});return F.createElement(St,{className:ft("recharts-reference-dot",g)},t.renderDot(x,v),zr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(F.Component);Rg(Mg,"displayName","ReferenceDot");Rg(Mg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Rg(Mg,"renderDot",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):lt(e)?r=e(t):r=F.createElement(Zf,ej({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rj.apply(this,arguments)}function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function nE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function sE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(r),!0).forEach(function(s){Dg(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function xxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gxe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,jD(s.key),s)}}function vxe(e,t,r){return t&&gxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yxe(e,t,r){return t=Kp(t),bxe(e,bD()?Reflect.construct(t,r||[],Kp(e).constructor):t.apply(e,r))}function bxe(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jxe(e)}function jxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bD=function(){return!!e})()}function Kp(e){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kp(e)}function wxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nj(e,t)}function nj(e,t){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},nj(e,t)}function Dg(e,t,r){return t=jD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jD(e){var t=Nxe(e,"string");return Hc(t)=="symbol"?t:t+""}function Nxe(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Hc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sxe=function(t,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=GN({x:u.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:s?h.y.apply(c,{position:"start"}):h.y.rangeMin},b={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(d,{position:"end"}):h.y.rangeMax};return fa(i,"discard")&&(!h.isInRange(p)||!h.isInRange(b))?null:oD(p,b)},$g=function(e){function t(){return xxe(this,t),yxe(this,t,arguments)}return wxe(t,e),vxe(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;Ls(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=$r(a),h=$r(i),p=$r(o),b=$r(l),x=this.props.shape;if(!f&&!h&&!p&&!b&&!x)return null;var g=Sxe(f,h,p,b,this.props);if(!g&&!x)return null;var y=fa(this.props,"hidden")?"url(#".concat(u,")"):void 0;return F.createElement(St,{className:ft("recharts-reference-area",c)},t.renderRect(x,sE(sE({clipPath:y},tt(this.props,!0)),g)),zr.renderCallByParent(this.props,g))}}])}(F.Component);Dg($g,"displayName","ReferenceArea");Dg($g,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dg($g,"renderRect",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):lt(e)?r=e(t):r=F.createElement(WN,rj({},t,{className:"recharts-reference-area-rect"})),r});function wD(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function Pxe(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return ype(s,r)}function Cxe(e,t,r){var s=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function Gp(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function Axe(e,t){return wD(e,t+1)}function Exe(e,t,r,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var b=s==null?void 0:s[c];if(b===void 0)return{v:wD(s,d)};var x=c,g,y=function(){return g===void 0&&(g=r(b,x)),g},v=b.coordinate,j=c===0||Gp(e,v,y,u,l);j||(c=0,u=o,d+=1),j&&(u=v+e*(y()/2+a),c+=d)},h;d<=i.length;)if(h=f(),h)return h.v;return[]}function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(s){Oxe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Oxe(e,t,r){return t=kxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kxe(e){var t=Txe(e,"string");return Af(t)=="symbol"?t:t+""}function Txe(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Af(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ixe(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(h){var p=i[h],b,x=function(){return b===void 0&&(b=r(p,h)),b};if(h===o-1){var g=e*(p.coordinate+e*x()/2-c);i[h]=p=ln(ln({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[h]=p=ln(ln({},p),{},{tickCoord:p.coordinate});var y=Gp(e,p.tickCoord,x,l,c);y&&(c=p.tickCoord-e*(x()/2+a),i[h]=ln(ln({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function _xe(e,t,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=s[l-1],f=r(u,l-1),h=e*(u.coordinate+e*f/2-d);o[l-1]=u=ln(ln({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=Gp(e,u.tickCoord,function(){return f},c,d);p&&(d=u.tickCoord-e*(f/2+a),o[l-1]=ln(ln({},u),{},{isShow:!0}))}for(var b=i?l-1:l,x=function(v){var j=o[v],S,w=function(){return S===void 0&&(S=r(j,v)),S};if(v===0){var N=e*(j.coordinate-e*w()/2-c);o[v]=j=ln(ln({},j),{},{tickCoord:N<0?j.coordinate-N*e:j.coordinate})}else o[v]=j=ln(ln({},j),{},{tickCoord:j.coordinate});var P=Gp(e,j.tickCoord,w,c,d);P&&(c=j.tickCoord+e*(w()/2+a),o[v]=ln(ln({},j),{},{isShow:!0}))},g=0;g<b;g++)x(g);return o}function t1(e,t,r){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!s)return[];if(_e(c)||Fs.isSsr)return Axe(a,typeof c=="number"&&_e(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",b=u&&p==="width"?xu(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(j,S){var w=lt(d)?d(j.value,S):j.value;return p==="width"?Pxe(xu(w,{fontSize:t,letterSpacing:r}),b,f):xu(w,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?gn(a[1].coordinate-a[0].coordinate):1,y=Cxe(i,g,p);return c==="equidistantPreserveStart"?Exe(g,y,x,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=_xe(g,y,x,a,o,c==="preserveStartEnd"):h=Ixe(g,y,x,a,o),h.filter(function(v){return v.isShow}))}var Rxe=["viewBox"],Mxe=["viewBox"],Dxe=["ticks"];function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Hl.apply(this,arguments)}function iE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(r),!0).forEach(function(s){r1(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dy(e,t){if(e==null)return{};var r=$xe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function $xe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Lxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oE(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,SD(s.key),s)}}function Fxe(e,t,r){return t&&oE(e.prototype,t),r&&oE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bxe(e,t,r){return t=Yp(t),Uxe(e,ND()?Reflect.construct(t,r||[],Yp(e).constructor):t.apply(e,r))}function Uxe(e,t){if(t&&(Wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zxe(e)}function zxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ND(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ND=function(){return!!e})()}function Yp(e){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yp(e)}function Vxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sj(e,t)}function sj(e,t){return sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},sj(e,t)}function r1(e,t,r){return t=SD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SD(e){var t=qxe(e,"string");return Wc(t)=="symbol"?t:t+""}function qxe(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Wc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pd=function(e){function t(r){var s;return Lxe(this,t),s=Bxe(this,t,[r]),s.state={fontSize:"",letterSpacing:""},s}return Vxe(t,e),Fxe(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=dy(s,Rxe),l=this.props,c=l.viewBox,d=dy(l,Mxe);return!sc(i,c)||!sc(o,d)||!sc(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,p,b,x,g,y,v,j=f?-1:1,S=s.tickSize||u,w=_e(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":p=b=s.coordinate,g=o+ +!f*c,x=g-j*S,v=x-j*h,y=w;break;case"left":x=g=s.coordinate,b=i+ +!f*l,p=b-j*S,y=p-j*h,v=w;break;case"right":x=g=s.coordinate,b=i+ +f*l,p=b+j*S,y=p+j*h,v=w;break;default:p=b=s.coordinate,g=o+ +f*c,x=g+j*S,v=x+j*h,y=w;break}return{line:{x1:p,y1:x,x2:b,y2:g},tick:{x:y,y:v}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,f=Ir(Ir(Ir({},tt(this.props,!1)),tt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);f=Ir(Ir({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);f=Ir(Ir({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return F.createElement("line",Hl({},f,{className:ft("recharts-cartesian-axis-line",Yn(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,h=l.unit,p=t1(Ir(Ir({},this.props),{},{ticks:s}),a,i),b=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),g=tt(this.props,!1),y=tt(u,!1),v=Ir(Ir({},g),{},{fill:"none"},tt(c,!1)),j=p.map(function(S,w){var N=o.getTickLineCoord(S),P=N.line,C=N.tick,k=Ir(Ir(Ir(Ir({textAnchor:b,verticalAnchor:x},g),{},{stroke:"none",fill:d},y),C),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:f});return F.createElement(St,Hl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Ko(o.props,S,w)),c&&F.createElement("line",Hl({},v,P,{className:ft("recharts-cartesian-axis-tick-line",Yn(c,"className"))})),u&&t.renderTickItem(u,k,"".concat(lt(f)?f(S.value,w):S.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,p=dy(f,Dxe),b=h;return lt(c)&&(b=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!b||!b.length?null:F.createElement(St,{className:ft("recharts-cartesian-axis",d),ref:function(g){s.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),zr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=ft(a.className,"recharts-cartesian-axis-tick-value");return F.isValidElement(s)?o=F.cloneElement(s,Ir(Ir({},a),{},{className:l})):lt(s)?o=s(Ir(Ir({},a),{},{className:l})):o=F.createElement(Go,Hl({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(m.Component);r1(Pd,"displayName","CartesianAxis");r1(Pd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Hxe=["x1","y1","x2","y2","key"],Wxe=["offset"];function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(s){Kxe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Kxe(e,t,r){return t=Gxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gxe(e){var t=Yxe(e,"string");return Jo(t)=="symbol"?t:t+""}function Yxe(e,t){if(Jo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Jo(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},No.apply(this,arguments)}function cE(e,t){if(e==null)return{};var r=Xxe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Xxe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var Qxe=function(t){var r=t.fill;if(!r||r==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return F.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function PD(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(lt(e))r=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=cE(t,Hxe),d=tt(c,!1);d.offset;var u=cE(d,Wxe);r=F.createElement("line",No({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function Jxe(e){var t=e.x,r=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=dn(dn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return PD(a,d)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Zxe(e){var t=e.y,r=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=dn(dn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return PD(a,d)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ege(e){var t=e.horizontalFill,r=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var b=!u[p+1],x=b?a+o-h:u[p+1]-h;if(x<=0)return null;var g=p%t.length;return F.createElement("rect",{key:"react-".concat(p),y:h,x:s,height:x,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function tge(e){var t=e.vertical,r=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!s||!s.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var b=!u[p+1],x=b?i+l-h:u[p+1]-h;if(x<=0)return null;var g=p%s.length;return F.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:x,height:c,stroke:"none",fill:s[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var rge=function(t,r){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return wM(t1(dn(dn(dn({},Pd.defaultProps),s),{},{ticks:Ia(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},nge=function(t,r){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return wM(t1(dn(dn(dn({},Pd.defaultProps),s),{},{ticks:Ia(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Nl={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nu(e){var t,r,s,a,i,o,l=QN(),c=JN(),d=qpe(),u=dn(dn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Nl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Nl.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Nl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Nl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Nl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Nl.verticalFill,x:_e(e.x)?e.x:d.left,y:_e(e.y)?e.y:d.top,width:_e(e.width)?e.width:d.width,height:_e(e.height)?e.height:d.height}),f=u.x,h=u.y,p=u.width,b=u.height,x=u.syncWithTicks,g=u.horizontalValues,y=u.verticalValues,v=Upe(),j=zpe();if(!_e(p)||p<=0||!_e(b)||b<=0||!_e(f)||f!==+f||!_e(h)||h!==+h)return null;var S=u.verticalCoordinatesGenerator||rge,w=u.horizontalCoordinatesGenerator||nge,N=u.horizontalPoints,P=u.verticalPoints;if((!N||!N.length)&&lt(w)){var C=g&&g.length,k=w({yAxis:j?dn(dn({},j),{},{ticks:C?g:j.ticks}):void 0,width:l,height:c,offset:d},C?!0:x);Ls(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Jo(k),"]")),Array.isArray(k)&&(N=k)}if((!P||!P.length)&&lt(S)){var D=y&&y.length,T=S({xAxis:v?dn(dn({},v),{},{ticks:D?y:v.ticks}):void 0,width:l,height:c,offset:d},D?!0:x);Ls(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Jo(T),"]")),Array.isArray(T)&&(P=T)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(Qxe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),F.createElement(Jxe,No({},u,{offset:d,horizontalPoints:N,xAxis:v,yAxis:j})),F.createElement(Zxe,No({},u,{offset:d,verticalPoints:P,xAxis:v,yAxis:j})),F.createElement(ege,No({},u,{horizontalPoints:N})),F.createElement(tge,No({},u,{verticalPoints:P})))}nu.displayName="CartesianGrid";var sge=["type","layout","connectNulls","ref"],age=["key"];function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function dE(e,t){if(e==null)return{};var r=ige(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function ige(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},wu.apply(this,arguments)}function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(s){Ts(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Sl(e){return dge(e)||cge(e)||lge(e)||oge()}function oge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lge(e,t){if(e){if(typeof e=="string")return aj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aj(e,t)}}function cge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dge(e){if(Array.isArray(e))return aj(e)}function aj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function uge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fE(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,AD(s.key),s)}}function fge(e,t,r){return t&&fE(e.prototype,t),r&&fE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hge(e,t,r){return t=Xp(t),mge(e,CD()?Reflect.construct(t,r||[],Xp(e).constructor):t.apply(e,r))}function mge(e,t){if(t&&(Kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pge(e)}function pge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CD=function(){return!!e})()}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(e)}function xge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ij(e,t)}function ij(e,t){return ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},ij(e,t)}function Ts(e,t,r){return t=AD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AD(e){var t=gge(e,"string");return Kc(t)=="symbol"?t:t+""}function gge(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Kc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh=function(e){function t(){var r;uge(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=hge(this,t,[].concat(a)),Ts(r,"state",{isAnimationFinished:!0,totalLength:0}),Ts(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ts(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(y,v){return y+v});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,h=l-o,p=[],b=0,x=0;b<c.length;x+=c[b],++b)if(x+c[b]>f){p=[].concat(Sl(c.slice(0,b)),[f-x]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(Sl(t.repeat(c,u)),Sl(p),g).map(function(y){return"".concat(y,"px")}).join(", ")}),Ts(r,"id",dl("recharts-line-")),Ts(r,"pathRef",function(o){r.mainCurve=o}),Ts(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ts(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return xge(t,e),fge(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Xn(u,Jf);if(!f)return null;var h=function(x,g){return{x:x.x,y:x.y,value:x.value,errorVal:Sr(x.payload,g)}},p={clipPath:s?"url(#clipPath-".concat(a,")"):null};return F.createElement(St,p,f.map(function(b){return F.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=tt(this.props,!1),h=tt(c,!0),p=d.map(function(x,g){var y=Fn(Fn(Fn({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:x.x,cy:x.y,value:x.value,dataKey:u,payload:x.payload,points:d});return t.renderDotItem(c,y)}),b={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return F.createElement(St,wu({className:"recharts-line-dots",key:"dots"},b),p)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=dE(l,sge),h=Fn(Fn(Fn({},tt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return F.createElement(Do,wu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,b=o.animateNewValues,x=o.width,g=o.height,y=this.state,v=y.prevPoints,j=y.totalLength;return F.createElement(Vs,{begin:u,duration:f,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(v){var N=v.length/l.length,P=l.map(function(R,q){var $=Math.floor(q*N);if(v[$]){var B=v[$],I=Mr(B.x,R.x),L=Mr(B.y,R.y);return Fn(Fn({},R),{},{x:I(w),y:L(w)})}if(b){var E=Mr(x*2,R.x),_=Mr(g/2,R.y);return Fn(Fn({},R),{},{x:E(w),y:_(w)})}return Fn(Fn({},R),{},{x:R.x,y:R.y})});return i.renderCurveStatically(P,s,a)}var C=Mr(0,j),k=C(w),D;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});D=i.getStrokeDasharray(k,j,T)}else D=i.generateSimpleStrokeDasharray(j,k);return i.renderCurveStatically(l,s,a,{strokeDasharray:D})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Yo(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,f=a.top,h=a.left,p=a.width,b=a.height,x=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,v=l.length===1,j=ft("recharts-line",c),S=d&&d.allowDataOverflow,w=u&&u.allowDataOverflow,N=S||w,P=dt(g)?this.id:g,C=(s=tt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},k=C.r,D=k===void 0?3:k,T=C.strokeWidth,R=T===void 0?2:T,q=m_(o)?o:{},$=q.clipDot,B=$===void 0?!0:$,I=D*2+R;return F.createElement(St,{className:j},S||w?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(P)},F.createElement("rect",{x:S?h:h-p/2,y:w?f:f-b/2,width:S?p:p*2,height:w?b:b*2})),!B&&F.createElement("clipPath",{id:"clipPath-dots-".concat(P)},F.createElement("rect",{x:h-I/2,y:f-I/2,width:p+I,height:b+I}))):null,!v&&this.renderCurve(N,P),this.renderErrorBar(N,P),(v||o)&&this.renderDots(N,B,P),(!x||y)&&ua.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(Sl(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(Sl(o),Sl(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(F.isValidElement(s))i=F.cloneElement(s,a);else if(lt(s))i=s(a);else{var o=a.key,l=dE(a,age),c=ft("recharts-line-dot",typeof s!="boolean"?s.className:"");i=F.createElement(Zf,wu({key:o},l,{className:c}))}return i}}])}(m.PureComponent);Ts(eh,"displayName","Line");Ts(eh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ts(eh,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(h,p){var b=Sr(h,o);return u==="horizontal"?{x:Ap({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:dt(b)?null:s.scale(b),value:b,payload:h}:{x:dt(b)?null:r.scale(b),y:Ap({axis:s,ticks:i,bandSize:l,entry:h,index:p}),value:b,payload:h}});return Fn({points:f,layout:u},d)});var vge=["layout","type","stroke","connectNulls","isRange","ref"],yge=["key"],ED;function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function OD(e,t){if(e==null)return{};var r=bge(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function bge(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},So.apply(this,arguments)}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(s){sa(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mE(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,TD(s.key),s)}}function wge(e,t,r){return t&&mE(e.prototype,t),r&&mE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nge(e,t,r){return t=Qp(t),Sge(e,kD()?Reflect.construct(t,r||[],Qp(e).constructor):t.apply(e,r))}function Sge(e,t){if(t&&(Gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(e)}function Pge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kD=function(){return!!e})()}function Qp(e){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qp(e)}function Cge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oj(e,t)}function oj(e,t){return oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},oj(e,t)}function sa(e,t,r){return t=TD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TD(e){var t=Age(e,"string");return Gc(t)=="symbol"?t:t+""}function Age(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Gc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ja=function(e){function t(){var r;jge(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=Nge(this,t,[].concat(a)),sa(r,"state",{isAnimationFinished:!0}),sa(r,"id",dl("recharts-area-")),sa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),lt(o)&&o()}),sa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),lt(o)&&o()}),r}return Cge(t,e),wge(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,f=c.dataKey,h=tt(this.props,!1),p=tt(d,!0),b=u.map(function(g,y){var v=di(di(di({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:u});return t.renderDotItem(d,v)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return F.createElement(St,So({className:"recharts-area-dots"},x),b)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),f=Ci(o.map(function(h){return h.y||0}));return _e(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Ci(i.map(function(h){return h.y||0})),f)),_e(f)?F.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),f=Ci(o.map(function(h){return h.x||0}));return _e(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Ci(i.map(function(h){return h.x||0})),f)),_e(f)?F.createElement("rect",{x:0,y:c<d?c:c-u,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=OD(l,vge);return F.createElement(St,{clipPath:i?"url(#clipPath-".concat(o,")"):null},F.createElement(Do,So({},tt(p,!0),{points:s,connectNulls:f,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&F.createElement(Do,So({},tt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:s})),u!=="none"&&h&&F.createElement(Do,So({},tt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,b=this.state,x=b.prevPoints,g=b.prevBaseLine;return F.createElement(Vs,{begin:u,duration:f,isActive:d,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t;if(x){var j=x.length/l.length,S=l.map(function(C,k){var D=Math.floor(k*j);if(x[D]){var T=x[D],R=Mr(T.x,C.x),q=Mr(T.y,C.y);return di(di({},C),{},{x:R(v),y:q(v)})}return C}),w;if(_e(c)&&typeof c=="number"){var N=Mr(g,c);w=N(v)}else if(dt(c)||vd(c)){var P=Mr(g,0);w=P(v)}else w=c.map(function(C,k){var D=Math.floor(k*j);if(g[D]){var T=g[D],R=Mr(T.x,C.x),q=Mr(T.y,C.y);return di(di({},C),{},{x:R(v),y:q(v)})}return C});return i.renderAreaStatically(S,w,s,a)}return F.createElement(St,null,F.createElement("defs",null,F.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(v))),F.createElement(St,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,f=d.prevBaseLine,h=d.totalLength;return c&&o&&o.length&&(!u&&h>0||!Yo(u,o)||!Yo(f,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,f=a.xAxis,h=a.yAxis,p=a.width,b=a.height,x=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,v=l.length===1,j=ft("recharts-area",c),S=f&&f.allowDataOverflow,w=h&&h.allowDataOverflow,N=S||w,P=dt(g)?this.id:g,C=(s=tt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},k=C.r,D=k===void 0?3:k,T=C.strokeWidth,R=T===void 0?2:T,q=m_(o)?o:{},$=q.clipDot,B=$===void 0?!0:$,I=D*2+R;return F.createElement(St,{className:j},S||w?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(P)},F.createElement("rect",{x:S?u:u-p/2,y:w?d:d-b/2,width:S?p:p*2,height:w?b:b*2})),!B&&F.createElement("clipPath",{id:"clipPath-dots-".concat(P)},F.createElement("rect",{x:u-I/2,y:d-I/2,width:p+I,height:b+I}))):null,v?null:this.renderArea(N,P),(o||v)&&this.renderDots(N,B,P),(!x||y)&&ua.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(m.PureComponent);ED=Ja;sa(Ja,"displayName","Area");sa(Ja,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Fs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});sa(Ja,"getBaseValue",function(e,t,r,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(_e(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return l==="dataMin"?f:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});sa(Ja,"getComposedData",function(e){var t=e.props,r=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,b=d&&d.length,x=ED.getBaseValue(t,r,s,a),g=p==="horizontal",y=!1,v=f.map(function(S,w){var N;b?N=d[u+w]:(N=Sr(S,c),Array.isArray(N)?y=!0:N=[x,N]);var P=N[1]==null||b&&Sr(S,c)==null;return g?{x:Ap({axis:s,ticks:i,bandSize:l,entry:S,index:w}),y:P?null:a.scale(N[1]),value:N,payload:S}:{x:P?null:s.scale(N[1]),y:Ap({axis:a,ticks:o,bandSize:l,entry:S,index:w}),value:N,payload:S}}),j;return b||y?j=v.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return g?{x:S.x,y:w!=null&&S.y!=null?a.scale(w):null}:{x:w!=null?s.scale(w):null,y:S.y}}):j=g?a.scale(x):s.scale(x),di({points:v,baseLine:j,layout:p,isRange:y},h)});sa(Ja,"renderDotItem",function(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(lt(e))r=e(t);else{var s=ft("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=OD(t,yge);r=F.createElement(Zf,So({},i,{key:a,className:s}))}return r});function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function Ege(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oge(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,RD(s.key),s)}}function kge(e,t,r){return t&&Oge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tge(e,t,r){return t=Jp(t),Ige(e,ID()?Reflect.construct(t,r||[],Jp(e).constructor):t.apply(e,r))}function Ige(e,t){if(t&&(Yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ge(e)}function _ge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ID(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ID=function(){return!!e})()}function Jp(e){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(e)}function Rge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lj(e,t)}function lj(e,t){return lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},lj(e,t)}function _D(e,t,r){return t=RD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RD(e){var t=Mge(e,"string");return Yc(t)=="symbol"?t:t+""}function Mge(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Yc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cj(){return cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cj.apply(this,arguments)}function Dge(e){var t=e.xAxisId,r=QN(),s=JN(),a=mD(t);return a==null?null:m.createElement(Pd,cj({},a,{className:ft("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Ia(o,!0)}}))}var _a=function(e){function t(){return Ege(this,t),Tge(this,t,arguments)}return Rge(t,e),kge(t,[{key:"render",value:function(){return m.createElement(Dge,this.props)}}])}(m.Component);_D(_a,"displayName","XAxis");_D(_a,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function $ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lge(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$D(s.key),s)}}function Fge(e,t,r){return t&&Lge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bge(e,t,r){return t=Zp(t),Uge(e,MD()?Reflect.construct(t,r||[],Zp(e).constructor):t.apply(e,r))}function Uge(e,t){if(t&&(Xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zge(e)}function zge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MD=function(){return!!e})()}function Zp(e){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(e)}function Vge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dj(e,t)}function dj(e,t){return dj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},dj(e,t)}function DD(e,t,r){return t=$D(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $D(e){var t=qge(e,"string");return Xc(t)=="symbol"?t:t+""}function qge(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Xc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uj(){return uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},uj.apply(this,arguments)}var Hge=function(t){var r=t.yAxisId,s=QN(),a=JN(),i=pD(r);return i==null?null:m.createElement(Pd,uj({},i,{className:ft("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Ia(l,!0)}}))},Ra=function(e){function t(){return $ge(this,t),Bge(this,t,arguments)}return Vge(t,e),Fge(t,[{key:"render",value:function(){return m.createElement(Hge,this.props)}}])}(m.Component);DD(Ra,"displayName","YAxis");DD(Ra,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pE(e){return Yge(e)||Gge(e)||Kge(e)||Wge()}function Wge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kge(e,t){if(e){if(typeof e=="string")return fj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fj(e,t)}}function Gge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yge(e){if(Array.isArray(e))return fj(e)}function fj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var hj=function(t,r,s,a,i){var o=Xn(t,e1),l=Xn(t,Mg),c=[].concat(pE(o),pE(l)),d=Xn(t,$g),u="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(x,g){if(g.props[u]===s&&fa(g.props,"extendDomain")&&_e(g.props[f])){var y=g.props[f];return[Math.min(x[0],y),Math.max(x[1],y)]}return x},h)),d.length){var p="".concat(f,"1"),b="".concat(f,"2");h=d.reduce(function(x,g){if(g.props[u]===s&&fa(g.props,"extendDomain")&&_e(g.props[p])&&_e(g.props[b])){var y=g.props[p],v=g.props[b];return[Math.min(x[0],y,v),Math.max(x[1],y,v)]}return x},h)}return i&&i.length&&(h=i.reduce(function(x,g){return _e(g)?[Math.min(x[0],g),Math.max(x[1],g)]:x},h)),h},LD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||c,h),b=r?r+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,b=new Array(p);h<p;h++)b[h]=f[h].fn;return b},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,h,p,b){var x=r?r+d:d;if(!this._events[x])return!1;var g=this._events[x],y=arguments.length,v,j;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,p),!0;case 6:return g.fn.call(g.context,u,f,h,p,b),!0}for(j=1,v=new Array(y-1);j<y;j++)v[j-1]=arguments[j];g.fn.apply(g.context,v)}else{var S=g.length,w;for(j=0;j<S;j++)switch(g[j].once&&this.removeListener(d,g[j].fn,void 0,!0),y){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,u);break;case 3:g[j].fn.call(g[j].context,u,f);break;case 4:g[j].fn.call(g[j].context,u,f,h);break;default:if(!v)for(w=1,v=new Array(y-1);w<y;w++)v[w-1]=arguments[w];g[j].fn.apply(g[j].context,v)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,h){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===u&&(!h||b.once)&&(!f||b.context===f)&&o(this,p);else{for(var x=0,g=[],y=b.length;x<y;x++)(b[x].fn!==u||h&&!b[x].once||f&&b[x].context!==f)&&g.push(b[x]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(LD);var Xge=LD.exports;const Qge=Lt(Xge);var uy=new Qge,fy="recharts.syncMouseEvents";function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function Jge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zge(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,FD(s.key),s)}}function eve(e,t,r){return t&&Zge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hy(e,t,r){return t=FD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FD(e){var t=tve(e,"string");return Ef(t)=="symbol"?t:t+""}function tve(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Ef(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rve=function(){function e(){Jge(this,e),hy(this,"activeIndex",0),hy(this,"coordinateList",[]),hy(this,"layout","horizontal")}return eve(e,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=i+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function nve(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&_e(s)&&_e(a))return!0}return!1}function sve(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function BD(e){var t=e.cx,r=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Qt(t,r,s,a),l=Qt(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function ave(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,h=Qt(l,c,d,f),p=Qt(l,c,u,f);s=h.x,a=h.y,i=p.x,o=p.y}else return BD(t);return[{x:s,y:a},{x:i,y:o}]}function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(s){ive(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ive(e,t,r){return t=ove(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ove(e){var t=lve(e,"string");return Of(t)=="symbol"?t:t+""}function lve(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Of(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cve(e){var t,r,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=s.props.cursor)!==null&&t!==void 0?t:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var b,x=Do;if(h==="ScatterChart")b=o,x=gfe;else if(h==="BarChart")b=sve(f,o,c,u),x=WN;else if(f==="radial"){var g=BD(o),y=g.cx,v=g.cy,j=g.radius,S=g.startAngle,w=g.endAngle;b={cx:y,cy:v,startAngle:S,endAngle:w,innerRadius:j,outerRadius:j},x=_M}else b={points:ave(f,o,c)},x=Do;var N=Yh(Yh(Yh(Yh({stroke:"#ccc",pointerEvents:"none"},c),b),tt(p,!1)),{},{payload:l,payloadIndex:d,className:ft("recharts-tooltip-cursor",p.className)});return m.isValidElement(p)?m.cloneElement(p,N):m.createElement(x,N)}var dve=["item"],uve=["children","className","width","height","style","compact","title","desc"];function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Wl.apply(this,arguments)}function gE(e,t){return mve(e)||hve(e,t)||zD(e,t)||fve()}function fve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function mve(e){if(Array.isArray(e))return e}function vE(e,t){if(e==null)return{};var r=pve(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function pve(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function xve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gve(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,VD(s.key),s)}}function vve(e,t,r){return t&&gve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yve(e,t,r){return t=ex(t),bve(e,UD()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function bve(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jve(e)}function jve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(e)}function wve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mj(e,t)}function mj(e,t){return mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},mj(e,t)}function Jc(e){return Pve(e)||Sve(e)||zD(e)||Nve()}function Nve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zD(e,t){if(e){if(typeof e=="string")return pj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pj(e,t)}}function Sve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pve(e){if(Array.isArray(e))return pj(e)}function pj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(s){ot(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ot(e,t,r){return t=VD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VD(e){var t=Cve(e,"string");return Qc(t)=="symbol"?t:t+""}function Cve(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Qc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ave={xAxis:["bottom","top"],yAxis:["left","right"]},Eve={width:"100%",height:"100%"},qD={x:0,y:0};function Xh(e){return e}var Ove=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},kve=function(t,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return me(me(me({},a),Qt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return me(me(me({},a),Qt(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return qD},Lg=function(t,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Jc(l),Jc(d)):l},[]);return o.length>0?o:t&&t.length&&_e(a)&&_e(i)?t.slice(a,i+1):[]};function HD(e){return e==="number"?[0,"auto"]:void 0}var xj=function(t,r,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Lg(r,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=Zm(p,o.dataKey,a)}else h=f&&f[s]||l[s];return h?[].concat(Jc(c),[AM(d,h)]):c},[])},bE=function(t,r,s,a){var i=a||{x:t.chartX,y:t.chartY},o=Ove(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=Ule(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,h=xj(t,r,u,f),p=kve(s,l,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Tve=function(t,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=jM(u,i);return s.reduce(function(b,x){var g,y=x.type.defaultProps!==void 0?me(me({},x.type.defaultProps),x.props):x.props,v=y.type,j=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,N=y.scale,P=y.ticks,C=y.includeHidden,k=y[o];if(b[k])return b;var D=Lg(t.data,{graphicalItems:a.filter(function(A){var U,ee=o in A.props?A.props[o]:(U=A.type.defaultProps)===null||U===void 0?void 0:U[o];return ee===k}),dataStartIndex:c,dataEndIndex:d}),T=D.length,R,q,$;nve(y.domain,S,v)&&(R=Ob(y.domain,null,S),p&&(v==="number"||N!=="auto")&&($=vu(D,j,"category")));var B=HD(v);if(!R||R.length===0){var I,L=(I=y.domain)!==null&&I!==void 0?I:B;if(j){if(R=vu(D,j,v),v==="category"&&p){var E=kK(R);w&&E?(q=R,R=Bp(0,T)):w||(R=BC(L,R,x).reduce(function(A,U){return A.indexOf(U)>=0?A:[].concat(Jc(A),[U])},[]))}else if(v==="category")w?R=R.filter(function(A){return A!==""&&!dt(A)}):R=BC(L,R,x).reduce(function(A,U){return A.indexOf(U)>=0||U===""||dt(U)?A:[].concat(Jc(A),[U])},[]);else if(v==="number"){var _=Wle(D,a.filter(function(A){var U,ee,V=o in A.props?A.props[o]:(U=A.type.defaultProps)===null||U===void 0?void 0:U[o],X="hide"in A.props?A.props.hide:(ee=A.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return V===k&&(C||!X)}),j,i,u);_&&(R=_)}p&&(v==="number"||N!=="auto")&&($=vu(D,j,"category"))}else p?R=Bp(0,T):l&&l[k]&&l[k].hasStack&&v==="number"?R=h==="expand"?[0,1]:CM(l[k].stackGroups,c,d):R=bM(D,a.filter(function(A){var U=o in A.props?A.props[o]:A.type.defaultProps[o],ee="hide"in A.props?A.props.hide:A.type.defaultProps.hide;return U===k&&(C||!ee)}),v,u,!0);if(v==="number")R=hj(f,R,k,i,P),L&&(R=Ob(L,R,S));else if(v==="category"&&L){var O=L,M=R.every(function(A){return O.indexOf(A)>=0});M&&(R=O)}}return me(me({},b),{},ot({},k,me(me({},y),{},{axisType:i,domain:R,categoricalDomain:$,duplicateDomain:q,originalDomain:(g=y.domain)!==null&&g!==void 0?g:B,isCategorical:p,layout:u})))},{})},Ive=function(t,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=Lg(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),p=h.length,b=jM(u,i),x=-1;return s.reduce(function(g,y){var v=y.type.defaultProps!==void 0?me(me({},y.type.defaultProps),y.props):y.props,j=v[o],S=HD("number");if(!g[j]){x++;var w;return b?w=Bp(0,p):l&&l[j]&&l[j].hasStack?(w=CM(l[j].stackGroups,c,d),w=hj(f,w,j,i)):(w=Ob(S,bM(h,s.filter(function(N){var P,C,k=o in N.props?N.props[o]:(P=N.type.defaultProps)===null||P===void 0?void 0:P[o],D="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return k===j&&!D}),"number",u),a.defaultProps.allowDataOverflow),w=hj(f,w,j,i)),me(me({},g),{},ot({},j,me(me({axisType:i},a.defaultProps),{},{hide:!0,orientation:Yn(Ave,"".concat(i,".").concat(x%2),null),domain:w,originalDomain:S,isCategorical:b,layout:u})))}return g},{})},_ve=function(t,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=Xn(u,i),p={};return h&&h.length?p=Tve(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=Ive(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},Rve=function(t){var r=gi(t),s=Ia(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:yN(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ep(r,s)}},jE=function(t){var r=t.children,s=t.defaultShowTooltip,a=zn(r,Uc),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},Mve=function(t){return!t||!t.length?!1:t.some(function(r){var s=La(r&&r.type);return s&&s.indexOf("Bar")>=0})},wE=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Dve=function(t,r){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,f=s.children,h=s.margin||{},p=zn(f,Uc),b=zn(f,ac),x=Object.keys(c).reduce(function(w,N){var P=c[N],C=P.orientation;return!P.mirror&&!P.hide?me(me({},w),{},ot({},C,w[C]+P.width)):w},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(w,N){var P=o[N],C=P.orientation;return!P.mirror&&!P.hide?me(me({},w),{},ot({},C,Yn(w,"".concat(C))+P.height)):w},{top:h.top||0,bottom:h.bottom||0}),y=me(me({},g),x),v=y.bottom;p&&(y.bottom+=p.props.height||Uc.defaultProps.height),b&&r&&(y=qle(y,a,s,r));var j=d-y.left-y.right,S=u-y.top-y.bottom;return me(me({brushBottom:v},y),{},{width:Math.max(j,0),height:Math.max(S,0)})},$ve=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Fg=function(t){var r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,v){var j=v.graphicalItems,S=v.stackGroups,w=v.offset,N=v.updateId,P=v.dataStartIndex,C=v.dataEndIndex,k=y.barSize,D=y.layout,T=y.barGap,R=y.barCategoryGap,q=y.maxBarSize,$=wE(D),B=$.numericAxisName,I=$.cateAxisName,L=Mve(j),E=[];return j.forEach(function(_,O){var M=Lg(y.data,{graphicalItems:[_],dataStartIndex:P,dataEndIndex:C}),A=_.type.defaultProps!==void 0?me(me({},_.type.defaultProps),_.props):_.props,U=A.dataKey,ee=A.maxBarSize,V=A["".concat(B,"Id")],X=A["".concat(I,"Id")],Q={},le=c.reduce(function(ct,Ye){var ut=v["".concat(Ye.axisType,"Map")],_t=A["".concat(Ye.axisType,"Id")];ut&&ut[_t]||Ye.axisType==="zAxis"||Qo();var Vt=ut[_t];return me(me({},ct),{},ot(ot({},Ye.axisType,Vt),"".concat(Ye.axisType,"Ticks"),Ia(Vt)))},Q),H=le[I],ce=le["".concat(I,"Ticks")],se=S&&S[V]&&S[V].hasStack&&tce(_,S[V].stackGroups),Y=La(_.type).indexOf("Bar")>=0,Ee=Ep(H,ce),ye=[],J=L&&zle({barSize:k,stackGroups:S,totalSize:$ve(le,I)});if(Y){var ke,Me,Le=dt(ee)?q:ee,Te=(ke=(Me=Ep(H,ce,!0))!==null&&Me!==void 0?Me:Le)!==null&&ke!==void 0?ke:0;ye=Vle({barGap:T,barCategoryGap:R,bandSize:Te!==Ee?Te:Ee,sizeList:J[X],maxBarSize:Le}),Te!==Ee&&(ye=ye.map(function(ct){return me(me({},ct),{},{position:me(me({},ct.position),{},{offset:ct.position.offset-Te/2})})}))}var mt=_&&_.type&&_.type.getComposedData;mt&&E.push({props:me(me({},mt(me(me({},le),{},{displayedData:M,props:y,dataKey:U,item:_,bandSize:Ee,barPosition:ye,offset:w,stackedData:se,layout:D,dataStartIndex:P,dataEndIndex:C}))),{},ot(ot(ot({key:_.key||"item-".concat(O)},B,le[B]),I,le[I]),"animationId",N)),childIndex:zK(_,y.children),item:_})}),E},p=function(y,v){var j=y.props,S=y.dataStartIndex,w=y.dataEndIndex,N=y.updateId;if(!R2({props:j}))return null;var P=j.children,C=j.layout,k=j.stackOffset,D=j.data,T=j.reverseStackOrder,R=wE(C),q=R.numericAxisName,$=R.cateAxisName,B=Xn(P,s),I=Zle(D,B,"".concat(q,"Id"),"".concat($,"Id"),k,T),L=c.reduce(function(A,U){var ee="".concat(U.axisType,"Map");return me(me({},A),{},ot({},ee,_ve(j,me(me({},U),{},{graphicalItems:B,stackGroups:U.axisType===q&&I,dataStartIndex:S,dataEndIndex:w}))))},{}),E=Dve(me(me({},L),{},{props:j,graphicalItems:B}),v==null?void 0:v.legendBBox);Object.keys(L).forEach(function(A){L[A]=u(j,L[A],E,A.replace("Map",""),r)});var _=L["".concat($,"Map")],O=Rve(_),M=h(j,me(me({},L),{},{dataStartIndex:S,dataEndIndex:w,updateId:N,graphicalItems:B,stackGroups:I,offset:E}));return me(me({formattedGraphicalItems:M,graphicalItems:B,offset:E,stackGroups:I},O),L)},b=function(g){function y(v){var j,S,w;return xve(this,y),w=yve(this,y,[v]),ot(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ot(w,"accessibilityManager",new rve),ot(w,"handleLegendBBoxUpdate",function(N){if(N){var P=w.state,C=P.dataStartIndex,k=P.dataEndIndex,D=P.updateId;w.setState(me({legendBBox:N},p({props:w.props,dataStartIndex:C,dataEndIndex:k,updateId:D},me(me({},w.state),{},{legendBBox:N}))))}}),ot(w,"handleReceiveSyncEvent",function(N,P,C){if(w.props.syncId===N){if(C===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(P)}}),ot(w,"handleBrushChange",function(N){var P=N.startIndex,C=N.endIndex;if(P!==w.state.dataStartIndex||C!==w.state.dataEndIndex){var k=w.state.updateId;w.setState(function(){return me({dataStartIndex:P,dataEndIndex:C},p({props:w.props,dataStartIndex:P,dataEndIndex:C,updateId:k},w.state))}),w.triggerSyncEvent({dataStartIndex:P,dataEndIndex:C})}}),ot(w,"handleMouseEnter",function(N){var P=w.getMouseInfo(N);if(P){var C=me(me({},P),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var k=w.props.onMouseEnter;lt(k)&&k(C,N)}}),ot(w,"triggeredAfterMouseMove",function(N){var P=w.getMouseInfo(N),C=P?me(me({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var k=w.props.onMouseMove;lt(k)&&k(C,N)}),ot(w,"handleItemMouseEnter",function(N){w.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),ot(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),ot(w,"handleMouseMove",function(N){N.persist(),w.throttleTriggeredAfterMouseMove(N)}),ot(w,"handleMouseLeave",function(N){w.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var C=w.props.onMouseLeave;lt(C)&&C(P,N)}),ot(w,"handleOuterEvent",function(N){var P=UK(N),C=Yn(w.props,"".concat(P));if(P&&lt(C)){var k,D;/.*touch.*/i.test(P)?D=w.getMouseInfo(N.changedTouches[0]):D=w.getMouseInfo(N),C((k=D)!==null&&k!==void 0?k:{},N)}}),ot(w,"handleClick",function(N){var P=w.getMouseInfo(N);if(P){var C=me(me({},P),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var k=w.props.onClick;lt(k)&&k(C,N)}}),ot(w,"handleMouseDown",function(N){var P=w.props.onMouseDown;if(lt(P)){var C=w.getMouseInfo(N);P(C,N)}}),ot(w,"handleMouseUp",function(N){var P=w.props.onMouseUp;if(lt(P)){var C=w.getMouseInfo(N);P(C,N)}}),ot(w,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),ot(w,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseDown(N.changedTouches[0])}),ot(w,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseUp(N.changedTouches[0])}),ot(w,"handleDoubleClick",function(N){var P=w.props.onDoubleClick;if(lt(P)){var C=w.getMouseInfo(N);P(C,N)}}),ot(w,"handleContextMenu",function(N){var P=w.props.onContextMenu;if(lt(P)){var C=w.getMouseInfo(N);P(C,N)}}),ot(w,"triggerSyncEvent",function(N){w.props.syncId!==void 0&&uy.emit(fy,w.props.syncId,N,w.eventEmitterSymbol)}),ot(w,"applySyncEvent",function(N){var P=w.props,C=P.layout,k=P.syncMethod,D=w.state.updateId,T=N.dataStartIndex,R=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)w.setState(me({dataStartIndex:T,dataEndIndex:R},p({props:w.props,dataStartIndex:T,dataEndIndex:R,updateId:D},w.state)));else if(N.activeTooltipIndex!==void 0){var q=N.chartX,$=N.chartY,B=N.activeTooltipIndex,I=w.state,L=I.offset,E=I.tooltipTicks;if(!L)return;if(typeof k=="function")B=k(E,N);else if(k==="value"){B=-1;for(var _=0;_<E.length;_++)if(E[_].value===N.activeLabel){B=_;break}}var O=me(me({},L),{},{x:L.left,y:L.top}),M=Math.min(q,O.x+O.width),A=Math.min($,O.y+O.height),U=E[B]&&E[B].value,ee=xj(w.state,w.props.data,B),V=E[B]?{x:C==="horizontal"?E[B].coordinate:M,y:C==="horizontal"?A:E[B].coordinate}:qD;w.setState(me(me({},N),{},{activeLabel:U,activeCoordinate:V,activePayload:ee,activeTooltipIndex:B}))}else w.setState(N)}),ot(w,"renderCursor",function(N){var P,C=w.state,k=C.isTooltipActive,D=C.activeCoordinate,T=C.activePayload,R=C.offset,q=C.activeTooltipIndex,$=C.tooltipAxisBandSize,B=w.getTooltipEventType(),I=(P=N.props.active)!==null&&P!==void 0?P:k,L=w.props.layout,E=N.key||"_recharts-cursor";return F.createElement(cve,{key:E,activeCoordinate:D,activePayload:T,activeTooltipIndex:q,chartName:r,element:N,isActive:I,layout:L,offset:R,tooltipAxisBandSize:$,tooltipEventType:B})}),ot(w,"renderPolarAxis",function(N,P,C){var k=Yn(N,"type.axisType"),D=Yn(w.state,"".concat(k,"Map")),T=N.type.defaultProps,R=T!==void 0?me(me({},T),N.props):N.props,q=D&&D[R["".concat(k,"Id")]];return m.cloneElement(N,me(me({},q),{},{className:ft(k,q.className),key:N.key||"".concat(P,"-").concat(C),ticks:Ia(q,!0)}))}),ot(w,"renderPolarGrid",function(N){var P=N.props,C=P.radialLines,k=P.polarAngles,D=P.polarRadius,T=w.state,R=T.radiusAxisMap,q=T.angleAxisMap,$=gi(R),B=gi(q),I=B.cx,L=B.cy,E=B.innerRadius,_=B.outerRadius;return m.cloneElement(N,{polarAngles:Array.isArray(k)?k:Ia(B,!0).map(function(O){return O.coordinate}),polarRadius:Array.isArray(D)?D:Ia($,!0).map(function(O){return O.coordinate}),cx:I,cy:L,innerRadius:E,outerRadius:_,key:N.key||"polar-grid",radialLines:C})}),ot(w,"renderLegend",function(){var N=w.state.formattedGraphicalItems,P=w.props,C=P.children,k=P.width,D=P.height,T=w.props.margin||{},R=k-(T.left||0)-(T.right||0),q=vM({children:C,formattedGraphicalItems:N,legendWidth:R,legendContent:d});if(!q)return null;var $=q.item,B=vE(q,dve);return m.cloneElement($,me(me({},B),{},{chartWidth:k,chartHeight:D,margin:T,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),ot(w,"renderTooltip",function(){var N,P=w.props,C=P.children,k=P.accessibilityLayer,D=zn(C,Ys);if(!D)return null;var T=w.state,R=T.isTooltipActive,q=T.activeCoordinate,$=T.activePayload,B=T.activeLabel,I=T.offset,L=(N=D.props.active)!==null&&N!==void 0?N:R;return m.cloneElement(D,{viewBox:me(me({},I),{},{x:I.left,y:I.top}),active:L,label:B,payload:L?$:[],coordinate:q,accessibilityLayer:k})}),ot(w,"renderBrush",function(N){var P=w.props,C=P.margin,k=P.data,D=w.state,T=D.offset,R=D.dataStartIndex,q=D.dataEndIndex,$=D.updateId;return m.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Hh(w.handleBrushChange,N.props.onChange),data:k,x:_e(N.props.x)?N.props.x:T.left,y:_e(N.props.y)?N.props.y:T.top+T.height+T.brushBottom-(C.bottom||0),width:_e(N.props.width)?N.props.width:T.width,startIndex:R,endIndex:q,updateId:"brush-".concat($)})}),ot(w,"renderReferenceElement",function(N,P,C){if(!N)return null;var k=w,D=k.clipPathId,T=w.state,R=T.xAxisMap,q=T.yAxisMap,$=T.offset,B=N.type.defaultProps||{},I=N.props,L=I.xAxisId,E=L===void 0?B.xAxisId:L,_=I.yAxisId,O=_===void 0?B.yAxisId:_;return m.cloneElement(N,{key:N.key||"".concat(P,"-").concat(C),xAxis:R[E],yAxis:q[O],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:D})}),ot(w,"renderActivePoints",function(N){var P=N.item,C=N.activePoint,k=N.basePoint,D=N.childIndex,T=N.isRange,R=[],q=P.props.key,$=P.item.type.defaultProps!==void 0?me(me({},P.item.type.defaultProps),P.item.props):P.item.props,B=$.activeDot,I=$.dataKey,L=me(me({index:D,dataKey:I,cx:C.x,cy:C.y,r:4,fill:HN(P.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},tt(B,!1)),ep(B));return R.push(y.renderActiveDot(B,L,"".concat(q,"-activePoint-").concat(D))),k?R.push(y.renderActiveDot(B,me(me({},L),{},{cx:k.x,cy:k.y}),"".concat(q,"-basePoint-").concat(D))):T&&R.push(null),R}),ot(w,"renderGraphicChild",function(N,P,C){var k=w.filterFormatItem(N,P,C);if(!k)return null;var D=w.getTooltipEventType(),T=w.state,R=T.isTooltipActive,q=T.tooltipAxis,$=T.activeTooltipIndex,B=T.activeLabel,I=w.props.children,L=zn(I,Ys),E=k.props,_=E.points,O=E.isRange,M=E.baseLine,A=k.item.type.defaultProps!==void 0?me(me({},k.item.type.defaultProps),k.item.props):k.item.props,U=A.activeDot,ee=A.hide,V=A.activeBar,X=A.activeShape,Q=!!(!ee&&R&&L&&(U||V||X)),le={};D!=="axis"&&L&&L.props.trigger==="click"?le={onClick:Hh(w.handleItemMouseEnter,N.props.onClick)}:D!=="axis"&&(le={onMouseLeave:Hh(w.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Hh(w.handleItemMouseEnter,N.props.onMouseEnter)});var H=m.cloneElement(N,me(me({},k.props),le));function ce(Ye){return typeof q.dataKey=="function"?q.dataKey(Ye.payload):null}if(Q)if($>=0){var se,Y;if(q.dataKey&&!q.allowDuplicatedCategory){var Ee=typeof q.dataKey=="function"?ce:"payload.".concat(q.dataKey.toString());se=Zm(_,Ee,B),Y=O&&M&&Zm(M,Ee,B)}else se=_==null?void 0:_[$],Y=O&&M&&M[$];if(X||V){var ye=N.props.activeIndex!==void 0?N.props.activeIndex:$;return[m.cloneElement(N,me(me(me({},k.props),le),{},{activeIndex:ye})),null,null]}if(!dt(se))return[H].concat(Jc(w.renderActivePoints({item:k,activePoint:se,basePoint:Y,childIndex:$,isRange:O})))}else{var J,ke=(J=w.getItemByXY(w.state.activeCoordinate))!==null&&J!==void 0?J:{graphicalItem:H},Me=ke.graphicalItem,Le=Me.item,Te=Le===void 0?N:Le,mt=Me.childIndex,ct=me(me(me({},k.props),le),{},{activeIndex:mt});return[m.cloneElement(Te,ct),null,null]}return O?[H,null,null]:[H,null]}),ot(w,"renderCustomized",function(N,P,C){return m.cloneElement(N,me(me({key:"recharts-customized-".concat(C)},w.props),w.state))}),ot(w,"renderMap",{CartesianGrid:{handler:Xh,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Xh},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Xh},YAxis:{handler:Xh},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((j=v.id)!==null&&j!==void 0?j:dl("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=gR(w.triggeredAfterMouseMove,(S=v.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return wve(y,g),vve(y,[{key:"componentDidMount",value:function(){var j,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,S=j.children,w=j.data,N=j.height,P=j.layout,C=zn(S,Ys);if(C){var k=C.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,T=xj(this.state,w,k,D),R=this.state.tooltipTicks[k].coordinate,q=(this.state.offset.top+N)/2,$=P==="horizontal",B=$?{x:R,y:q}:{y:R,x:q},I=this.state.formattedGraphicalItems.find(function(E){var _=E.item;return _.type.name==="Scatter"});I&&(B=me(me({},B),I.props.points[k].tooltipPosition),T=I.props.points[k].tooltipPayload);var L={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:D,activePayload:T,activeCoordinate:B};this.setState(L),this.renderCursor(C),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var w,N;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(j){q0([zn(j.children,Ys)],[zn(this.props.children,Ys)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=zn(this.props.children,Ys);if(j&&typeof j.props.shared=="boolean"){var S=j.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),N=pse(w),P={chartX:Math.round(j.pageX-N.left),chartY:Math.round(j.pageY-N.top)},C=w.width/S.offsetWidth||1,k=this.inRange(P.chartX,P.chartY,C);if(!k)return null;var D=this.state,T=D.xAxisMap,R=D.yAxisMap,q=this.getTooltipEventType(),$=bE(this.state,this.props.data,this.props.layout,k);if(q!=="axis"&&T&&R){var B=gi(T).scale,I=gi(R).scale,L=B&&B.invert?B.invert(P.chartX):null,E=I&&I.invert?I.invert(P.chartY):null;return me(me({},P),{},{xValue:L,yValue:E},$)}return $?me(me({},P),$):null}},{key:"inRange",value:function(j,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,P=j/w,C=S/w;if(N==="horizontal"||N==="vertical"){var k=this.state.offset,D=P>=k.left&&P<=k.left+k.width&&C>=k.top&&C<=k.top+k.height;return D?{x:P,y:C}:null}var T=this.state,R=T.angleAxisMap,q=T.radiusAxisMap;if(R&&q){var $=gi(R);return VC({x:P,y:C},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,S=this.getTooltipEventType(),w=zn(j,Ys),N={};w&&S==="axis"&&(w.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=ep(this.props,this.handleOuterEvent);return me(me({},P),N)}},{key:"addListener",value:function(){uy.on(fy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){uy.removeListener(fy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,S,w){for(var N=this.state.formattedGraphicalItems,P=0,C=N.length;P<C;P++){var k=N[P];if(k.item===j||k.props.key===j.key||S===La(k.item.type)&&w===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,S=this.state.offset,w=S.left,N=S.top,P=S.height,C=S.width;return F.createElement("defs",null,F.createElement("clipPath",{id:j},F.createElement("rect",{x:w,y:N,height:P,width:C})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(S,w){var N=gE(w,2),P=N[0],C=N[1];return me(me({},S),{},ot({},P,C.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(S,w){var N=gE(w,2),P=N[0],C=N[1];return me(me({},S),{},ot({},P,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(j){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(j){var S=this.state,w=S.formattedGraphicalItems,N=S.activeItem;if(w&&w.length)for(var P=0,C=w.length;P<C;P++){var k=w[P],D=k.props,T=k.item,R=T.type.defaultProps!==void 0?me(me({},T.type.defaultProps),T.props):T.props,q=La(T.type);if(q==="Bar"){var $=(D.data||[]).find(function(E){return Que(j,E)});if($)return{graphicalItem:k,payload:$}}else if(q==="RadialBar"){var B=(D.data||[]).find(function(E){return VC(j,E)});if(B)return{graphicalItem:k,payload:B}}else if(Tg(k,N)||Ig(k,N)||Nf(k,N)){var I=Fhe({graphicalItem:k,activeTooltipItem:N,itemData:R.data}),L=R.activeIndex===void 0?I:R.activeIndex;return{graphicalItem:me(me({},k),{},{childIndex:L}),payload:Nf(k,N)?R.data[I]:k.props.data[I]}}}return null}},{key:"render",value:function(){var j=this;if(!R2(this))return null;var S=this.props,w=S.children,N=S.className,P=S.width,C=S.height,k=S.style,D=S.compact,T=S.title,R=S.desc,q=vE(S,uve),$=tt(q,!1);if(D)return F.createElement(QA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(W0,Wl({},$,{width:P,height:C,title:T,desc:R}),this.renderClipPath(),D2(w,this.renderMap)));if(this.props.accessibilityLayer){var B,I;$.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,$.role=(I=this.props.role)!==null&&I!==void 0?I:"application",$.onKeyDown=function(E){j.accessibilityManager.keyboardEvent(E)},$.onFocus=function(){j.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return F.createElement(QA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",Wl({className:ft("recharts-wrapper",N),style:me({position:"relative",cursor:"default",width:P,height:C},k)},L,{ref:function(_){j.container=_}}),F.createElement(W0,Wl({},$,{width:P,height:C,title:T,desc:R,style:Eve}),this.renderClipPath(),D2(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(m.Component);ot(b,"displayName",r),ot(b,"defaultProps",me({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ot(b,"getDerivedStateFromProps",function(g,y){var v=g.dataKey,j=g.data,S=g.children,w=g.width,N=g.height,P=g.layout,C=g.stackOffset,k=g.margin,D=y.dataStartIndex,T=y.dataEndIndex;if(y.updateId===void 0){var R=jE(g);return me(me(me({},R),{},{updateId:0},p(me(me({props:g},R),{},{updateId:0}),y)),{},{prevDataKey:v,prevData:j,prevWidth:w,prevHeight:N,prevLayout:P,prevStackOffset:C,prevMargin:k,prevChildren:S})}if(v!==y.prevDataKey||j!==y.prevData||w!==y.prevWidth||N!==y.prevHeight||P!==y.prevLayout||C!==y.prevStackOffset||!sc(k,y.prevMargin)){var q=jE(g),$={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},B=me(me({},bE(y,j,P)),{},{updateId:y.updateId+1}),I=me(me(me({},q),$),B);return me(me(me({},I),p(me({props:g},I),y)),{},{prevDataKey:v,prevData:j,prevWidth:w,prevHeight:N,prevLayout:P,prevStackOffset:C,prevMargin:k,prevChildren:S})}if(!q0(S,y.prevChildren)){var L,E,_,O,M=zn(S,Uc),A=M&&(L=(E=M.props)===null||E===void 0?void 0:E.startIndex)!==null&&L!==void 0?L:D,U=M&&(_=(O=M.props)===null||O===void 0?void 0:O.endIndex)!==null&&_!==void 0?_:T,ee=A!==D||U!==T,V=!dt(j),X=V&&!ee?y.updateId:y.updateId+1;return me(me({updateId:X},p(me(me({props:g},y),{},{updateId:X,dataStartIndex:A,dataEndIndex:U}),y)),{},{prevChildren:S,dataStartIndex:A,dataEndIndex:U})}return null}),ot(b,"renderActiveDot",function(g,y,v){var j;return m.isValidElement(g)?j=m.cloneElement(g,y):lt(g)?j=g(y):j=F.createElement(Zf,y),F.createElement(St,{className:"recharts-active-dot",key:v},j)});var x=m.forwardRef(function(y,v){return F.createElement(b,Wl({},y,{ref:v}))});return x.displayName=b.displayName,x},Lve=Fg({chartName:"LineChart",GraphicalChild:eh,axisComponents:[{axisType:"xAxis",AxisComp:_a},{axisType:"yAxis",AxisComp:Ra}],formatAxisMap:KN}),NE=Fg({chartName:"BarChart",GraphicalChild:Ba,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:_a},{axisType:"yAxis",AxisComp:Ra}],formatAxisMap:KN}),Fve=Fg({chartName:"PieChart",GraphicalChild:ni,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:kg},{axisType:"radiusAxis",AxisComp:Eg}],formatAxisMap:uce,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Bve=Fg({chartName:"AreaChart",GraphicalChild:Ja,axisComponents:[{axisType:"xAxis",AxisComp:_a},{axisType:"yAxis",AxisComp:Ra}],formatAxisMap:KN});const Uve={light:"",dark:".dark"},WD=m.createContext(null);function KD(){const e=m.useContext(WD);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Pl=m.forwardRef(({id:e,className:t,children:r,config:s,...a},i)=>{const o=m.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return n.jsx(WD.Provider,{value:{config:s},children:n.jsxs("div",{"data-chart":l,ref:i,className:Oe("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[n.jsx(zve,{id:l,config:s}),n.jsx(lse,{children:r})]})})});Pl.displayName="Chart";const zve=({id:e,config:t})=>{const r=Object.entries(t).filter(([s,a])=>a.theme||a.color);return r.length?n.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(Uve).map(([s,a])=>`
${a} [data-chart=${e}] {
${r.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[s])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Yd=Ys,Cl=m.forwardRef(({active:e,payload:t,className:r,indicator:s="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:f,labelKey:h},p)=>{const{config:b}=KD(),x=m.useMemo(()=>{var w;if(a||!(t!=null&&t.length))return null;const[y]=t,v=`${h||y.dataKey||y.name||"value"}`,j=gj(b,y,v),S=!h&&typeof o=="string"?((w=b[o])==null?void 0:w.label)||o:j==null?void 0:j.label;return l?n.jsx("div",{className:Oe("font-medium",c),children:l(S,t)}):S?n.jsx("div",{className:Oe("font-medium",c),children:S}):null},[o,l,t,a,c,b,h]);if(!e||!(t!=null&&t.length))return null;const g=t.length===1&&s!=="dot";return n.jsxs("div",{ref:p,className:Oe("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:x,n.jsx("div",{className:"grid gap-1.5",children:t.map((y,v)=>{const j=`${f||y.name||y.dataKey||"value"}`,S=gj(b,y,j),w=u||y.payload.fill||y.color;return n.jsx("div",{className:Oe("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",s==="dot"&&"items-center"),children:d&&(y==null?void 0:y.value)!==void 0&&y.name?d(y.value,y.name,y,v,y.payload):n.jsxs(n.Fragment,{children:[S!=null&&S.icon?n.jsx(S.icon,{}):!i&&n.jsx("div",{className:Oe("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":s==="dot","w-1":s==="line","w-0 border-[1.5px] border-dashed bg-transparent":s==="dashed","my-0.5":g&&s==="dashed"}),style:{"--color-bg":w,"--color-border":w}}),n.jsxs("div",{className:Oe("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[n.jsxs("div",{className:"grid gap-1.5",children:[g?x:null,n.jsx("span",{className:"text-muted-foreground",children:(S==null?void 0:S.label)||y.name})]}),y.value&&n.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});Cl.displayName="ChartTooltip";const Vve=m.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:s="bottom",nameKey:a},i)=>{const{config:o}=KD();return r!=null&&r.length?n.jsx("div",{ref:i,className:Oe("flex items-center justify-center gap-4",s==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,d=gj(o,l,c);return n.jsxs("div",{className:Oe("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!t?n.jsx(d.icon,{}):n.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});Vve.displayName="ChartLegend";function gj(e,t,r){if(typeof t!="object"||t===null)return;const s="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:s&&r in s&&typeof s[r]=="string"&&(a=s[r]),a in e?e[a]:e[r]}const qve=({selectedPeriod:e,selectedReport:t,reportData:r,previousPeriodData:s,loading:a=!1,error:i=null})=>{const o=(d,u)=>u===0?d>0?100:0:Math.round((d-u)/u*100);if(a)return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[1,2,3,4].map(d=>n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsxs(Se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"}),n.jsx("div",{className:"h-4 w-4 bg-gray-200 rounded animate-pulse"})]}),n.jsxs(re,{children:[n.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-24 mb-2"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-16"})]})]},d))});if(i)return n.jsx(te,{className:"border-red-200 bg-red-50",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error Loading Data"}),n.jsx("p",{className:"text-red-600 mb-4",children:i}),n.jsxs(z,{onClick:()=>window.location.reload(),variant:"outline",className:"text-red-600 border-red-600",children:[n.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})})});if(!r)return n.jsx(te,{className:"border-yellow-200 bg-yellow-50",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Data Available"}),n.jsx("p",{className:"text-yellow-600 mb-4",children:"No data found for the selected period."})]})})});const l=m.useCallback(()=>{var d,u,f,h,p,b,x,g,y,v,j,S,w,N,P,C,k,D,T;if(!r)return null;switch(console.log(" TimePeriodReports - reportData:",r),console.log(" TimePeriodReports - previousPeriodData:",s),t){case"sales":const R=((d=r.summary)==null?void 0:d.totalRevenue)||0,q=((u=r.summary)==null?void 0:u.totalSales)||0,$=((f=s==null?void 0:s.summary)==null?void 0:f.totalRevenue)||0,B=((h=s==null?void 0:s.summary)==null?void 0:h.totalSales)||0,I=R-(((p=r.summary)==null?void 0:p.totalSubtotal)||0),L=$-(((b=s==null?void 0:s.summary)==null?void 0:b.totalSubtotal)||0);return console.log(" Sales calculations:",{currentRevenue:R,currentTransactions:q,currentProfit:I,avgTransaction:q>0?R/q:0,revenueGrowth:o(R,$),transactionGrowth:o(q,B)}),{revenue:R,transactions:q,customers:0,avgTransaction:q>0?R/q:0,revenueGrowth:o(R,$),transactionGrowth:o(q,B),profit:I,profitGrowth:o(I,L)};case"inventory":return{totalProducts:((x=r.summary)==null?void 0:x.totalProducts)||0,totalStock:((g=r.summary)==null?void 0:g.totalStock)||0,lowStockCount:((y=r.summary)==null?void 0:y.lowStockCount)||0,totalValue:((v=r.summary)==null?void 0:v.totalValue)||0};case"customers":const E=((j=r.summary)==null?void 0:j.totalCustomers)||0,_=((S=r.summary)==null?void 0:S.totalSpent)||0,O=((w=r.summary)==null?void 0:w.averageSpent)||0,M=((N=s==null?void 0:s.summary)==null?void 0:N.totalCustomers)||0,A=((P=s==null?void 0:s.summary)==null?void 0:P.totalSpent)||0;return{totalCustomers:E,totalSpent:_,averageSpent:O,loyaltyPoints:((C=r.summary)==null?void 0:C.totalLoyaltyPoints)||0,customerGrowth:o(E,M),spendingGrowth:o(_,A)};case"products":return{totalProducts:((k=r.summary)==null?void 0:k.totalProducts)||0,topProducts:r.topProducts||[],totalSales:((D=r.summary)==null?void 0:D.totalSales)||0,averageRating:((T=r.summary)==null?void 0:T.averageRating)||0};default:return null}},[r,s,t]),c=m.useMemo(()=>l(),[l]);return console.log(" TimePeriodReports - currentData:",c),c?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t==="inventory"&&n.jsxs(n.Fragment,{children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Products"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.totalProducts.toLocaleString()})]}),n.jsx(cr,{className:"w-8 h-8 text-blue-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Stock"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.totalStock.toLocaleString()})]}),n.jsx(cr,{className:"w-8 h-8 text-purple-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Low Stock Items"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:c.lowStockCount})]}),n.jsx(Zl,{className:"w-8 h-8 text-orange-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["PKR ",c.totalValue.toLocaleString()]})]}),n.jsx(ar,{className:"w-8 h-8 text-green-600"})]})})})]}),t==="customers"&&n.jsxs(n.Fragment,{children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Customers"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.totalCustomers.toLocaleString()}),n.jsxs("div",{className:"flex items-center mt-2",children:[c.customerGrowth>=0?n.jsx(Ar,{className:"w-4 h-4 text-green-600 mr-1"}):n.jsx(Zl,{className:"w-4 h-4 text-red-600 mr-1"}),n.jsxs("span",{className:`text-sm font-medium ${c.customerGrowth>=0?"text-green-600":"text-red-600"}`,children:[c.customerGrowth>=0?"+":"",c.customerGrowth,"%"]})]})]}),n.jsx(yt,{className:"w-8 h-8 text-blue-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Spent"}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["PKR ",c.totalSpent.toLocaleString()]}),n.jsxs("div",{className:"flex items-center mt-2",children:[c.spendingGrowth>=0?n.jsx(Ar,{className:"w-4 h-4 text-green-600 mr-1"}):n.jsx(Zl,{className:"w-4 h-4 text-red-600 mr-1"}),n.jsxs("span",{className:`text-sm font-medium ${c.spendingGrowth>=0?"text-green-600":"text-red-600"}`,children:[c.spendingGrowth>=0?"+":"",c.spendingGrowth,"%"]})]})]}),n.jsx(ar,{className:"w-8 h-8 text-purple-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Spent"}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["PKR ",Math.round(c.averageSpent)]})]}),n.jsx(Kn,{className:"w-8 h-8 text-green-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Loyalty Points"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.loyaltyPoints.toLocaleString()})]}),n.jsx(Vm,{className:"w-8 h-8 text-yellow-600"})]})})})]}),t==="products"&&n.jsxs(n.Fragment,{children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Products"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.totalProducts.toLocaleString()})]}),n.jsx(cr,{className:"w-8 h-8 text-blue-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.totalSales.toLocaleString()})]}),n.jsx(qr,{className:"w-8 h-8 text-green-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Rating"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.averageRating.toFixed(1)})]}),n.jsx(Vm,{className:"w-8 h-8 text-yellow-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Top Products"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:c.topProducts.length})]}),n.jsx(Kn,{className:"w-8 h-8 text-purple-600"})]})})})]})]}):(console.log(" TimePeriodReports - No currentData available"),n.jsx(te,{className:"border-gray-200 bg-gray-50",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Data Available"}),n.jsx("p",{className:"text-gray-600",children:"No data found for the selected report type."})]})})}))},Hve=()=>{var _t,Vt;const{user:e,logout:t}=Jt(),{selectedBranchId:r,selectedBranch:s}=Ji(),[a,i]=m.useState("today"),[o,l]=m.useState("sales"),[c,d]=m.useState(!0),[u,f]=m.useState(null),[h,p]=m.useState(null),[b,x]=m.useState(null),[g,y]=m.useState([]),[v,j]=m.useState([]),[S,w]=m.useState([]),[N,P]=m.useState(!1),[C,k]=m.useState([]),[D,T]=m.useState([]),[R,q]=m.useState([]),[$,B]=m.useState(new Date),[I,L]=m.useState([]),[E,_]=m.useState([]),[O,M]=m.useState([]),[A,U]=m.useState([]),[ee,V]=m.useState([]),[X,Q]=m.useState(0),le=m.useRef(null),H=[{id:"today",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"},{id:"year",label:"This Year"}];m.useCallback(xe=>{const Z=new Date;let Pe,Ne;switch(xe){case"today":Pe=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()),Ne=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate(),23,59,59);break;case"week":const K=new Date(Z);K.setDate(Z.getDate()-Z.getDay()+1),K.setHours(0,0,0,0),Pe=K,Ne=new Date(K),Ne.setDate(K.getDate()+6),Ne.setHours(23,59,59);break;case"month":Pe=new Date(Z.getFullYear(),Z.getMonth(),1),Ne=new Date(Z.getFullYear(),Z.getMonth()+1,0,23,59,59);break;case"year":Pe=new Date(Z.getFullYear(),0,1),Ne=new Date(Z.getFullYear(),11,31,23,59,59);break;default:Pe=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()),Ne=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate(),23,59,59)}return{start:Pe.toISOString().split("T")[0],end:Ne.toISOString().split("T")[0]}},[]);const ce=m.useCallback(()=>{P(!N)},[N]);m.useCallback(xe=>{console.log("Branch selection is now handled by AdminContext")},[]);const se=m.useMemo(()=>({date:$.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:$.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}),[$]),Y=m.useCallback(xe=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0,maximumFractionDigits:0}).format(xe),[]),Ee=m.useCallback(async()=>{var xe,Z;try{if(!localStorage.getItem("token")){f("Authentication required. Please log in.");return}let Ne;if((e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPERADMIN")r?(Ne=r,console.log("Admin selected specific branch for reports:",s==null?void 0:s.name)):console.log("Admin viewing all branches - loading all reports");else{if(Ne=e==null?void 0:e.branchId,!Ne){const We=await pe.getBranches();We.success&&((Z=(xe=We.data)==null?void 0:xe.branches)==null?void 0:Z.length)>0&&(Ne=We.data.branches[0].id)}console.log("Regular user branch for reports:",Ne)}const[K,ge,we,De]=await Promise.all([pe.getBranches(),pe.getSales({page:1,limit:200,branchId:Ne||void 0}),pe.getProducts({page:1,limit:200,branchId:Ne||void 0}),pe.getUsers({page:1,limit:100})]);if(K.success&&K.data){const We=Array.isArray(K.data)?K.data:K.data.branches;w(We)}if(ge.success&&ge.data){const We=ge.data.sales||[];k(We)}if(we.success&&we.data){const We=we.data.products||[];T(We)}if(De.success&&De.data){const We=De.data.users||[];q(We)}}catch(Pe){console.error("Error loading branches and real data:",Pe),f("Failed to load branches and real data")}},[]);m.useEffect(()=>{Ee()},[Ee,r]),m.useEffect(()=>{const xe=()=>{B(new Date)};return xe(),le.current=setInterval(xe,1e3),()=>{le.current&&(clearInterval(le.current),le.current=null)}},[]);const ye=m.useCallback(async()=>{var xe,Z,Pe,Ne,K,ge;try{d(!0),f(null);let we;if((e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPERADMIN")r?(we=r,console.log("Admin selected specific branch for reports:",s==null?void 0:s.name)):console.log("Admin viewing all branches - loading all reports");else{if(we=e==null?void 0:e.branchId,!we){const he=await pe.getBranches();he.success&&((Z=(xe=he.data)==null?void 0:xe.branches)==null?void 0:Z.length)>0&&(we=he.data.branches[0].id)}console.log("Regular user branch for reports:",we)}const De=new Date;let We="",Ue="",de="",G="";switch(a){case"today":We=De.toISOString().split("T")[0],Ue=De.toISOString().split("T")[0];const he=new Date(De);he.setDate(he.getDate()-1),de=he.toISOString().split("T")[0],G=he.toISOString().split("T")[0];break;case"week":const Ve=new Date(De),He=Ve.getDay(),be=He===0?6:He-1;Ve.setDate(Ve.getDate()-be),Ve.setHours(0,0,0,0),We=Ve.toISOString().split("T")[0],Ue=De.toISOString().split("T")[0];const Je=new Date(Ve);Je.setDate(Je.getDate()-7);const ue=new Date(Je);ue.setDate(ue.getDate()+6),de=Je.toISOString().split("T")[0],G=ue.toISOString().split("T")[0];break;case"month":const $e=new Date(De.getFullYear(),De.getMonth(),1);We=`${De.getFullYear()}-${String(De.getMonth()+1).padStart(2,"0")}-01`,Ue=De.toISOString().split("T")[0];const Be=De.getMonth()===0?11:De.getMonth()-1,wt=De.getMonth()===0?De.getFullYear()-1:De.getFullYear();de=`${wt}-${String(Be+1).padStart(2,"0")}-01`;const Ze=new Date(wt,Be+1,0).getDate();G=`${wt}-${String(Be+1).padStart(2,"0")}-${String(Ze).padStart(2,"0")}`;break;case"year":We=`${De.getFullYear()}-01-01`,Ue=De.toISOString().split("T")[0],de=`${De.getFullYear()-1}-01-01`,G=`${De.getFullYear()-1}-12-31`;break}console.log(" Date range calculation:",{selectedPeriod:a,startDate:We,endDate:Ue,previousStartDate:de,previousEndDate:G}),console.log(" API call parameters:",{selectedReport:o,startDate:We,endDate:Ue,branchId:we,groupBy:a==="week"?"week":a==="month"?"month":a==="year"?"year":"day"});let ie;switch(o){case"sales":const he={startDate:We,endDate:Ue,branchId:we||"",groupBy:a==="week"?"week":a==="month"?"month":a==="year"?"year":"day"};ie=await pe.getSalesReport(he);break;case"inventory":ie=await pe.getInventoryReport({branchId:we||""});break;case"customers":ie=await pe.getCustomerReport({startDate:We,endDate:Ue,branchId:we||""});break;case"products":ie=await pe.getProductPerformanceReport({startDate:We,endDate:Ue,branchId:we||""});break;default:ie=await pe.getSalesReport({startDate:We,endDate:Ue,branchId:we||""})}let fe=null;if((o==="sales"||o==="customers")&&de&&G)try{o==="sales"?fe=await pe.getSalesReport({startDate:de,endDate:G,branchId:we||"",groupBy:a==="week"?"week":a==="month"?"month":a==="year"?"year":"day"}):o==="customers"&&(fe=await pe.getCustomerReport({startDate:de,endDate:G,branchId:we||""}))}catch(he){console.warn("Could not load previous period data:",he)}if(ie.success&&ie.data){if(console.log(" API Response received:",ie.data),console.log(" Summary data:",ie.data.summary),console.log(" Sales trend data:",ie.data.salesTrend),p(ie.data),fe!=null&&fe.success&&fe.data&&x(fe.data),o==="sales"){try{const he=await pe.getTopSellingProducts(we||"",10);he.success&&he.data&&y(he.data)}catch(he){console.error("Error loading top products:",he)}try{const he=await pe.getSalesByPaymentMethod(we||"");he.success&&he.data&&j(he.data)}catch(he){console.error("Error loading sales by payment method:",he)}if((Pe=ie.data)!=null&&Pe.salesTrend){const he=J(ie.data.salesTrend,a);L(he);const Ve=Le(ie.data.salesTrend);U(Ve);const He=Te(ie.data.salesTrend);V(He);const be=mt(ie.data.salesTrend);Q(be)}if((Ne=ie.data)!=null&&Ne.topProducts){const he=ke(ie.data.topProducts);_(he)}}try{const he="2025-01-01",Ve="2025-12-31";console.log("Calling getProductPerformanceReport with:",{startDate:he,endDate:Ve,branchId:we||""});const He=await pe.getProductPerformanceReport({startDate:he,endDate:Ve,branchId:we||""});if(console.log("Product Performance Response:",He),console.log("Category Performance Data:",(K=He.data)==null?void 0:K.categoryPerformance),He.success&&((ge=He.data)!=null&&ge.categoryPerformance)){const be=Me(He.data.categoryPerformance);console.log("Processed Category Data:",be),M(be)}else console.log("No category performance data found in response")}catch(he){console.error("Error loading product performance report:",he)}}else console.error("Report API failed:",ie),f("Failed to load report data: "+(ie.message||"Unknown error"))}catch(we){console.error("Error loading report data:",we),f("Failed to load report data")}finally{d(!1)}},[a,o,r,e==null?void 0:e.branchId]);m.useEffect(()=>{ye(),M([{name:"Vitamins",value:900,color:"#1C623C"},{name:"Antibiotics",value:720,color:"#247449"},{name:"umair",value:69,color:"#6EB469"}])},[ye]),m.useEffect(()=>{const xe=()=>{document.hidden||ye()};return document.addEventListener("visibilitychange",xe),()=>document.removeEventListener("visibilitychange",xe)},[ye]),m.useEffect(()=>{const xe=setInterval(()=>{ye()},12e4);return()=>clearInterval(xe)},[a,o,ye,r]);const J=m.useCallback((xe,Z)=>{if(!xe||xe.length===0)return[];let Pe=[];switch(Z){case"today":const Ne={};xe.forEach(Ue=>{var fe,he;const ie=`${new Date(Ue.createdAt).getHours()}:00`;Ne[ie]||(Ne[ie]={sales:0,revenue:0,hour:ie}),Ne[ie].sales+=((fe=Ue._count)==null?void 0:fe.id)||0,Ne[ie].revenue+=((he=Ue._sum)==null?void 0:he.totalAmount)||0}),Pe=Object.values(Ne).sort((Ue,de)=>Ue.hour.localeCompare(de.hour));break;case"week":const K={};xe.forEach(Ue=>{var ie,fe;const G=new Date(Ue.createdAt).toLocaleDateString("en-US",{weekday:"short"});K[G]||(K[G]={sales:0,revenue:0,day:G}),K[G].sales+=((ie=Ue._count)==null?void 0:ie.id)||0,K[G].revenue+=((fe=Ue._sum)==null?void 0:fe.totalAmount)||0}),Pe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(Ue=>K[Ue]||{sales:0,revenue:0,day:Ue});break;case"month":const we={};xe.forEach(Ue=>{var ie,fe;const G=new Date(Ue.createdAt).getDate().toString();we[G]||(we[G]={sales:0,revenue:0,day:G}),we[G].sales+=((ie=Ue._count)==null?void 0:ie.id)||0,we[G].revenue+=((fe=Ue._sum)==null?void 0:fe.totalAmount)||0}),Pe=Object.values(we).sort((Ue,de)=>parseInt(Ue.day)-parseInt(de.day));break;case"year":const De={};xe.forEach(Ue=>{var ie,fe;const G=new Date(Ue.createdAt).toLocaleDateString("en-US",{month:"short"});De[G]||(De[G]={sales:0,revenue:0,month:G}),De[G].sales+=((ie=Ue._count)==null?void 0:ie.id)||0,De[G].revenue+=((fe=Ue._sum)==null?void 0:fe.totalAmount)||0}),Pe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(Ue=>De[Ue]||{sales:0,revenue:0,month:Ue});break;default:Pe=xe.map(Ue=>{var de,G;return{sales:((de=Ue._count)==null?void 0:de.id)||0,revenue:((G=Ue._sum)==null?void 0:G.totalAmount)||0,date:new Date(Ue.createdAt).toLocaleDateString()}})}return Pe},[]),ke=m.useCallback(xe=>!xe||xe.length===0?[]:xe.sort((Pe,Ne)=>{var K,ge;return(((K=Ne._sum)==null?void 0:K.quantity)||0)-(((ge=Pe._sum)==null?void 0:ge.quantity)||0)}).slice(0,10).map(Pe=>{var Ne,K,ge;return{name:((Ne=Pe.product)==null?void 0:Ne.name)||"Unknown Product",sales:((K=Pe._sum)==null?void 0:K.quantity)||0,revenue:((ge=Pe._sum)==null?void 0:ge.totalPrice)||0}}),[]),Me=m.useCallback(xe=>{if(!xe||xe.length===0)return[];const Z=["#1C623C","#247449","#6EB469","#4ADE80","#22C55E","#16A34A","#15803D","#166534"];return xe.map((Ne,K)=>({name:Ne.category||"Uncategorized",value:Ne.revenue||0,color:Z[K%Z.length]})).sort((Ne,K)=>K.value-Ne.value)},[]),Le=m.useCallback(xe=>{if(!xe||xe.length===0)return[];const Z={};return xe.forEach(Pe=>{var ge;const K=new Date(Pe.createdAt).toLocaleDateString("en-US",{month:"short",year:"numeric"});Z[K]||(Z[K]={customers:0,month:K}),Z[K].customers+=((ge=Pe._count)==null?void 0:ge.id)||0}),Object.values(Z).sort((Pe,Ne)=>Pe.month.localeCompare(Ne.month))},[]),Te=m.useCallback(xe=>{if(!xe||xe.length===0)return[];const Z={};return xe.forEach(Ne=>{var de;const ge=new Date(Ne.createdAt).toLocaleDateString("en-US",{month:"short"});Z[ge]||(Z[ge]={profit:0,expenses:0,month:ge});const we=((de=Ne._sum)==null?void 0:de.totalAmount)||0,De=we*.7,We=we-De,Ue=De*.2;Z[ge].profit+=We,Z[ge].expenses+=Ue}),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(Ne=>Z[Ne]||{profit:0,expenses:0,month:Ne})},[]),mt=m.useCallback(xe=>{if(!xe||xe.length===0)return 0;const Z=xe.reduce((K,ge)=>{var we;return K+(((we=ge._sum)==null?void 0:we.totalAmount)||0)},0),Pe=Z*.7,Ne=Z-Pe;return Z>0?Math.round(Ne/Z*100):0},[]),ct=m.useCallback((xe,Z)=>Z===0?xe>0?100:0:Math.round((xe-Z)/Z*100),[]),Ye=m.useCallback(()=>{var xe,Z,Pe,Ne,K,ge,we,De,We,Ue,de,G,ie,fe,he,Ve;if(!h)return null;switch(o){case"sales":const He=((xe=h.summary)==null?void 0:xe.totalRevenue)||0,be=((Z=h.summary)==null?void 0:Z.totalSales)||0,Je=((Pe=b==null?void 0:b.summary)==null?void 0:Pe.totalRevenue)||0,ue=((Ne=b==null?void 0:b.summary)==null?void 0:Ne.totalSales)||0;return{revenue:He,transactions:be,customers:0,avgTransaction:be>0?He/be:0,revenueGrowth:ct(He,Je),transactionGrowth:ct(be,ue)};case"inventory":return{totalProducts:((K=h.summary)==null?void 0:K.totalProducts)||0,totalStock:((ge=h.summary)==null?void 0:ge.totalStock)||0,lowStockCount:((we=h.summary)==null?void 0:we.lowStockCount)||0};case"customers":const $e=((De=h.summary)==null?void 0:De.totalCustomers)||0,Be=((We=h.summary)==null?void 0:We.totalSpent)||0,wt=((Ue=h.summary)==null?void 0:Ue.averageSpent)||0,Ze=((de=b==null?void 0:b.summary)==null?void 0:de.totalCustomers)||0,gt=((G=b==null?void 0:b.summary)==null?void 0:G.totalSpent)||0;return{totalCustomers:$e,totalSpent:Be,averageSpent:wt,loyaltyPoints:((ie=h.summary)==null?void 0:ie.totalLoyaltyPoints)||0,customerGrowth:ct($e,Ze),spendingGrowth:ct(Be,gt)};case"products":return{totalProducts:((fe=h.summary)==null?void 0:fe.totalProducts)||0,topProduct:h.topProduct||null,avgRevenue:((he=h.summary)==null?void 0:he.averageRevenue)||0,totalRevenue:((Ve=h.summary)==null?void 0:Ve.totalRevenue)||0};default:return null}},[h,b,o,ct]);m.useMemo(()=>Ye(),[Ye]);const ut=m.useCallback(xe=>{const Z=C.filter(We=>We.branchId===xe),Pe=D.filter(We=>We.branchId===xe),Ne=R.filter(We=>We.branchId===xe),K=Z.reduce((We,Ue)=>We+(Ue.totalAmount||0),0),ge=Z.length,we=Pe.length,De=Ne.length;return{revenue:K,transactions:ge,products:we,users:De,branchSales:Z,branchProducts:Pe,branchUsers:Ne}},[C,D,R]);return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Reports & Analytics"}),n.jsxs("div",{className:"flex items-center text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[n.jsx(wT,{className:"w-3 h-3 mr-1 animate-pulse"}),"Live Data"]})]}),n.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPERADMIN"?"Comprehensive insights across all your branches":"Real-time insights into your pharmacy performance"})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:se.date}),n.jsx("p",{className:"text-xs text-muted-foreground",children:se.time})]})})]}),((e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPERADMIN")&&n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"All Branches Overview"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(Ce,{variant:"outline",className:"text-xs",children:[S.length," Branches"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:ce,children:[N?n.jsx(Bu,{className:"w-4 h-4"}):n.jsx(fn,{className:"w-4 h-4"}),N?"Hide Details":"Show Details"]})]})]})}),n.jsxs(re,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Revenue"}),n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Y(C.reduce((xe,Z)=>xe+(Z.totalAmount||0),0))})]}),n.jsx(ar,{className:"w-8 h-8 text-blue-600"})]})}),n.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border border-green-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Sales"}),n.jsx("p",{className:"text-2xl font-bold text-green-900",children:C.length})]}),n.jsx(qr,{className:"w-8 h-8 text-green-600"})]})}),n.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg border border-purple-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Total Products"}),n.jsx("p",{className:"text-2xl font-bold text-purple-900",children:D.length})]}),n.jsx(cr,{className:"w-8 h-8 text-purple-600"})]})}),n.jsx("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg border border-orange-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-orange-600",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-orange-900",children:R.length})]}),n.jsx(yt,{className:"w-8 h-8 text-orange-600"})]})})]}),N&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Branch Performance Details"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map((xe,Z)=>{const Pe=C.filter(we=>we.branchId===xe.id),Ne=D.filter(we=>we.branchId===xe.id),K=R.filter(we=>we.branchId===xe.id),ge=Pe.reduce((we,De)=>we+(De.totalAmount||0),0);return n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:xe.name}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:xe.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Address:"}),n.jsx("span",{className:"text-foreground truncate ml-2",children:xe.address})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),n.jsx("span",{className:"text-foreground",children:xe.phone})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Revenue:"}),n.jsx("span",{className:"text-foreground font-medium",children:Y(ge)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Sales:"}),n.jsx("span",{className:"text-foreground",children:Pe.length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Products:"}),n.jsx("span",{className:"text-foreground",children:Ne.length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Users:"}),n.jsx("span",{className:"text-foreground",children:K.length})]})]})]},xe.id)})})]})]})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Select Time Period"})]})}),n.jsx(re,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(xe=>n.jsx(z,{variant:a===xe.id?"default":"outline",size:"sm",onClick:()=>i(xe.id),className:a===xe.id?"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90 border-0":"",children:xe.label},xe.id))})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(jF,{className:"w-5 h-5 text-primary"}),n.jsxs("span",{children:["Sales Trend - ",(_t=H.find(xe=>xe.id===a))==null?void 0:_t.label]})]})}),n.jsx(re,{children:I.length>0?n.jsx(Pl,{config:{sales:{label:"Sales Count",color:"#1C623C"},revenue:{label:"Revenue (PKR)",color:"#6EB469"}},className:"h-[300px]",children:n.jsxs(Bve,{data:I,children:[n.jsx(nu,{strokeDasharray:"3 3"}),n.jsx(_a,{dataKey:a==="today"?"hour":a==="week"||a==="month"?"day":"month"}),n.jsx(Ra,{}),n.jsx(Yd,{content:n.jsx(Cl,{})}),n.jsx(Ja,{type:"monotone",dataKey:"sales",stackId:"1",stroke:"#1C623C",fill:"#1C623C",fillOpacity:.6,name:"Sales Count"}),n.jsx(Ja,{type:"monotone",dataKey:"revenue",stackId:"2",stroke:"#6EB469",fill:"#6EB469",fillOpacity:.6,name:"Revenue (PKR)"})]})}):n.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No sales data available for the selected period"})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Kn,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Profit vs Expenses"})]})}),n.jsx(re,{children:ee.length>0?n.jsx(Pl,{config:{profit:{label:"Profit (PKR)",color:"#1C623C"},expenses:{label:"Expenses (PKR)",color:"#EF4444"}},className:"h-[300px]",children:n.jsxs(NE,{data:ee,children:[n.jsx(nu,{strokeDasharray:"3 3"}),n.jsx(_a,{dataKey:"month"}),n.jsx(Ra,{}),n.jsx(Yd,{content:n.jsx(Cl,{})}),n.jsx(Ba,{dataKey:"profit",fill:"#1C623C",name:"Profit (PKR)"}),n.jsx(Ba,{dataKey:"expenses",fill:"#EF4444",name:"Expenses (PKR)"})]})}):n.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No profit/expense data available"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Vm,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Top Selling Products"})]})}),n.jsx(re,{children:E.length>0?n.jsx(Pl,{config:{sales:{label:"Quantity Sold",color:"#1C623C"}},className:"h-[300px]",children:n.jsxs(NE,{data:E,layout:"horizontal",children:[n.jsx(nu,{strokeDasharray:"3 3"}),n.jsx(_a,{type:"number"}),n.jsx(Ra,{dataKey:"name",type:"category",width:120}),n.jsx(Yd,{content:n.jsx(Cl,{})}),n.jsx(Ba,{dataKey:"sales",fill:"#1C623C",name:"Quantity Sold"})]})}):n.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No product data available"})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Customer Growth Trend"})]})}),n.jsx(re,{children:A.length>0?n.jsx(Pl,{config:{customers:{label:"Customers",color:"#1C623C"}},className:"h-[300px]",children:n.jsxs(Lve,{data:A,children:[n.jsx(nu,{strokeDasharray:"3 3"}),n.jsx(_a,{dataKey:"month"}),n.jsx(Ra,{}),n.jsx(Yd,{content:n.jsx(Cl,{})}),n.jsx(eh,{type:"monotone",dataKey:"customers",stroke:"#1C623C",strokeWidth:3,dot:{fill:"#1C623C",strokeWidth:2,r:4},name:"Customers"})]})}):n.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No customer growth data available"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(x0,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Sales Distribution by Category"})]})}),n.jsx(re,{children:n.jsx(Pl,{config:{value:{label:"Revenue (PKR)"}},className:"h-[300px]",children:n.jsxs(Fve,{children:[n.jsx(ni,{data:O,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:5,dataKey:"value",label:({name:xe,percent:Z})=>`${xe} ${(Z*100).toFixed(0)}%`,children:O.map((xe,Z)=>n.jsx(xg,{fill:xe.color},`cell-${Z}`))}),n.jsx(Yd,{content:n.jsx(Cl,{})})]})})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(AF,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Overall Profit Margin"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"h-[300px] flex flex-col items-center justify-center",children:[n.jsxs("div",{className:"relative w-48 h-48",children:[n.jsxs("svg",{className:"w-48 h-48 transform -rotate-90",viewBox:"0 0 100 100",children:[n.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"#E5E7EB",strokeWidth:"8",fill:"none"}),n.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"#1C623C",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-X/100)}`,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[n.jsxs("div",{className:"text-3xl font-bold text-primary",children:[X,"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Profit Margin"})]})]}),n.jsxs("div",{className:"mt-4 text-center",children:[n.jsx("div",{className:`text-lg font-semibold ${X>=20?"text-green-600":X>=10?"text-yellow-600":"text-red-600"}`,children:X>=20?"Excellent":X>=10?"Good":"Needs Improvement"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Target: 20% or higher"})]})]})})]})]})]}),c&&n.jsx(te,{className:"shadow-soft border-0",children:n.jsxs(re,{className:"p-12 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading report data..."})]})}),u&&n.jsx(te,{className:"shadow-soft border-0",children:n.jsxs(re,{className:"p-12 text-center",children:[n.jsx("p",{className:"text-destructive mb-4",children:u}),n.jsx(z,{onClick:ye,variant:"outline",children:"Try Again"})]})}),n.jsx(qve,{selectedPeriod:a,selectedReport:o,reportData:h,previousPeriodData:b,loading:c,error:u}),r&&S.length>0&&n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-5 h-5 text-primary"}),n.jsxs("span",{children:[((Vt=S.find(xe=>xe.id===r))==null?void 0:Vt.name)||"Selected Branch"," - Detailed Report"]})]})}),n.jsx(re,{children:(()=>{const xe=S.find(Pe=>Pe.id===r),Z=ut(r);return xe?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Revenue"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:Y(Z.revenue)})]}),n.jsx(ar,{className:"w-8 h-8 text-green-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:Z.transactions})]}),n.jsx(qr,{className:"w-8 h-8 text-blue-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Products"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:Z.products})]}),n.jsx(cr,{className:"w-8 h-8 text-purple-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Users"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:Z.users})]}),n.jsx(yt,{className:"w-8 h-8 text-orange-600"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Branch Information"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Name:"})," ",n.jsx("span",{className:"text-foreground",children:xe.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Address:"})," ",n.jsx("span",{className:"text-foreground",children:xe.address})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Phone:"})," ",n.jsx("span",{className:"text-foreground",children:xe.phone})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Email:"})," ",n.jsx("span",{className:"text-foreground",children:xe.email})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",n.jsx(Ce,{variant:xe.isActive?"default":"secondary",className:"text-xs",children:xe.isActive?"Active":"Inactive"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Performance Summary"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Avg. Sale Value:"})," ",n.jsx("span",{className:"text-foreground",children:Z.transactions>0?Y(Z.revenue/Z.transactions):"PKR 0"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Created:"})," ",n.jsx("span",{className:"text-foreground",children:new Date(xe.createdAt).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Last Updated:"})," ",n.jsx("span",{className:"text-foreground",children:new Date(xe.updatedAt).toLocaleDateString()})]})]})]})]}),Z.branchSales.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-foreground mb-3",children:["Recent Sales (",Z.branchSales.length,")"]}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Z.branchSales.slice(0,10).map((Pe,Ne)=>{var K;return n.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/20 rounded",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-sm font-medium",children:["Sale #",((K=Pe.id)==null?void 0:K.slice(-8))||Ne+1]}),n.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:new Date(Pe.createdAt).toLocaleDateString()})]}),n.jsx("span",{className:"font-medium",children:Y(Pe.totalAmount||0)})]},Pe.id||Ne)})})]}),Z.branchProducts.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-foreground mb-3",children:["Products (",Z.branchProducts.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto",children:Z.branchProducts.slice(0,12).map((Pe,Ne)=>n.jsxs("div",{className:"p-2 bg-muted/20 rounded text-sm",children:[n.jsx("div",{className:"font-medium truncate",children:Pe.name}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Stock: ",Pe.stock||0," | Price: ",Y(Pe.price||0)]})]},Pe.id||Ne))})]}),Z.branchUsers.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-foreground mb-3",children:["Users (",Z.branchUsers.length,")"]}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Z.branchUsers.map((Pe,Ne)=>n.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/20 rounded",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:Pe.name||Pe.username}),n.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",Pe.role,")"]})]}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:Pe.isActive?"Active":"Inactive"})]},Pe.id||Ne))})]}),Z.revenue===0&&Z.transactions===0&&Z.products===0&&Z.users===0&&n.jsxs("div",{className:"text-center p-8 text-muted-foreground",children:[n.jsx(Wt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Data Available"}),n.jsx("p",{children:"This branch doesn't have any sales, products, or users yet."})]})]}):null})()})]})]})},Wve=()=>n.jsx(Hve,{});var Bg="Switch",[Kve,Zbe]=vs(Bg),[Gve,Yve]=Kve(Bg),GD=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,p]=m.useState(null),b=Ct(t,j=>p(j)),x=m.useRef(!1),g=h?u||!!h.closest("form"):!0,[y,v]=ha({prop:a,defaultProp:i??!1,onChange:d,caller:Bg});return n.jsxs(Gve,{scope:r,checked:y,disabled:l,children:[n.jsx(Qe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":JD(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:Fe(e.onClick,j=>{v(S=>!S),g&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),g&&n.jsx(QD,{control:h,bubbles:!x.current,name:s,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});GD.displayName=Bg;var YD="SwitchThumb",XD=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=Yve(YD,r);return n.jsx(Qe.span,{"data-state":JD(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});XD.displayName=YD;var Xve="SwitchBubbleInput",QD=m.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=m.useRef(null),l=Ct(o,i),c=vI(r),d=QT(t);return m.useEffect(()=>{const u=o.current;if(!u)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const b=new Event("click",{bubbles:s});p.call(u,r),u.dispatchEvent(b)}},[c,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});QD.displayName=Xve;function JD(e){return e?"checked":"unchecked"}var ZD=GD,Qve=XD;const ui=m.forwardRef(({className:e,...t},r)=>n.jsx(ZD,{className:Oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(Qve,{className:Oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ui.displayName=ZD.displayName;const Jve=()=>{const[e,t]=m.useState(!0);m.useState(!1);const[r,s]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState(""),[c,d]=m.useState(""),[u,f]=m.useState("");m.useState({name:"Al-Shifa Pharmacy",address:"Block A, Gulberg III, Lahore",phone:"+92 42 1234567",email:"info@alshifapharmacy.com",license:"PHR-LHR-2024-001",taxNumber:"1234567890123"});const[h,p]=m.useState({pharmacy:{name:"Al-Shifa Pharmacy",address:"Block A, Gulberg III, Lahore",phone:"+92 42 1234567",email:"info@alshifapharmacy.com",license:"PHR-LHR-2024-001",taxNumber:"1234567890123"},pos:{autoSync:!0,offlineMode:!0,receiptPrinter:"EPSON TM-T20II",barcodePrinter:"Zebra ZD220",defaultTax:17,lowStockAlert:20,expiryAlert:30},user:{name:"Ahmad Khan",email:"ahmad@pharmacy.com",role:"Cashier",deviceId:"TABLET-001",lastLogin:"2024-01-15 10:30 AM"},security:{autoLogout:30,requirePin:!0,encryptData:!0,backupEnabled:!0,auditLog:!0},notifications:{lowStock:!0,expiry:!0,sales:!1,sync:!0,errors:!0}}),b={connectivity:e?"Online":"Offline",lastSync:"2 minutes ago",storage:"2.3 GB / 32 GB",battery:"78%",printer:"Connected"};m.useEffect(()=>{g()},[]);const x=(w,N,P)=>{p(C=>({...C,[w]:{...C[w],[N]:P}}))},g=async()=>{try{const w=await fetch("http://localhost:5001/api/settings",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),N=await fetch("http://localhost:5001/api/auth/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(w.ok){const P=await w.json();P.success&&P.data&&p(C=>({...C,pos:{...C.pos,defaultTax:parseFloat(P.data.defaultTax)||17,lowStockAlert:parseInt(P.data.lowStockAlert)||20,expiryAlert:parseInt(P.data.expiryAlert)||30,autoSync:P.data.autoSync==="true",offlineMode:P.data.offlineMode==="true",receiptPrinter:P.data.receiptPrinter||"EPSON TM-T20II"},pharmacy:{...C.pharmacy,name:P.data.pharmacyName||"Al-Shifa Pharmacy",address:P.data.pharmacyAddress||"Block A, Gulberg III, Lahore",phone:P.data.pharmacyPhone||"+92 42 1234567",email:P.data.pharmacyEmail||"info@alshifapharmacy.com",license:P.data.pharmacyLicense||"PHR-LHR-2024-001",taxNumber:P.data.pharmacyTaxNumber||"1234567890123"}}))}if(N.ok){const P=await N.json();P.success&&P.data&&p(C=>({...C,user:{...C.user,name:P.data.name||C.user.name,email:P.data.email||C.user.email,role:P.data.role||C.user.role,lastLogin:P.data.lastLogin||C.user.lastLogin}}))}}catch(w){console.error("Error loading settings:",w)}},y=async()=>{try{const w=await fetch("http://localhost:5001/api/settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({defaultTax:h.pos.defaultTax,lowStockAlert:h.pos.lowStockAlert,expiryAlert:h.pos.expiryAlert,autoSync:h.pos.autoSync,offlineMode:h.pos.offlineMode,receiptPrinter:h.pos.receiptPrinter,pharmacyName:h.pharmacy.name,pharmacyAddress:h.pharmacy.address,pharmacyPhone:h.pharmacy.phone,pharmacyEmail:h.pharmacy.email,pharmacyLicense:h.pharmacy.license,pharmacyTaxNumber:h.pharmacy.taxNumber})});if(w.ok)alert("Settings saved successfully!");else{const N=await w.json();alert(`Failed to save settings: ${N.message}`)}}catch(w){console.error("Error saving settings:",w),alert("Error saving settings. Please try again.")}},v=async()=>{if(!u||!o||!c){alert("Please fill in all password fields.");return}if(o!==c){alert("New passwords do not match. Please try again.");return}if(o.length<6){alert("Password must be at least 6 characters long.");return}try{const w=await fetch("http://localhost:5001/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({currentPassword:u,newPassword:o})});if(w.ok)alert("Password changed successfully!"),f(""),l(""),d(""),i(!1);else{const N=await w.json();alert(`Failed to change password: ${N.message}`)}}catch(w){console.error("Error changing password:",w),alert("Error changing password. Please try again.")}},j=async()=>{try{const w=await fetch("http://localhost:5001/api/auth/update-profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({name:h.user.name,email:h.user.email})});if(w.ok)alert("Profile updated successfully!"),s(!1);else{const N=await w.json();alert(`Failed to update profile: ${N.message}`)}}catch(w){console.error("Error updating profile:",w),alert("Error updating profile. Please try again.")}},S=()=>{const w=document.createElement("input");w.type="file",w.accept="image/*",w.onchange=async N=>{var C;const P=(C=N.target.files)==null?void 0:C[0];if(P){if(!P.type.startsWith("image/")){alert("Please select a valid image file.");return}if(P.size>5*1024*1024){alert("Image size must be less than 5MB.");return}try{alert("Profile picture updated successfully!")}catch(k){console.error("Profile picture update error:",k),alert("Failed to update profile picture. Please try again.")}}},w.click()};return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Settings"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your pharmacy POS configuration"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(z,{variant:"outline",children:[n.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Sync Now"]}),n.jsxs(z,{onClick:y,className:`text-white
             hover:opacity-90`,children:[n.jsx($i,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(TF,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Device Status"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:e?n.jsx(ET,{className:"w-8 h-8 text-success"}):n.jsx($F,{className:"w-8 h-8 text-warning"})}),n.jsx("p",{className:"text-sm font-medium text-foreground",children:b.connectivity}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Connection"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx(SF,{className:"w-8 h-8 text-accent"})}),n.jsx("p",{className:"text-sm font-medium text-foreground",children:b.lastSync}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Sync"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx(Ul,{className:"w-8 h-8 text-primary"})}),n.jsx("p",{className:"text-sm font-medium text-foreground",children:b.storage}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Storage"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx(Vr,{className:"w-8 h-8 text-success"})}),n.jsx("p",{className:"text-sm font-medium text-foreground",children:b.battery}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Battery"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx(Sc,{className:"w-8 h-8 text-warning"})}),n.jsx("p",{className:"text-sm font-medium text-foreground",children:b.printer}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Printer"})]})]})})]}),n.jsx("div",{className:"mb-6",children:n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(kr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"User Profile"})]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>s(!r),children:[n.jsx(Jn,{className:"w-4 h-4 mr-2"}),r?"Cancel":"Edit"]})]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xl font-semibold text-primary",children:h.user.name.charAt(0).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-foreground",children:h.user.name}),n.jsx(Ce,{variant:"outline",className:"bg-accent/10 text-accent border-accent/20",children:h.user.role}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Device: ",h.user.deviceId]})]})]}),r&&n.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"user-name",children:"Full Name"}),n.jsx(oe,{id:"user-name",value:h.user.name,onChange:w=>x("user","name",w.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"user-email",children:"Email"}),n.jsx(oe,{id:"user-email",type:"email",value:h.user.email||"",onChange:w=>x("user","email",w.target.value)})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(z,{onClick:j,className:"flex-1",children:[n.jsx($i,{className:"w-4 h-4 mr-2"}),"Save Changes"]}),n.jsxs(z,{variant:"outline",onClick:()=>s(!1),children:[n.jsx(ta,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Last Login"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:h.user.lastLogin})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ne,{children:"Change Password"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Update your account password"})]}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>i(!a),children:a?"Cancel":"Change"})]}),a&&n.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"current-password",children:"Current Password"}),n.jsx(oe,{id:"current-password",type:"password",value:u,onChange:w=>f(w.target.value),placeholder:"Enter current password"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"new-password",children:"New Password"}),n.jsx(oe,{id:"new-password",type:"password",value:o,onChange:w=>l(w.target.value),placeholder:"Enter new password"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"confirm-password",children:"Confirm New Password"}),n.jsx(oe,{id:"confirm-password",type:"password",value:c,onChange:w=>d(w.target.value),placeholder:"Confirm new password"})]}),n.jsxs(z,{onClick:v,className:"w-full",children:[n.jsx($i,{className:"w-4 h-4 mr-2"}),"Update Password"]})]})]}),n.jsx("div",{className:"space-y-3",children:n.jsx(z,{variant:"outline",className:"w-full",onClick:S,children:"Update Profile Picture"})})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(_o,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"POS Configuration"})]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ne,{htmlFor:"auto-sync",children:"Auto Sync"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically sync when online"})]}),n.jsx(ui,{id:"auto-sync",checked:h.pos.autoSync,onCheckedChange:w=>x("pos","autoSync",w)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ne,{htmlFor:"offline-mode",children:"Offline Mode"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow operations without internet"})]}),n.jsx(ui,{id:"offline-mode",checked:h.pos.offlineMode,onCheckedChange:w=>x("pos","offlineMode",w)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"receipt-printer",children:"Receipt Printer"}),n.jsx(oe,{id:"receipt-printer",value:h.pos.receiptPrinter,onChange:w=>x("pos","receiptPrinter",w.target.value)})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"default-tax",children:"Default Tax (%)"}),n.jsx(oe,{id:"default-tax",type:"number",value:h.pos.defaultTax||"",onChange:w=>x("pos","defaultTax",parseFloat(w.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"low-stock",children:"Low Stock Alert"}),n.jsx(oe,{id:"low-stock",type:"number",value:h.pos.lowStockAlert||"",onChange:w=>x("pos","lowStockAlert",parseInt(w.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"expiry-alert",children:"Expiry Alert (days)"}),n.jsx(oe,{id:"expiry-alert",type:"number",value:h.pos.expiryAlert||"",onChange:w=>x("pos","expiryAlert",parseInt(w.target.value)||0)})]})]})]})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Vr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Security & Notifications"})]})}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ne,{htmlFor:"require-pin",children:"Require PIN for transactions"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Extra security for sales"})]}),n.jsx(ui,{id:"require-pin",checked:h.security.requirePin,onCheckedChange:w=>x("security","requirePin",w)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ne,{htmlFor:"encrypt-data",children:"Encrypt local data"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure offline storage"})]}),n.jsx(ui,{id:"encrypt-data",checked:h.security.encryptData,onCheckedChange:w=>x("security","encryptData",w)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{children:n.jsx(ne,{htmlFor:"low-stock-notif",children:"Low stock notifications"})}),n.jsx(ui,{id:"low-stock-notif",checked:h.notifications.lowStock,onCheckedChange:w=>x("notifications","lowStock",w)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{children:n.jsx(ne,{htmlFor:"expiry-notif",children:"Expiry notifications"})}),n.jsx(ui,{id:"expiry-notif",checked:h.notifications.expiry,onCheckedChange:w=>x("notifications","expiry",w)})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{children:n.jsx(ne,{htmlFor:"sync-notif",children:"Sync notifications"})}),n.jsx(ui,{id:"sync-notif",checked:h.notifications.sync,onCheckedChange:w=>x("notifications","sync",w)})]})]})})]})]})]})},Zve=()=>n.jsx(Jve,{}),eye=()=>{const e=al();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),n.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var SE=1,tye=.9,rye=.8,nye=.17,my=.1,py=.999,sye=.9999,aye=.99,iye=/[\\\/_+.#"@\[\(\{&]/,oye=/[\\\/_+.#"@\[\(\{&]/g,lye=/[\s-]/,e$=/[\s-]/g;function vj(e,t,r,s,a,i,o){if(i===t.length)return a===e.length?SE:aye;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(i),d=r.indexOf(c,a),u=0,f,h,p,b;d>=0;)f=vj(e,t,r,s,d+1,i+1,o),f>u&&(d===a?f*=SE:iye.test(e.charAt(d-1))?(f*=rye,p=e.slice(a,d-1).match(oye),p&&a>0&&(f*=Math.pow(py,p.length))):lye.test(e.charAt(d-1))?(f*=tye,b=e.slice(a,d-1).match(e$),b&&a>0&&(f*=Math.pow(py,b.length))):(f*=nye,a>0&&(f*=Math.pow(py,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=sye)),(f<my&&r.charAt(d-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&r.charAt(d-1)!==s.charAt(i))&&(h=vj(e,t,r,s,d+1,i+2,o),h*my>f&&(f=h*my)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function PE(e){return e.toLowerCase().replace(e$," ")}function cye(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,vj(e,t,PE(e),PE(t),0,0,{})}var Xd='[cmdk-group=""]',xy='[cmdk-group-items=""]',dye='[cmdk-group-heading=""]',t$='[cmdk-item=""]',CE=`${t$}:not([aria-disabled="true"])`,yj="cmdk-item-select",Al="data-value",uye=(e,t,r)=>cye(e,t,r),r$=m.createContext(void 0),th=()=>m.useContext(r$),n$=m.createContext(void 0),n1=()=>m.useContext(n$),s$=m.createContext(void 0),a$=m.forwardRef((e,t)=>{let r=El(()=>{var A,U;return{search:"",value:(U=(A=e.value)!=null?A:e.defaultValue)!=null?U:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=El(()=>new Set),a=El(()=>new Map),i=El(()=>new Map),o=El(()=>new Set),l=i$(e),{label:c,children:d,value:u,onValueChange:f,filter:h,shouldFilter:p,loop:b,disablePointerSelection:x=!1,vimBindings:g=!0,...y}=e,v=Kr(),j=Kr(),S=Kr(),w=m.useRef(null),N=wye();Zo(()=>{if(u!==void 0){let A=u.trim();r.current.value=A,P.emit()}},[u]),Zo(()=>{N(6,q)},[]);let P=m.useMemo(()=>({subscribe:A=>(o.current.add(A),()=>o.current.delete(A)),snapshot:()=>r.current,setState:(A,U,ee)=>{var V,X,Q,le;if(!Object.is(r.current[A],U)){if(r.current[A]=U,A==="search")R(),D(),N(1,T);else if(A==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let H=document.getElementById(S);H?H.focus():(V=document.getElementById(v))==null||V.focus()}if(N(7,()=>{var H;r.current.selectedItemId=(H=$())==null?void 0:H.id,P.emit()}),ee||N(5,q),((X=l.current)==null?void 0:X.value)!==void 0){let H=U??"";(le=(Q=l.current).onValueChange)==null||le.call(Q,H);return}}P.emit()}},emit:()=>{o.current.forEach(A=>A())}}),[]),C=m.useMemo(()=>({value:(A,U,ee)=>{var V;U!==((V=i.current.get(A))==null?void 0:V.value)&&(i.current.set(A,{value:U,keywords:ee}),r.current.filtered.items.set(A,k(U,ee)),N(2,()=>{D(),P.emit()}))},item:(A,U)=>(s.current.add(A),U&&(a.current.has(U)?a.current.get(U).add(A):a.current.set(U,new Set([A]))),N(3,()=>{R(),D(),r.current.value||T(),P.emit()}),()=>{i.current.delete(A),s.current.delete(A),r.current.filtered.items.delete(A);let ee=$();N(4,()=>{R(),(ee==null?void 0:ee.getAttribute("id"))===A&&T(),P.emit()})}),group:A=>(a.current.has(A)||a.current.set(A,new Set),()=>{i.current.delete(A),a.current.delete(A)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:v,inputId:S,labelId:j,listInnerRef:w}),[]);function k(A,U){var ee,V;let X=(V=(ee=l.current)==null?void 0:ee.filter)!=null?V:uye;return A?X(A,r.current.search,U):0}function D(){if(!r.current.search||l.current.shouldFilter===!1)return;let A=r.current.filtered.items,U=[];r.current.filtered.groups.forEach(V=>{let X=a.current.get(V),Q=0;X.forEach(le=>{let H=A.get(le);Q=Math.max(H,Q)}),U.push([V,Q])});let ee=w.current;B().sort((V,X)=>{var Q,le;let H=V.getAttribute("id"),ce=X.getAttribute("id");return((Q=A.get(ce))!=null?Q:0)-((le=A.get(H))!=null?le:0)}).forEach(V=>{let X=V.closest(xy);X?X.appendChild(V.parentElement===X?V:V.closest(`${xy} > *`)):ee.appendChild(V.parentElement===ee?V:V.closest(`${xy} > *`))}),U.sort((V,X)=>X[1]-V[1]).forEach(V=>{var X;let Q=(X=w.current)==null?void 0:X.querySelector(`${Xd}[${Al}="${encodeURIComponent(V[0])}"]`);Q==null||Q.parentElement.appendChild(Q)})}function T(){let A=B().find(ee=>ee.getAttribute("aria-disabled")!=="true"),U=A==null?void 0:A.getAttribute(Al);P.setState("value",U||void 0)}function R(){var A,U,ee,V;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let X=0;for(let Q of s.current){let le=(U=(A=i.current.get(Q))==null?void 0:A.value)!=null?U:"",H=(V=(ee=i.current.get(Q))==null?void 0:ee.keywords)!=null?V:[],ce=k(le,H);r.current.filtered.items.set(Q,ce),ce>0&&X++}for(let[Q,le]of a.current)for(let H of le)if(r.current.filtered.items.get(H)>0){r.current.filtered.groups.add(Q);break}r.current.filtered.count=X}function q(){var A,U,ee;let V=$();V&&(((A=V.parentElement)==null?void 0:A.firstChild)===V&&((ee=(U=V.closest(Xd))==null?void 0:U.querySelector(dye))==null||ee.scrollIntoView({block:"nearest"})),V.scrollIntoView({block:"nearest"}))}function $(){var A;return(A=w.current)==null?void 0:A.querySelector(`${t$}[aria-selected="true"]`)}function B(){var A;return Array.from(((A=w.current)==null?void 0:A.querySelectorAll(CE))||[])}function I(A){let U=B()[A];U&&P.setState("value",U.getAttribute(Al))}function L(A){var U;let ee=$(),V=B(),X=V.findIndex(le=>le===ee),Q=V[X+A];(U=l.current)!=null&&U.loop&&(Q=X+A<0?V[V.length-1]:X+A===V.length?V[0]:V[X+A]),Q&&P.setState("value",Q.getAttribute(Al))}function E(A){let U=$(),ee=U==null?void 0:U.closest(Xd),V;for(;ee&&!V;)ee=A>0?bye(ee,Xd):jye(ee,Xd),V=ee==null?void 0:ee.querySelector(CE);V?P.setState("value",V.getAttribute(Al)):L(A)}let _=()=>I(B().length-1),O=A=>{A.preventDefault(),A.metaKey?_():A.altKey?E(1):L(1)},M=A=>{A.preventDefault(),A.metaKey?I(0):A.altKey?E(-1):L(-1)};return m.createElement(Qe.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:A=>{var U;(U=y.onKeyDown)==null||U.call(y,A);let ee=A.nativeEvent.isComposing||A.keyCode===229;if(!(A.defaultPrevented||ee))switch(A.key){case"n":case"j":{g&&A.ctrlKey&&O(A);break}case"ArrowDown":{O(A);break}case"p":case"k":{g&&A.ctrlKey&&M(A);break}case"ArrowUp":{M(A);break}case"Home":{A.preventDefault(),I(0);break}case"End":{A.preventDefault(),_();break}case"Enter":{A.preventDefault();let V=$();if(V){let X=new Event(yj);V.dispatchEvent(X)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:Sye},c),Ug(e,A=>m.createElement(n$.Provider,{value:P},m.createElement(r$.Provider,{value:C},A))))}),fye=m.forwardRef((e,t)=>{var r,s;let a=Kr(),i=m.useRef(null),o=m.useContext(s$),l=th(),c=i$(e),d=(s=(r=c.current)==null?void 0:r.forceMount)!=null?s:o==null?void 0:o.forceMount;Zo(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=o$(a,i,[e.value,e.children,i],e.keywords),f=n1(),h=Hi(N=>N.value&&N.value===u.current),p=Hi(N=>d||l.filter()===!1?!0:N.search?N.filtered.items.get(a)>0:!0);m.useEffect(()=>{let N=i.current;if(!(!N||e.disabled))return N.addEventListener(yj,b),()=>N.removeEventListener(yj,b)},[p,e.onSelect,e.disabled]);function b(){var N,P;x(),(P=(N=c.current).onSelect)==null||P.call(N,u.current)}function x(){f.setState("value",u.current,!0)}if(!p)return null;let{disabled:g,value:y,onSelect:v,forceMount:j,keywords:S,...w}=e;return m.createElement(Qe.div,{ref:Ha(i,t),...w,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!h,"data-disabled":!!g,"data-selected":!!h,onPointerMove:g||l.getDisablePointerSelection()?void 0:x,onClick:g?void 0:b},e.children)}),hye=m.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:a,...i}=e,o=Kr(),l=m.useRef(null),c=m.useRef(null),d=Kr(),u=th(),f=Hi(p=>a||u.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Zo(()=>u.group(o),[]),o$(o,l,[e.value,e.heading,c]);let h=m.useMemo(()=>({id:o,forceMount:a}),[a]);return m.createElement(Qe.div,{ref:Ha(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&m.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),Ug(e,p=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},m.createElement(s$.Provider,{value:h},p))))}),mye=m.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,a=m.useRef(null),i=Hi(o=>!o.search);return!r&&!i?null:m.createElement(Qe.div,{ref:Ha(a,t),...s,"cmdk-separator":"",role:"separator"})}),pye=m.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,a=e.value!=null,i=n1(),o=Hi(d=>d.search),l=Hi(d=>d.selectedItemId),c=th();return m.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),m.createElement(Qe.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),xye=m.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...a}=e,i=m.useRef(null),o=m.useRef(null),l=Hi(d=>d.selectedItemId),c=th();return m.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=d.offsetHeight;u.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(f),h.unobserve(d)}}},[]),m.createElement(Qe.div,{ref:Ha(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":s,id:c.listId},Ug(e,d=>m.createElement("div",{ref:Ha(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),gye=m.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...l}=e;return m.createElement(Kw,{open:r,onOpenChange:s},m.createElement(Gw,{container:o},m.createElement(qf,{"cmdk-overlay":"",className:a}),m.createElement(Hf,{"aria-label":e.label,"cmdk-dialog":"",className:i},m.createElement(a$,{ref:t,...l}))))}),vye=m.forwardRef((e,t)=>Hi(r=>r.filtered.count===0)?m.createElement(Qe.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),yye=m.forwardRef((e,t)=>{let{progress:r,children:s,label:a="Loading...",...i}=e;return m.createElement(Qe.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Ug(e,o=>m.createElement("div",{"aria-hidden":!0},o)))}),$n=Object.assign(a$,{List:xye,Item:fye,Input:pye,Group:hye,Separator:mye,Dialog:gye,Empty:vye,Loading:yye});function bye(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function jye(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function i$(e){let t=m.useRef(e);return Zo(()=>{t.current=e}),t}var Zo=typeof window>"u"?m.useEffect:m.useLayoutEffect;function El(e){let t=m.useRef();return t.current===void 0&&(t.current=e()),t}function Hi(e){let t=n1(),r=()=>e(t.snapshot());return m.useSyncExternalStore(t.subscribe,r,r)}function o$(e,t,r,s=[]){let a=m.useRef(),i=th();return Zo(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=s.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Al,l),a.current=l}),a}var wye=()=>{let[e,t]=m.useState(),r=El(()=>new Map);return Zo(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),t({})}};function Nye(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ug({asChild:e,children:t},r){return e&&m.isValidElement(t)?m.cloneElement(Nye(t),{ref:t.ref},r(t.props.children)):r(t)}var Sye={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const l$=m.forwardRef(({className:e,...t},r)=>n.jsx($n,{ref:r,className:Oe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));l$.displayName=$n.displayName;const c$=m.forwardRef(({className:e,...t},r)=>n.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[n.jsx(Or,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),n.jsx($n.Input,{ref:r,className:Oe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));c$.displayName=$n.Input.displayName;const d$=m.forwardRef(({className:e,...t},r)=>n.jsx($n.List,{ref:r,className:Oe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));d$.displayName=$n.List.displayName;const u$=m.forwardRef((e,t)=>n.jsx($n.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));u$.displayName=$n.Empty.displayName;const f$=m.forwardRef(({className:e,...t},r)=>n.jsx($n.Group,{ref:r,className:Oe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));f$.displayName=$n.Group.displayName;const Pye=m.forwardRef(({className:e,...t},r)=>n.jsx($n.Separator,{ref:r,className:Oe("-mx-1 h-px bg-border",e),...t}));Pye.displayName=$n.Separator.displayName;const bj=m.forwardRef(({className:e,...t},r)=>n.jsx($n.Item,{ref:r,className:Oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));bj.displayName=$n.Item.displayName;var zg="Popover",[h$,eje]=vs(zg,[Yi]),rh=Yi(),[Cye,ao]=h$(zg),m$=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=rh(t),c=m.useRef(null),[d,u]=m.useState(!1),[f,h]=ha({prop:s,defaultProp:a??!1,onChange:i,caller:zg});return n.jsx(Ex,{...l,children:n.jsx(Cye,{scope:t,contentId:Kr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:r})})};m$.displayName=zg;var p$="PopoverAnchor",Aye=m.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=ao(p$,r),i=rh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(Uf,{...i,...s,ref:t})});Aye.displayName=p$;var x$="PopoverTrigger",g$=m.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=ao(x$,r),i=rh(r),o=Ct(t,a.triggerRef),l=n.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":w$(a.open),...s,ref:o,onClick:Fe(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(Uf,{asChild:!0,...i,children:l})});g$.displayName=x$;var s1="PopoverPortal",[Eye,Oye]=h$(s1,{forceMount:void 0}),v$=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=ao(s1,t);return n.jsx(Eye,{scope:t,forceMount:r,children:n.jsx(ts,{present:r||i.open,children:n.jsx(ad,{asChild:!0,container:a,children:s})})})};v$.displayName=s1;var Zc="PopoverContent",y$=m.forwardRef((e,t)=>{const r=Oye(Zc,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=ao(Zc,e.__scopePopover);return n.jsx(ts,{present:s||i.open,children:i.modal?n.jsx(Tye,{...a,ref:t}):n.jsx(Iye,{...a,ref:t})})});y$.displayName=Zc;var kye=zi("PopoverContent.RemoveScroll"),Tye=m.forwardRef((e,t)=>{const r=ao(Zc,e.__scopePopover),s=m.useRef(null),a=Ct(t,s),i=m.useRef(!1);return m.useEffect(()=>{const o=s.current;if(o)return Fx(o)},[]),n.jsx(Vf,{as:kye,allowPinchZoom:!0,children:n.jsx(b$,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Fe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Iye=m.forwardRef((e,t)=>{const r=ao(Zc,e.__scopePopover),s=m.useRef(!1),a=m.useRef(!1);return n.jsx(b$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),b$=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,h=ao(Zc,r),p=rh(r);return $x(),n.jsx(zf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(nl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:n.jsx(Ox,{"data-state":w$(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),j$="PopoverClose",_ye=m.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=ao(j$,r);return n.jsx(Qe.button,{type:"button",...s,ref:t,onClick:Fe(e.onClick,()=>a.onOpenChange(!1))})});_ye.displayName=j$;var Rye="PopoverArrow",Mye=m.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=rh(r);return n.jsx(kx,{...a,...s,ref:t})});Mye.displayName=Rye;function w$(e){return e?"open":"closed"}var Dye=m$,$ye=g$,Lye=v$,N$=y$;const Fye=Dye,Bye=$ye,S$=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(Lye,{children:n.jsx(N$,{ref:a,align:t,sideOffset:r,className:Oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));S$.displayName=N$.displayName;const P$=()=>{var xe,Z,Pe,Ne,K,ge,we,De,We,Ue;const e=m.useRef(0);e.current++,console.log(`AdminDashboard render #${e.current}`);const{logout:t}=Jt(),{selectedBranchId:r,setSelectedBranchId:s,allBranches:a,selectedBranch:i}=Ji();m.useCallback(()=>{t()},[t]),m.useState(!0);const[o,l]=m.useState(!0),[c,d]=m.useState(null),[u,f]=m.useState(null),[h,p]=m.useState(null),[b,x]=m.useState(null),[g,y]=m.useState(!1),[v,j]=m.useState([]),[S,w]=m.useState(!1),[N,P]=m.useState(!1),[C,k]=m.useState([]),[D,T]=m.useState(!1),[R,q]=m.useState(!1),[$,B]=m.useState(null),[I,L]=m.useState([]),[E,_]=m.useState([]),[O,M]=m.useState(0),[A,U]=m.useState(0),[ee,V]=m.useState(new Date);m.useRef(null);const[X,Q]=m.useState(!1),[le,H]=m.useState(!1),[ce,se]=m.useState(0),Y=m.useCallback(async()=>{var de;try{if(l(!0),d(null),!localStorage.getItem("token")){d("Authentication required. Please log in.");return}const ie=JSON.parse(localStorage.getItem("medibill_user")||"{}");B(ie);const fe=ie.role,he=ie.id,Ve=ie.branchId||((de=ie.branch)==null?void 0:de.id),[He,be,Je]=await Promise.all([pe.getSales({page:1,limit:100}),pe.getProducts({page:1,limit:100}),pe.getUsers({page:1,limit:100})]);if(He.success&&He.data){const ue=He.data.sales||[];L(ue);const $e=ue.reduce((wt,Ze)=>wt+(Ze.totalAmount||0),0),Be=ue.length;M($e),U(Be),f({totalRevenue:$e,totalSales:Be,totalUsers:0,recentSales:ue.slice(0,10),lowStockProducts:[]})}else d("Failed to load sales data");if(be.success&&be.data){const ue=be.data.products||[];_(ue);const $e=ue.filter(Be=>Be.stock<=Be.minStock);f(Be=>({...Be,lowStockProducts:$e})),j(ue.slice(0,10))}else d("Failed to load products data");if(Je.success&&Je.data){const ue=Je.data.users||[];let $e=ue;fe==="ADMIN"?$e=ue.filter(Be=>Be.role==="MANAGER"||Be.role==="CASHIER"):fe==="SUPERADMIN"&&($e=ue.filter(Be=>Be.role==="ADMIN"||Be.role==="MANAGER"||Be.role==="CASHIER")),k($e),f(Be=>({...Be,totalUsers:$e.length}))}}catch(G){console.error("Error loading dashboard data:",G),d("Failed to load dashboard data")}finally{l(!1)}},[]);m.useEffect(()=>{Y()},[Y]);const Ee=m.useMemo(()=>{if(!r)return{sales:I,products:E,users:C,revenue:O,totalSales:A};const de=I.filter(Ve=>Ve.branchId===r),G=E.filter(Ve=>Ve.branchId===r),ie=C.filter(Ve=>Ve.branchId===r),fe=de.reduce((Ve,He)=>Ve+(He.totalAmount||0),0),he=de.length;return{sales:de,products:G,users:ie,revenue:fe,totalSales:he}},[r,I,E,C,O,A]),ye=m.useCallback(de=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0,maximumFractionDigits:0}).format(de),[]),J=m.useCallback(de=>new Date(de).toLocaleDateString("en-PK",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),[]);m.useCallback(de=>{const G=new Date,ie=new Date(de),fe=Math.floor((G.getTime()-ie.getTime())/(1e3*60*60));if(fe<1)return"Just now";if(fe<24)return`${fe} hours ago`;const he=Math.floor(fe/24);return he<7?`${he} days ago`:`${Math.floor(he/7)} weeks ago`},[]);const ke=m.useCallback(async de=>{if(!o){if(!de||!de.id){console.error("Invalid branch data:",de),d("Invalid branch data");return}try{p(de),l(!0);const[G,ie,fe]=await Promise.all([pe.getDashboardStats(de.id),pe.getProducts({branchId:de.id,lowStock:!0,limit:50}),pe.getCustomers({branchId:de.id,limit:10})]);G.success&&G.data&&(x({...G.data,lowStockProducts:ie.success?ie.data.products:[],recentCustomers:fe.success?fe.data.customers:[],branchInfo:de}),y(!0))}catch(G){console.error("Error loading branch details:",G),d("Failed to load branch details"),y(!1)}finally{l(!1)}}},[o]),Me=m.useMemo(()=>[{title:r?`${i==null?void 0:i.name} Revenue`:"Total Revenue",value:ye(Ee.revenue||0),change:r?"Branch Data":"All Data",icon:ar,trend:"up",trendValue:"+12.5%",description:"vs last month"},{title:r?`${i==null?void 0:i.name} Sales`:"Total Sales",value:Ee.totalSales.toString(),change:r?"Branch Data":"All Data",icon:qr,trend:"up",trendValue:"+8.2%",description:"vs last month"},{title:r?`${i==null?void 0:i.name} Products`:"Total Products",value:Ee.products.length.toString(),change:r?"Branch Data":"All Data",icon:cr,trend:"up",trendValue:"+5.1%",description:"vs last month"},{title:($==null?void 0:$.role)==="ADMIN"?"All My Branches":"Total Branches",value:a.length.toString(),change:"Real Data",icon:Wt,trend:"up",trendValue:"+2.0%",description:"vs last month"},{title:r?`${i==null?void 0:i.name} Users`:($==null?void 0:$.role)==="ADMIN"?"All My Users":"Total Users",value:r?Ee.users.length.toString():C.length.toString(),change:r?"Branch Data":"All Data",icon:yt,trend:"up",trendValue:"+15.3%",description:"vs last month"}],[Ee.revenue,Ee.totalSales,Ee.products.length,Ee.users.length,a.length,C.length,$==null?void 0:$.role,r,i==null?void 0:i.name,ye]);m.useMemo(()=>({date:ee.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:ee.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}),[ee]);const Le=m.useCallback(()=>{w(!S)},[S]),Te=m.useCallback(()=>{P(!N)},[N]),mt=m.useCallback(()=>{T(!D)},[D]),ct=m.useCallback(()=>{q(!R)},[R]),Ye=m.useCallback(()=>{y(!1)},[]),ut=m.useCallback(()=>{window.location.href="/admin/branches"},[]),_t=m.useCallback(()=>{window.location.href="/admin/users"},[]),Vt=m.useCallback(de=>{s(de),Q(!1)},[s]);return m.useCallback(()=>{H(!le)},[le]),o?n.jsx("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard data..."})]})})}):c?n.jsx("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(oa,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("p",{className:"text-destructive mb-4",children:c}),n.jsx(z,{onClick:Y,children:"Retry"})]})})}):n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:($==null?void 0:$.role)==="ADMIN"?"Admin Dashboard":"Super Admin Dashboard"}),n.jsx("p",{className:"text-muted-foreground text-sm mt-[5pxf]",children:r?`Overview of ${i==null?void 0:i.name} branch operations`:($==null?void 0:$.role)==="ADMIN"?"Overview of all your branches, revenue, users, and products":"Complete overview of all pharmacy operations"})]}),n.jsx("div",{className:"w-full sm:w-80",children:n.jsxs(Fye,{open:X,onOpenChange:Q,children:[n.jsx(Bye,{asChild:!0,children:n.jsxs(z,{variant:"outline",role:"combobox","aria-expanded":X,className:"w-full justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ma,{className:"w-4 h-4"}),n.jsx("span",{className:"truncate",children:r?i==null?void 0:i.name:"All Branches"})]}),n.jsx(ww,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(S$,{className:"w-80 p-0",children:n.jsxs(l$,{children:[n.jsx(c$,{placeholder:"Search branches..."}),n.jsxs(d$,{children:[n.jsx(u$,{children:"No branches found."}),n.jsxs(f$,{children:[n.jsxs(bj,{value:"all-branches",onSelect:()=>Vt(null),children:[n.jsx(Wt,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"All Branches"}),!r&&n.jsx(ur,{className:"ml-auto h-4 w-4"})]}),a.map(de=>n.jsxs(bj,{value:de.name,onSelect:()=>Vt(de.id),children:[n.jsx(Wt,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"truncate",children:de.name}),n.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:de.address}),r===de.id&&n.jsx(ur,{className:"ml-auto h-4 w-4"})]},de.id))]})]})]})})]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:Me.map((de,G)=>{const ie=de.icon,fe=ce===G;return n.jsx(te,{className:`
                shadow-soft border-0 transition-all duration-300 cursor-pointer group
                ${fe?"bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] text-white shadow-lg scale-105":"bg-white hover:bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:shadow-lg hover:scale-105"}
              `,onClick:()=>{},children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm font-medium mb-2 ${fe?"text-white/90":"text-gray-600 group-hover:text-white/90"}`,children:de.title}),n.jsx("p",{className:`text-2xl font-bold mb-2 ${fe?"text-white":"text-gray-900 group-hover:text-white"}`,children:de.value}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ar,{className:`w-4 h-4 mr-1 ${fe?"text-white":"text-green-600 group-hover:text-white"}`}),n.jsx("span",{className:`text-sm font-medium ${fe?"text-white":"text-green-600 group-hover:text-white"}`,children:de.trendValue})]}),n.jsx("span",{className:`text-xs ${fe?"text-white/80":"text-gray-500 group-hover:text-white/80"}`,children:de.description})]})]}),n.jsx("div",{className:`p-4 rounded-xl ml-4 ${fe?"bg-white/20":"bg-gray-100 group-hover:bg-white/20"}`,children:n.jsx(ie,{className:`w-8 h-8 ${fe?"text-white":"text-gray-600 group-hover:text-white"}`})})]})})},G)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(te,{className:"lg:col-span-2 shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(qr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Recent Sales"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-3",children:((xe=Ee.sales)==null?void 0:xe.length)>0?n.jsxs(n.Fragment,{children:[(S?Ee.sales:Ee.sales.slice(0,4)).map((de,G)=>{var ie,fe,he;return n.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"font-medium text-foreground text-sm",children:((ie=de.customer)==null?void 0:ie.name)||"Walk-in Customer"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:ye(de.totalAmount)})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("p",{children:["Branch: ",(fe=de.branch)==null?void 0:fe.name]}),n.jsxs("p",{children:["Cashier: ",(he=de.user)==null?void 0:he.name]}),n.jsxs("p",{children:["Time: ",J(de.createdAt)]})]})]},G)}),Ee.sales.length>4&&n.jsx(z,{variant:"outline",className:"w-full mt-3",onClick:Le,children:S?"Show Less":`View More (${Ee.sales.length-4} more)`})]}):n.jsx("p",{className:"text-muted-foreground text-center py-4",children:r?`No recent sales found for ${i==null?void 0:i.name}`:"No recent sales found"})})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(oa,{className:"w-5 h-5 text-warning"}),n.jsx("span",{children:"Low Stock Alert"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-3",children:(()=>{const de=Ee.products.filter(G=>G.stock<=G.minStock);return de.length>0?n.jsxs(n.Fragment,{children:[(N?de:de.slice(0,4)).map((G,ie)=>{var fe;return n.jsxs("div",{className:"p-3 bg-warning/10 rounded-lg border border-warning/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"font-medium text-foreground text-sm",children:G.name}),n.jsxs(Ce,{variant:"outline",className:"text-xs bg-warning/20 text-warning border-warning/30",children:[G.stock," ",G.unitType]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("p",{children:["Branch: ",(fe=G.branch)==null?void 0:fe.name]}),n.jsxs("p",{children:["Min Stock: ",G.minStock," ",G.unitType]})]})]},ie)}),de.length>4&&n.jsx(z,{variant:"outline",className:"w-full mt-3",onClick:Te,children:N?"Show Less":`View More (${de.length-4} more)`})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ur,{className:"w-8 h-8 text-success"})}),n.jsx("p",{className:"text-success font-medium text-lg",children:r?`All products in ${i==null?void 0:i.name} are well stocked!`:"All products are well stocked!"}),n.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:r?"No low stock alerts for this branch":"No low stock alerts at this time"})]})})()})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(te,{className:"lg:col-span-2 shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-5 h-5 text-primary"}),n.jsxs("span",{children:[($==null?void 0:$.role)==="ADMIN"?"All My Branches":"All Branches"," (",a.length,")"]})]}),($==null?void 0:$.role)!=="ADMIN"&&n.jsx(z,{variant:"outline",size:"sm",onClick:mt,children:D?"Show Less":"Show All"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-3",children:[(($==null?void 0:$.role)==="ADMIN"||D?a:a.slice(0,4)).map((de,G)=>n.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>ke(de),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(Wt,{className:"w-4 h-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground text-sm",children:de.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:de.address})]})]}),n.jsx(Ce,{variant:"outline",className:de.isActive?"bg-success/10 text-success border-success/20":"bg-muted/50 text-muted-foreground border-border",children:de.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center space-x-4",children:[n.jsxs("span",{children:[" ",de.phone]}),n.jsxs("span",{children:[" ",de.email]}),n.jsx("span",{className:"text-primary",children:"Click for details"})]})]},G)),a.length===0&&n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No branches found"}),n.jsxs(z,{variant:"outline",className:"w-full",size:"sm",onClick:ut,children:[n.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Manage Branches"]})]})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-5 h-5 text-primary"}),n.jsxs("span",{children:[($==null?void 0:$.role)==="ADMIN"?"All My Users":"All Users"," (",C.length,")"]})]}),($==null?void 0:$.role)!=="ADMIN"&&n.jsx(z,{variant:"outline",size:"sm",onClick:ct,children:R?"Show Less":"Show All"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-3",children:[(($==null?void 0:$.role)==="ADMIN"||R?C:C.slice(0,4)).map((de,G)=>{var ie;return n.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-medium text-primary",children:de.name.split(" ").map(fe=>fe[0]).join("")})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground text-sm",children:de.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",de.username]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ce,{variant:"outline",className:de.role==="SUPERADMIN"?"bg-red-100 text-red-800 border-red-200":de.role==="ADMIN"?"bg-orange-100 text-orange-800 border-orange-200":de.role==="MANAGER"?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-800 border-gray-200",children:de.role}),n.jsx(Ce,{variant:"outline",className:de.isActive?"bg-success/10 text-success border-success/20":"bg-muted/50 text-muted-foreground border-border",children:de.isActive?"Active":"Inactive"})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("p",{children:[" ",de.email]}),n.jsxs("p",{children:[" ",((ie=de.branch)==null?void 0:ie.name)||"No Branch"]})]})]},G)}),C.length===0&&n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No users found"}),n.jsxs(z,{variant:"outline",className:"w-full",size:"sm",onClick:_t,children:[n.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Manage Users"]})]})})]})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Kn,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:r?`${i==null?void 0:i.name} Products`:"Products From All Branches"}),n.jsxs(Ce,{variant:"secondary",className:"ml-2",children:[Ee.products.length," ",Ee.products.length===1?"Product":"Products"]})]})}),n.jsx(re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"#"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Product Name"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Branch"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Stock"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Price"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Category"})]})}),n.jsx("tbody",{children:Ee.products.length>0?Ee.products.map((de,G)=>{var ie,fe;return n.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsxs("span",{className:"text-sm font-bold text-primary",children:["#",G+1]})})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:de.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:de.description||"No description"})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx(Ce,{variant:"outline",className:"text-xs",children:((ie=de.branch)==null?void 0:ie.name)||"Unknown Branch"})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:`text-sm font-medium ${de.stock<=de.minStock?"text-red-600":"text-green-600"}`,children:[de.stock," ",de.unitType]}),de.stock<=de.minStock&&n.jsx(Ce,{variant:"destructive",className:"text-xs",children:"Low Stock"})]})}),n.jsx("td",{className:"py-4 px-4 text-muted-foreground",children:ye(de.sellingPrice)}),n.jsx("td",{className:"py-4 px-4",children:n.jsx(Ce,{variant:"secondary",className:"text-xs",children:((fe=de.category)==null?void 0:fe.name)||"Uncategorized"})})]},de.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"py-8 px-4 text-center text-muted-foreground",children:r?`No products found for ${i==null?void 0:i.name}`:"No products data available"})})})]})})})]}),g&&b&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:[(Z=b.branchInfo)==null?void 0:Z.name," Dashboard"]}),n.jsx("p",{className:"text-muted-foreground",children:"Branch-specific overview and analytics"})]}),n.jsx(z,{variant:"outline",onClick:Ye,className:"text-gray-500 hover:text-gray-700",children:n.jsx(ta,{className:"w-4 h-4"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),n.jsx("p",{className:"text-xl font-bold text-foreground",children:ye(((Pe=b.totalStats)==null?void 0:Pe.revenue)||0)})]}),n.jsx(ar,{className:"w-8 h-8 text-primary"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"}),n.jsx("p",{className:"text-xl font-bold text-foreground",children:(((Ne=b.totalStats)==null?void 0:Ne.sales)||0).toLocaleString()})]}),n.jsx(qr,{className:"w-8 h-8 text-accent"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Products"}),n.jsx("p",{className:"text-xl font-bold text-foreground",children:(((K=b.inventory)==null?void 0:K.totalProducts)||0).toLocaleString()})]}),n.jsx(cr,{className:"w-8 h-8 text-success"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Customers"}),n.jsx("p",{className:"text-xl font-bold text-foreground",children:(((ge=b.customers)==null?void 0:ge.total)||0).toLocaleString()})]}),n.jsx(yt,{className:"w-8 h-8 text-warning"})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(qr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Recent Sales"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-3",children:((we=b.recentSales)==null?void 0:we.length)>0?b.recentSales.map((de,G)=>{var ie,fe;return n.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"font-medium text-foreground text-sm",children:((ie=de.customer)==null?void 0:ie.name)||"Walk-in Customer"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:ye(de.totalAmount)})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("p",{children:["Cashier: ",(fe=de.user)==null?void 0:fe.name]}),n.jsxs("p",{children:["Time: ",J(de.createdAt)]})]})]},G)}):n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No recent sales found"})})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Recent Customers"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-3",children:((De=b.recentCustomers)==null?void 0:De.length)>0?b.recentCustomers.map((de,G)=>n.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"font-medium text-foreground text-sm",children:de.name}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:ye(de.totalPurchases||0)})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.jsxs("p",{children:["Phone: ",de.phone]}),n.jsxs("p",{children:["Points: ",de.loyaltyPoints||0]})]})]},G)):n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No customers found"})})})]})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(oa,{className:"w-5 h-5 text-warning"}),n.jsxs("span",{children:["Low Stock Alert - ",(We=b.branchInfo)==null?void 0:We.name]})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-3",children:((Ue=b.lowStockProducts)==null?void 0:Ue.length)>0?b.lowStockProducts.map((de,G)=>n.jsxs("div",{className:"p-3 bg-warning/10 rounded-lg border border-warning/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"font-medium text-foreground text-sm",children:de.name}),n.jsxs(Ce,{variant:"outline",className:"text-xs bg-warning/20 text-warning border-warning/30",children:[de.stock," ",de.unitType]})]}),n.jsx("div",{className:"text-xs text-muted-foreground",children:n.jsxs("p",{children:["Min Stock: ",de.minStock," ",de.unitType]})})]},G)):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ur,{className:"w-8 h-8 text-success"})}),n.jsx("p",{className:"text-success font-medium text-lg",children:"All products are well stocked!"}),n.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"No low stock alerts for this branch"})]})})})]})]})]})})]})},Uye=()=>{var ee;const{user:e}=Jt(),[t,r]=m.useState([]),[s,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(""),[d,u]=m.useState(""),[f,h]=m.useState(!1),[p,b]=m.useState(!1),[x,g]=m.useState(!1),[y,v]=m.useState(!1),[j,S]=m.useState(null),[w,N]=m.useState(""),[P,C]=m.useState("all"),D=(e==null?void 0:e.role)==="SUPERADMIN"?[{id:"ADMIN",label:"Admin",icon:_o,description:"Branch administration"},{id:"MANAGER",label:"Manager",icon:TS,description:"Branch management"},{id:"CASHIER",label:"Cashier",icon:yt,description:"Sales and billing"}]:(e==null?void 0:e.role)==="ADMIN"?[{id:"MANAGER",label:"Manager",icon:TS,description:"Branch management"},{id:"CASHIER",label:"Cashier",icon:yt,description:"Sales and billing"}]:[],[T,R]=m.useState({name:"",email:"",username:"",branchId:"",role:"",password:""});m.useEffect(()=>{q(),$()},[]);const q=async()=>{var V;try{if(o(!0),c(""),!e){c("User not authenticated");return}const X=(e==null?void 0:e.branchId)||((V=e==null?void 0:e.branch)==null?void 0:V.id),Q=e==null?void 0:e.id,le=e==null?void 0:e.role;try{const H=localStorage.getItem("token");console.log("Making direct API call with token:",H?"Present":"Missing");const ce=await fetch("http://localhost:5001/api/users?page=1&limit=100",{method:"GET",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}});if(ce.ok){const se=await ce.json();if(se.success&&se.data&&se.data.users){const Y=se.data.users.map(ye=>({id:ye.id,username:ye.username,name:ye.name,email:ye.email,role:ye.role,branchId:ye.branchId,branch:ye.branch,createdBy:ye.createdBy,isActive:ye.isActive,createdAt:ye.createdAt,updatedAt:ye.updatedAt})),Ee=Y.filter(ye=>le==="ADMIN"?(ye.role==="MANAGER"||ye.role==="CASHIER")&&ye.createdBy===Q:le==="SUPERADMIN"?ye.role==="ADMIN"||ye.role==="MANAGER"||ye.role==="CASHIER":ye.role==="MANAGER"||ye.role==="CASHIER");r(Ee),Ee.length===0&&c(`Found ${Y.length} users but none are MANAGER or CASHIER roles. Only ${Y.map(ye=>ye.role).join(", ")} roles found.`)}else console.error("API response not successful:",se),c(se.message||"Failed to load users")}else{const se=await ce.json();console.error("API call failed:",se),c(`API Error: ${se.message||"Failed to load users"}`)}}catch(H){console.error("Direct API call failed:",H),c("Failed to load users. Please check your connection and try again.")}}catch(X){console.error("Error loading users:",X),c("Failed to load users. Please try again.")}finally{o(!1)}},$=async()=>{try{const V=await pe.getBranches();if(V.success&&V.data){const X=Array.isArray(V.data)?V.data:V.data.branches;a(X.map(Q=>({id:Q.id,name:Q.name})))}}catch(V){console.error("Error loading branches:",V)}},B=t.filter(V=>{var le;const X=V.name.toLowerCase().includes(w.toLowerCase())||V.email.toLowerCase().includes(w.toLowerCase())||V.username.toLowerCase().includes(w.toLowerCase()),Q=P==="all"||((le=V.branch)==null?void 0:le.name)===P;return X&&Q}),I=async()=>{var X,Q;const V=(e==null?void 0:e.role)==="SUPERADMIN"&&T.role==="ADMIN";if(!T.name||!T.email||!T.username||!T.role||!T.password||!V&&!T.branchId){c("Please fill in all required fields including username and branch selection!");return}try{o(!0);const le=V?null:T.branchId;console.log("Creating user with data:",{username:T.username,email:T.email,password:T.password,name:T.name,role:T.role,branchId:le,isSuperAdminCreatingAdmin:V});const H=await pe.createUser({username:T.username,email:T.email,password:T.password,name:T.name,role:T.role,branchId:le});H.success&&H.data?(u(`User created successfully! Username: ${T.username}, Password: ${T.password}`),c(""),R({name:"",email:"",username:"",branchId:"",role:"",password:""}),h(!1),N(""),C("all"),await q()):(console.error("Create user failed:",H),c(H.message||"Failed to create user"))}catch(le){console.error("Error creating user:",le);const H=((Q=(X=le==null?void 0:le.response)==null?void 0:X.data)==null?void 0:Q.message)||(le==null?void 0:le.message)||"Failed to create user";c(H)}finally{o(!1)}},L=V=>{const X=D.find(Q=>Q.id===V);if(X){const Q=X.icon;return n.jsx(Q,{className:"w-4 h-4"})}return n.jsx(yt,{className:"w-4 h-4"})},E=V=>{switch(V){case"ADMIN":return"destructive";case"MANAGER":return"default";case"CASHIER":return"secondary";default:return"outline"}},_=V=>{S(V),g(!0)},O=V=>{S(V),R({name:V.name,email:V.email,username:V.username,branchId:V.branchId,role:V.role,password:""}),b(!0)},M=V=>{S(V),v(!0)},A=async()=>{var V,X;if(j)try{o(!0),c("");const Q=await pe.deleteUser(j.id);Q.success?(u(`User ${j.name} deleted successfully!`),r(le=>le.filter(H=>H.id!==j.id)),v(!1),S(null)):c(Q.message||"Failed to delete user")}catch(Q){console.error("Error deleting user:",Q);const le=((X=(V=Q==null?void 0:Q.response)==null?void 0:V.data)==null?void 0:X.message)||(Q==null?void 0:Q.message)||"Failed to delete user";c(le)}finally{o(!1)}},U=async()=>{var V,X;if(!j||!T.name||!T.email||!T.username||!T.role||!T.branchId){c("Please fill in all required fields!");return}try{o(!0),c("");const Q={name:T.name,email:T.email,username:T.username,role:T.role,branchId:T.branchId};T.password&&(Q.password=T.password);const le=await pe.updateUser(j.id,Q);le.success?(u(`User ${T.name} updated successfully!`),c(""),R({name:"",email:"",username:"",branchId:"",role:"",password:""}),b(!1),S(null),r(H=>H.map(ce=>ce.id===j.id?{...ce,...Q,branch:s.find(se=>se.id===T.branchId)||ce.branch}:ce))):c(le.message||"Failed to update user")}catch(Q){console.error("Error updating user:",Q);const le=((X=(V=Q==null?void 0:Q.response)==null?void 0:V.data)==null?void 0:X.message)||(Q==null?void 0:Q.message)||"Failed to update user";c(le)}finally{o(!1)}};return i&&t.length===0?n.jsx("div",{className:"p-6 space-y-6 bg-background min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ot,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]})}):n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"User Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage branch users and their permissions"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(z,{variant:"outline",onClick:()=>window.location.href="/admin",children:" Back to Admin Dashboard"}),n.jsxs(it,{open:f,onOpenChange:h,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",children:[n.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Create New User"]})}),n.jsxs(nt,{className:"sm:max-w-[425px]",children:[n.jsxs(st,{children:[n.jsx(at,{children:"Create New User"}),n.jsx(Mt,{children:"Add a new user to your pharmacy system. They will receive login credentials via email."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"name",className:"text-right",children:"Name"}),n.jsx(oe,{id:"name",value:T.name,onChange:V=>R({...T,name:V.target.value}),className:"col-span-3",placeholder:"Enter full name"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"email",className:"text-right",children:"Email"}),n.jsx(oe,{id:"email",type:"email",value:T.email,onChange:V=>R({...T,email:V.target.value}),className:"col-span-3",placeholder:"Enter email address"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"username",className:"text-right",children:"Username"}),n.jsx(oe,{id:"username",type:"text",value:T.username,onChange:V=>R({...T,username:V.target.value}),className:"col-span-3",placeholder:"Enter username"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"role",className:"text-right",children:"Role"}),n.jsxs(Dt,{value:T.role,onValueChange:V=>R({...T,role:V}),children:[n.jsx(Tt,{className:"col-span-3",children:n.jsx($t,{placeholder:"Select role"})}),n.jsx(It,{children:D.map(V=>n.jsx(ze,{value:V.id,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[L(V.id),n.jsx("span",{children:V.label})]})},V.id))})]})]}),!((e==null?void 0:e.role)==="SUPERADMIN"&&T.role==="ADMIN")&&n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"branch",className:"text-right",children:"Branch"}),n.jsxs(Dt,{value:T.branchId,onValueChange:V=>R({...T,branchId:V}),children:[n.jsx(Tt,{className:"col-span-3",children:n.jsx($t,{placeholder:"Select branch"})}),n.jsx(It,{children:s.map(V=>n.jsx(ze,{value:V.id,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"h-4 w-4"}),n.jsx("span",{children:V.name})]})},V.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"password",className:"text-right",children:"Password"}),n.jsx(oe,{id:"password",type:"password",value:T.password,onChange:V=>R({...T,password:V.target.value}),className:"col-span-3",placeholder:"Enter temporary password"})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),n.jsx(z,{className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",onClick:I,children:"Create User"})]})]})]}),n.jsxs(z,{variant:"outline",onClick:()=>{R({name:"",email:"",username:"",branchId:"",role:"CASHIER",password:""}),h(!0)},children:[n.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Quick Create Cashier"]})]})]}),d&&n.jsx(te,{className:"shadow-soft border-0 border-l-4 border-green-500",children:n.jsxs(re,{className:"p-4",children:[n.jsx("p",{className:"text-green-600",children:d}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>u(""),className:"mt-2",children:"Dismiss"})]})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(ne,{htmlFor:"search",className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Search Users"}),n.jsxs("div",{className:"relative",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{id:"search",placeholder:"Search by name, email, or username...",value:w,onChange:V=>N(V.target.value),className:"pl-10"})]})]}),n.jsxs("div",{className:"md:w-48",children:[n.jsx(ne,{htmlFor:"branch-filter",className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Filter by Branch"}),n.jsxs(Dt,{value:P,onValueChange:C,children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"All branches"})}),n.jsxs(It,{children:[n.jsx(ze,{value:"all",children:"All Branches"}),s.map(V=>n.jsx(ze,{value:V.name,children:V.name},V.id))]})]})]})]})})}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-5 h-5 text-primary"}),n.jsxs("span",{children:["Users (",B.length,")"]})]})}),n.jsx(re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"User"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Username"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Role"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Branch"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Created"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Actions"})]})}),n.jsx("tbody",{children:B.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-8 px-4 text-center text-muted-foreground",children:t.length===0?"No users found in this branch":"No users match your search criteria"})}):B.map(V=>{var X;return n.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-primary",children:V.name.split(" ").map(Q=>Q[0]).join("")})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:V.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:V.email})]})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:"text-sm font-medium text-foreground",children:V.username})})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs(Ce,{variant:E(V.role),className:"flex items-center space-x-1 w-fit",children:[L(V.role),n.jsx("span",{className:"capitalize",children:V.role})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm text-foreground",children:((X=V.branch)==null?void 0:X.name)||"Unknown Branch"})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx(Ce,{variant:V.isActive?"default":"secondary",className:V.isActive?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200",children:V.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"py-4 px-4 text-sm text-muted-foreground",children:new Date(V.createdAt).toLocaleDateString()}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>_(V),title:"View User Details",children:n.jsx(fn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>O(V),title:"Edit User",children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>M(V),title:"Delete User",children:n.jsx(wr,{className:"w-4 h-4"})})]})})]},V.id)})})]})})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsx(Ae,{children:"Role Permissions"})}),n.jsx(re,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D.map(V=>{const X=V.icon;return n.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(X,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-foreground",children:V.label}),n.jsx("p",{className:"text-sm text-muted-foreground",children:V.description})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:[V.id==="MANAGER"&&"Branch management, inventory, sales reports",V.id==="CASHIER"&&"Sales, billing, customer management"]})]},V.id)})})})]}),n.jsx(it,{open:x,onOpenChange:g,children:n.jsxs(nt,{className:"sm:max-w-[500px]",children:[n.jsxs(st,{children:[n.jsx(at,{children:"User Details"}),n.jsx(Mt,{children:"View detailed information about this user."})]}),j&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xl font-medium text-primary",children:j.name.split(" ").map(V=>V[0]).join("")})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:j.name}),n.jsx("p",{className:"text-muted-foreground",children:j.email})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ne,{className:"text-sm font-medium",children:"Username"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:j.username})]}),n.jsxs("div",{children:[n.jsx(ne,{className:"text-sm font-medium",children:"Role"}),n.jsx("div",{className:"mt-1",children:n.jsxs(Ce,{variant:E(j.role),className:"flex items-center space-x-1 w-fit",children:[L(j.role),n.jsx("span",{children:j.role})]})})]}),n.jsxs("div",{children:[n.jsx(ne,{className:"text-sm font-medium",children:"Branch"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:((ee=j.branch)==null?void 0:ee.name)||"Unknown Branch"})]}),n.jsxs("div",{children:[n.jsx(ne,{className:"text-sm font-medium",children:"Status"}),n.jsx("div",{className:"mt-1",children:n.jsx(Ce,{variant:j.isActive?"default":"secondary",className:j.isActive?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200",children:j.isActive?"Active":"Inactive"})})]}),n.jsxs("div",{children:[n.jsx(ne,{className:"text-sm font-medium",children:"Created"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(j.createdAt).toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx(ne,{className:"text-sm font-medium",children:"Last Updated"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(j.updatedAt).toLocaleDateString()})]})]})]}),n.jsx(Hr,{children:n.jsx(z,{variant:"outline",onClick:()=>g(!1),children:"Close"})})]})}),n.jsx(it,{open:p,onOpenChange:b,children:n.jsxs(nt,{className:"sm:max-w-[425px]",children:[n.jsxs(st,{children:[n.jsx(at,{children:"Edit User"}),n.jsx(Mt,{children:"Update user information. Leave password empty to keep current password."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"edit-name",className:"text-right",children:"Name"}),n.jsx(oe,{id:"edit-name",value:T.name,onChange:V=>R({...T,name:V.target.value}),className:"col-span-3",placeholder:"Enter full name"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"edit-email",className:"text-right",children:"Email"}),n.jsx(oe,{id:"edit-email",type:"email",value:T.email,onChange:V=>R({...T,email:V.target.value}),className:"col-span-3",placeholder:"Enter email address"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"edit-username",className:"text-right",children:"Username"}),n.jsx(oe,{id:"edit-username",value:T.username,onChange:V=>R({...T,username:V.target.value}),className:"col-span-3",placeholder:"Enter username"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"edit-password",className:"text-right",children:"Password"}),n.jsx(oe,{id:"edit-password",type:"password",value:T.password,onChange:V=>R({...T,password:V.target.value}),className:"col-span-3",placeholder:"Enter new password (optional)"})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"edit-role",className:"text-right",children:"Role"}),n.jsxs(Dt,{value:T.role,onValueChange:V=>R({...T,role:V}),children:[n.jsx(Tt,{className:"col-span-3",children:n.jsx($t,{placeholder:"Select role"})}),n.jsx(It,{children:D.map(V=>n.jsx(ze,{value:V.id,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[L(V.id),n.jsx("span",{children:V.label})]})},V.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[n.jsx(ne,{htmlFor:"edit-branch",className:"text-right",children:"Branch"}),n.jsxs(Dt,{value:T.branchId,onValueChange:V=>R({...T,branchId:V}),children:[n.jsx(Tt,{className:"col-span-3",children:n.jsx($t,{placeholder:"Select branch"})}),n.jsx(It,{children:s.map(V=>n.jsx(ze,{value:V.id,children:V.name},V.id))})]})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),n.jsxs(z,{onClick:U,disabled:i,children:[i?n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Update User"]})]})]})}),n.jsx(it,{open:y,onOpenChange:v,children:n.jsxs(nt,{className:"sm:max-w-[425px]",children:[n.jsxs(st,{children:[n.jsx(at,{children:"Delete User"}),n.jsx(Mt,{children:"Are you sure you want to delete this user? This action cannot be undone."})]}),j&&n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-medium text-red-600",children:j.name.split(" ").map(V=>V[0]).join("")})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-red-900",children:j.name}),n.jsx("p",{className:"text-sm text-red-700",children:j.email}),n.jsxs("p",{className:"text-sm text-red-600",children:["Role: ",j.role]})]})]})}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),n.jsxs(z,{variant:"destructive",onClick:A,disabled:i,children:[i?n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Delete User"]})]})]})})]})},zye=sl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),tx=m.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:Oe(zye({variant:t}),e),...r}));tx.displayName="Alert";const Vye=m.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:Oe("mb-1 font-medium leading-none tracking-tight",e),...t}));Vye.displayName="AlertTitle";const rx=m.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Oe("text-sm [&_p]:leading-relaxed",e),...t}));rx.displayName="AlertDescription";var gy="rovingFocusGroup.onEntryFocus",qye={bubbles:!1,cancelable:!0},nh="RovingFocusGroup",[jj,C$,Hye]=jx(nh),[Wye,Vg]=vs(nh,[Hye]),[Kye,Gye]=Wye(nh),A$=m.forwardRef((e,t)=>n.jsx(jj.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(jj.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Yye,{...e,ref:t})})}));A$.displayName=nh;var Yye=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,h=m.useRef(null),p=Ct(t,h),b=qx(i),[x,g]=ha({prop:o,defaultProp:l??null,onChange:c,caller:nh}),[y,v]=m.useState(!1),j=Mn(d),S=C$(r),w=m.useRef(!1),[N,P]=m.useState(0);return m.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(gy,j),()=>C.removeEventListener(gy,j)},[j]),n.jsx(Kye,{scope:r,orientation:s,dir:b,loop:a,currentTabStopId:x,onItemFocus:m.useCallback(C=>g(C),[g]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>P(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>P(C=>C-1),[]),children:n.jsx(Qe.div,{tabIndex:y||N===0?-1:0,"data-orientation":s,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Fe(e.onMouseDown,()=>{w.current=!0}),onFocus:Fe(e.onFocus,C=>{const k=!w.current;if(C.target===C.currentTarget&&k&&!y){const D=new CustomEvent(gy,qye);if(C.currentTarget.dispatchEvent(D),!D.defaultPrevented){const T=S().filter(I=>I.focusable),R=T.find(I=>I.active),q=T.find(I=>I.id===x),B=[R,q,...T].filter(Boolean).map(I=>I.ref.current);k$(B,u)}}w.current=!1}),onBlur:Fe(e.onBlur,()=>v(!1))})})}),E$="RovingFocusGroupItem",O$=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Kr(),d=i||c,u=Gye(E$,r),f=u.currentTabStopId===d,h=C$(r),{onFocusableItemAdd:p,onFocusableItemRemove:b,currentTabStopId:x}=u;return m.useEffect(()=>{if(s)return p(),()=>b()},[s,p,b]),n.jsx(jj.ItemSlot,{scope:r,id:d,focusable:s,active:a,children:n.jsx(Qe.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:Fe(e.onMouseDown,g=>{s?u.onItemFocus(d):g.preventDefault()}),onFocus:Fe(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Fe(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=Jye(g,u.orientation,u.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let j=h().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")j.reverse();else if(y==="prev"||y==="next"){y==="prev"&&j.reverse();const S=j.indexOf(g.currentTarget);j=u.loop?Zye(j,S+1):j.slice(S+1)}setTimeout(()=>k$(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:x!=null}):o})})});O$.displayName=E$;var Xye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qye(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Jye(e,t,r){const s=Qye(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Xye[s]}function k$(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Zye(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var T$=A$,I$=O$,wj=["Enter"," "],e0e=["ArrowDown","PageUp","Home"],_$=["ArrowUp","PageDown","End"],t0e=[...e0e,..._$],r0e={ltr:[...wj,"ArrowRight"],rtl:[...wj,"ArrowLeft"]},n0e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sh="Menu",[kf,s0e,a0e]=jx(sh),[ml,R$]=vs(sh,[a0e,Yi,Vg]),qg=Yi(),M$=Vg(),[i0e,pl]=ml(sh),[o0e,ah]=ml(sh),D$=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=qg(t),[c,d]=m.useState(null),u=m.useRef(!1),f=Mn(i),h=qx(a);return m.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),n.jsx(Ex,{...l,children:n.jsx(i0e,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:n.jsx(o0e,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:s})})})};D$.displayName=sh;var l0e="MenuAnchor",a1=m.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=qg(r);return n.jsx(Uf,{...a,...s,ref:t})});a1.displayName=l0e;var i1="MenuPortal",[c0e,$$]=ml(i1,{forceMount:void 0}),L$=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=pl(i1,t);return n.jsx(c0e,{scope:t,forceMount:r,children:n.jsx(ts,{present:r||i.open,children:n.jsx(ad,{asChild:!0,container:a,children:s})})})};L$.displayName=i1;var ms="MenuContent",[d0e,o1]=ml(ms),F$=m.forwardRef((e,t)=>{const r=$$(ms,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=pl(ms,e.__scopeMenu),o=ah(ms,e.__scopeMenu);return n.jsx(kf.Provider,{scope:e.__scopeMenu,children:n.jsx(ts,{present:s||i.open,children:n.jsx(kf.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(u0e,{...a,ref:t}):n.jsx(f0e,{...a,ref:t})})})})}),u0e=m.forwardRef((e,t)=>{const r=pl(ms,e.__scopeMenu),s=m.useRef(null),a=Ct(t,s);return m.useEffect(()=>{const i=s.current;if(i)return Fx(i)},[]),n.jsx(l1,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Fe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),f0e=m.forwardRef((e,t)=>{const r=pl(ms,e.__scopeMenu);return n.jsx(l1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),h0e=zi("MenuContent.ScrollLock"),l1=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:b,...x}=e,g=pl(ms,r),y=ah(ms,r),v=qg(r),j=M$(r),S=s0e(r),[w,N]=m.useState(null),P=m.useRef(null),C=Ct(t,P,g.onContentChange),k=m.useRef(0),D=m.useRef(""),T=m.useRef(0),R=m.useRef(null),q=m.useRef("right"),$=m.useRef(0),B=b?Vf:m.Fragment,I=b?{as:h0e,allowPinchZoom:!0}:void 0,L=_=>{var Q,le;const O=D.current+_,M=S().filter(H=>!H.disabled),A=document.activeElement,U=(Q=M.find(H=>H.ref.current===A))==null?void 0:Q.textValue,ee=M.map(H=>H.textValue),V=P0e(ee,O,U),X=(le=M.find(H=>H.textValue===V))==null?void 0:le.ref.current;(function H(ce){D.current=ce,window.clearTimeout(k.current),ce!==""&&(k.current=window.setTimeout(()=>H(""),1e3))})(O),X&&setTimeout(()=>X.focus())};m.useEffect(()=>()=>window.clearTimeout(k.current),[]),$x();const E=m.useCallback(_=>{var M,A;return q.current===((M=R.current)==null?void 0:M.side)&&A0e(_,(A=R.current)==null?void 0:A.area)},[]);return n.jsx(d0e,{scope:r,searchRef:D,onItemEnter:m.useCallback(_=>{E(_)&&_.preventDefault()},[E]),onItemLeave:m.useCallback(_=>{var O;E(_)||((O=P.current)==null||O.focus(),N(null))},[E]),onTriggerLeave:m.useCallback(_=>{E(_)&&_.preventDefault()},[E]),pointerGraceTimerRef:T,onPointerGraceIntentChange:m.useCallback(_=>{R.current=_},[]),children:n.jsx(B,{...I,children:n.jsx(zf,{asChild:!0,trapped:a,onMountAutoFocus:Fe(i,_=>{var O;_.preventDefault(),(O=P.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(nl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:n.jsx(T$,{asChild:!0,...j,dir:y.dir,orientation:"vertical",loop:s,currentTabStopId:w,onCurrentTabStopIdChange:N,onEntryFocus:Fe(c,_=>{y.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(Ox,{role:"menu","aria-orientation":"vertical","data-state":t3(g.open),"data-radix-menu-content":"",dir:y.dir,...v,...x,ref:C,style:{outline:"none",...x.style},onKeyDown:Fe(x.onKeyDown,_=>{const M=_.target.closest("[data-radix-menu-content]")===_.currentTarget,A=_.ctrlKey||_.altKey||_.metaKey,U=_.key.length===1;M&&(_.key==="Tab"&&_.preventDefault(),!A&&U&&L(_.key));const ee=P.current;if(_.target!==ee||!t0e.includes(_.key))return;_.preventDefault();const X=S().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);_$.includes(_.key)&&X.reverse(),N0e(X)}),onBlur:Fe(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(k.current),D.current="")}),onPointerMove:Fe(e.onPointerMove,Tf(_=>{const O=_.target,M=$.current!==_.clientX;if(_.currentTarget.contains(O)&&M){const A=_.clientX>$.current?"right":"left";q.current=A,$.current=_.clientX}}))})})})})})})});F$.displayName=ms;var m0e="MenuGroup",c1=m.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Qe.div,{role:"group",...s,ref:t})});c1.displayName=m0e;var p0e="MenuLabel",B$=m.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Qe.div,{...s,ref:t})});B$.displayName=p0e;var nx="MenuItem",AE="menu.itemSelect",Hg=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=m.useRef(null),o=ah(nx,e.__scopeMenu),l=o1(nx,e.__scopeMenu),c=Ct(t,i),d=m.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(AE,{bubbles:!0,cancelable:!0});f.addEventListener(AE,p=>s==null?void 0:s(p),{once:!0}),vw(f,h),h.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(U$,{...a,ref:c,disabled:r,onClick:Fe(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),d.current=!0},onPointerUp:Fe(e.onPointerUp,f=>{var h;d.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Fe(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||wj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Hg.displayName=nx;var U$=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=o1(nx,r),l=M$(r),c=m.useRef(null),d=Ct(t,c),[u,f]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const b=c.current;b&&p((b.textContent??"").trim())},[i.children]),n.jsx(kf.ItemSlot,{scope:r,disabled:s,textValue:a??h,children:n.jsx(I$,{asChild:!0,...l,focusable:!s,children:n.jsx(Qe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:Fe(e.onPointerMove,Tf(b=>{s?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Fe(e.onPointerLeave,Tf(b=>o.onItemLeave(b))),onFocus:Fe(e.onFocus,()=>f(!0)),onBlur:Fe(e.onBlur,()=>f(!1))})})})}),x0e="MenuCheckboxItem",z$=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(K$,{scope:e.__scopeMenu,checked:r,children:n.jsx(Hg,{role:"menuitemcheckbox","aria-checked":sx(r)?"mixed":r,...a,ref:t,"data-state":u1(r),onSelect:Fe(a.onSelect,()=>s==null?void 0:s(sx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});z$.displayName=x0e;var V$="MenuRadioGroup",[g0e,v0e]=ml(V$,{value:void 0,onValueChange:()=>{}}),q$=m.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=Mn(s);return n.jsx(g0e,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(c1,{...a,ref:t})})});q$.displayName=V$;var H$="MenuRadioItem",W$=m.forwardRef((e,t)=>{const{value:r,...s}=e,a=v0e(H$,e.__scopeMenu),i=r===a.value;return n.jsx(K$,{scope:e.__scopeMenu,checked:i,children:n.jsx(Hg,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":u1(i),onSelect:Fe(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});W$.displayName=H$;var d1="MenuItemIndicator",[K$,y0e]=ml(d1,{checked:!1}),G$=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=y0e(d1,r);return n.jsx(ts,{present:s||sx(i.checked)||i.checked===!0,children:n.jsx(Qe.span,{...a,ref:t,"data-state":u1(i.checked)})})});G$.displayName=d1;var b0e="MenuSeparator",Y$=m.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});Y$.displayName=b0e;var j0e="MenuArrow",X$=m.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=qg(r);return n.jsx(kx,{...a,...s,ref:t})});X$.displayName=j0e;var w0e="MenuSub",[tje,Q$]=ml(w0e),su="MenuSubTrigger",J$=m.forwardRef((e,t)=>{const r=pl(su,e.__scopeMenu),s=ah(su,e.__scopeMenu),a=Q$(su,e.__scopeMenu),i=o1(su,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),n.jsx(a1,{asChild:!0,...d,children:n.jsx(U$,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":t3(r.open),...e,ref:Ha(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Fe(e.onPointerMove,Tf(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Fe(e.onPointerLeave,Tf(f=>{var p,b;u();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const x=(b=r.content)==null?void 0:b.dataset.side,g=x==="right",y=g?-5:5,v=h[g?"left":"right"],j=h[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:h.top},{x:j,y:h.top},{x:j,y:h.bottom},{x:v,y:h.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Fe(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||r0e[s.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});J$.displayName=su;var Z$="MenuSubContent",e3=m.forwardRef((e,t)=>{const r=$$(ms,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=pl(ms,e.__scopeMenu),o=ah(ms,e.__scopeMenu),l=Q$(Z$,e.__scopeMenu),c=m.useRef(null),d=Ct(t,c);return n.jsx(kf.Provider,{scope:e.__scopeMenu,children:n.jsx(ts,{present:s||i.open,children:n.jsx(kf.Slot,{scope:e.__scopeMenu,children:n.jsx(l1,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Fe(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Fe(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Fe(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),h=n0e[o.dir].includes(u.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),u.preventDefault())})})})})})});e3.displayName=Z$;function t3(e){return e?"open":"closed"}function sx(e){return e==="indeterminate"}function u1(e){return sx(e)?"indeterminate":e?"checked":"unchecked"}function N0e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function S0e(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function P0e(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=S0e(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function C0e(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,f=c.x,h=c.y;u>s!=h>s&&r<(f-d)*(s-u)/(h-u)+d&&(a=!a)}return a}function A0e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return C0e(r,t)}function Tf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var E0e=D$,O0e=a1,k0e=L$,T0e=F$,I0e=c1,_0e=B$,R0e=Hg,M0e=z$,D0e=q$,$0e=W$,L0e=G$,F0e=Y$,B0e=X$,U0e=J$,z0e=e3,Wg="DropdownMenu",[V0e,rje]=vs(Wg,[R$]),Sn=R$(),[q0e,r3]=V0e(Wg),n3=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Sn(t),d=m.useRef(null),[u,f]=ha({prop:a,defaultProp:i??!1,onChange:o,caller:Wg});return n.jsx(q0e,{scope:t,triggerId:Kr(),triggerRef:d,contentId:Kr(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:n.jsx(E0e,{...c,open:u,onOpenChange:f,dir:s,modal:l,children:r})})};n3.displayName=Wg;var s3="DropdownMenuTrigger",a3=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=r3(s3,r),o=Sn(r);return n.jsx(O0e,{asChild:!0,...o,children:n.jsx(Qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Ha(t,i.triggerRef),onPointerDown:Fe(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Fe(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});a3.displayName=s3;var H0e="DropdownMenuPortal",i3=e=>{const{__scopeDropdownMenu:t,...r}=e,s=Sn(t);return n.jsx(k0e,{...s,...r})};i3.displayName=H0e;var o3="DropdownMenuContent",l3=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=r3(o3,r),i=Sn(r),o=m.useRef(!1);return n.jsx(T0e,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:Fe(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Fe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});l3.displayName=o3;var W0e="DropdownMenuGroup",K0e=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Sn(r);return n.jsx(I0e,{...a,...s,ref:t})});K0e.displayName=W0e;var G0e="DropdownMenuLabel",c3=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Sn(r);return n.jsx(_0e,{...a,...s,ref:t})});c3.displayName=G0e;var Y0e="DropdownMenuItem",d3=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Sn(r);return n.jsx(R0e,{...a,...s,ref:t})});d3.displayName=Y0e;var X0e="DropdownMenuCheckboxItem",u3=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Sn(r);return n.jsx(M0e,{...a,...s,ref:t})});u3.displayName=X0e;var Q0e="DropdownMenuRadioGroup",J0e=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Sn(r);return n.jsx(D0e,{...a,...s,ref:t})});J0e.displayName=Q0e;var Z0e="DropdownMenuRadioItem",f3=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Sn(r);return n.jsx($0e,{...a,...s,ref:t})});f3.displayName=Z0e;var ebe="DropdownMenuItemIndicator",h3=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Sn(r);return n.jsx(L0e,{...a,...s,ref:t})});h3.displayName=ebe;var tbe="DropdownMenuSeparator",m3=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Sn(r);return n.jsx(F0e,{...a,...s,ref:t})});m3.displayName=tbe;var rbe="DropdownMenuArrow",nbe=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Sn(r);return n.jsx(B0e,{...a,...s,ref:t})});nbe.displayName=rbe;var sbe="DropdownMenuSubTrigger",p3=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Sn(r);return n.jsx(U0e,{...a,...s,ref:t})});p3.displayName=sbe;var abe="DropdownMenuSubContent",x3=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Sn(r);return n.jsx(z0e,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});x3.displayName=abe;var ibe=n3,obe=a3,lbe=i3,g3=l3,v3=c3,y3=d3,b3=u3,j3=f3,w3=h3,N3=m3,S3=p3,P3=x3;const cbe=ibe,dbe=obe,ube=m.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(S3,{ref:a,className:Oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(Nw,{className:"ml-auto h-4 w-4"})]}));ube.displayName=S3.displayName;const fbe=m.forwardRef(({className:e,...t},r)=>n.jsx(P3,{ref:r,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));fbe.displayName=P3.displayName;const C3=m.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(lbe,{children:n.jsx(g3,{ref:s,sideOffset:t,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));C3.displayName=g3.displayName;const xm=m.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(y3,{ref:s,className:Oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));xm.displayName=y3.displayName;const hbe=m.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(b3,{ref:a,className:Oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(w3,{children:n.jsx(ST,{className:"h-4 w-4"})})}),t]}));hbe.displayName=b3.displayName;const mbe=m.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(j3,{ref:s,className:Oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(w3,{children:n.jsx(NF,{className:"h-2 w-2 fill-current"})})}),t]}));mbe.displayName=j3.displayName;const pbe=m.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(v3,{ref:s,className:Oe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));pbe.displayName=v3.displayName;const xbe=m.forwardRef(({className:e,...t},r)=>n.jsx(N3,{ref:r,className:Oe("-mx-1 my-1 h-px bg-muted",e),...t}));xbe.displayName=N3.displayName;const gbe=()=>{var B;const{user:e}=Jt(),[t,r]=m.useState([]),[s,a]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(""),[d,u]=m.useState(""),[f,h]=m.useState(!1);m.useState(!1);const[p,b]=m.useState(!1),[x,g]=m.useState(!1),[y,v]=m.useState(null),[j,S]=m.useState(""),w=[{id:"CASHIER",label:"Cashier",description:"Sales and billing operations"}],[N,P]=m.useState({name:"",email:"",username:"",branchId:(e==null?void 0:e.branchId)||"",role:"CASHIER",password:""});m.useEffect(()=>{C(),k()},[]);const C=async()=>{var I;try{o(!0);const L=await pe.getUsers({page:1,limit:100});if(L.success&&((I=L.data)!=null&&I.users)){const E=L.data.users.filter(_=>_.role==="CASHIER");r(E)}else c("Failed to load users")}catch(L){console.error("Error loading users:",L),c("Failed to load users")}finally{o(!1)}},k=async()=>{var I;try{const L=await pe.getBranches();L.success&&((I=L.data)!=null&&I.branches)&&a(L.data.branches)}catch(L){console.error("Error loading branches:",L)}},D=async()=>{try{if(c(""),u(""),!N.name||!N.email||!N.username||!N.password){c("Please fill in all required fields");return}const I=await pe.createUser({...N,role:N.role,branchId:N.branchId||(e==null?void 0:e.branchId)||""});I.success?(u("User created successfully"),h(!1),P({name:"",email:"",username:"",branchId:(e==null?void 0:e.branchId)||"",role:"CASHIER",password:""}),C()):c(I.message||"Failed to create user")}catch(I){console.error("Error creating user:",I),c("Failed to create user")}},T=async I=>{try{c(""),u("");const L=await pe.deleteUser(I);L.success?(u("User deleted successfully"),g(!1),v(null),C()):c(L.message||"Failed to delete user")}catch(L){console.error("Error deleting user:",L),c("Failed to delete user")}},R=async(I,L)=>{try{c(""),u("");const E=await pe.updateUser(I,{isActive:!L});E.success?(u(`User ${L?"deactivated":"activated"} successfully`),C()):c(E.message||"Failed to update user status")}catch(E){console.error("Error updating user status:",E),c("Failed to update user status")}},q=t.filter(I=>I.name.toLowerCase().includes(j.toLowerCase())||I.email.toLowerCase().includes(j.toLowerCase())||I.username.toLowerCase().includes(j.toLowerCase())),$=I=>{switch(I){case"MANAGER":return"bg-blue-100 text-blue-800";case"CASHIER":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return i?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Cashier Management"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage cashiers for your branch"})]}),l&&n.jsxs(tx,{className:"mb-6",variant:"destructive",children:[n.jsx(yr,{className:"h-4 w-4"}),n.jsx(rx,{children:l})]}),d&&n.jsxs(tx,{className:"mb-6",variant:"default",children:[n.jsx(_s,{className:"h-4 w-4"}),n.jsx(rx,{children:d})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Cashiers"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(oe,{placeholder:"Search cashiers...",value:j,onChange:I=>S(I.target.value),className:"pl-10 w-64"})]}),n.jsxs(it,{open:f,onOpenChange:h,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{children:[n.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Add Cashier"]})}),n.jsxs(nt,{className:"sm:max-w-md",children:[n.jsx(st,{children:n.jsx(at,{children:"Add New Cashier"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ne,{htmlFor:"name",children:"Full Name *"}),n.jsx(oe,{id:"name",value:N.name,onChange:I=>P({...N,name:I.target.value}),placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx(ne,{htmlFor:"email",children:"Email *"}),n.jsx(oe,{id:"email",type:"email",value:N.email,onChange:I=>P({...N,email:I.target.value}),placeholder:"Enter email address"})]}),n.jsxs("div",{children:[n.jsx(ne,{htmlFor:"username",children:"Username *"}),n.jsx(oe,{id:"username",value:N.username,onChange:I=>P({...N,username:I.target.value}),placeholder:"Enter username"})]}),n.jsxs("div",{children:[n.jsx(ne,{htmlFor:"role",children:"Role *"}),n.jsxs(Dt,{value:N.role,onValueChange:I=>P({...N,role:I}),children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select role"})}),n.jsx(It,{children:w.map(I=>n.jsxs(ze,{value:I.id,children:[I.label," - ",I.description]},I.id))})]})]}),n.jsxs("div",{children:[n.jsx(ne,{htmlFor:"password",children:"Password *"}),n.jsx(oe,{id:"password",type:"password",value:N.password,onChange:I=>P({...N,password:I.target.value}),placeholder:"Enter password"})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(z,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),n.jsx(z,{onClick:D,children:"Create User"})]})]})]})]})]})]})}),n.jsx(re,{children:n.jsxs(il,{children:[n.jsx(ol,{children:n.jsxs(Rn,{children:[n.jsx(jt,{children:"Name"}),n.jsx(jt,{children:"Email"}),n.jsx(jt,{children:"Username"}),n.jsx(jt,{children:"Role"}),n.jsx(jt,{children:"Status"}),n.jsx(jt,{children:"Created"}),n.jsx(jt,{className:"text-right",children:"Actions"})]})}),n.jsx(ll,{children:q.length>0?q.map(I=>n.jsxs(Rn,{children:[n.jsx(vt,{className:"font-medium",children:I.name}),n.jsx(vt,{children:I.email}),n.jsx(vt,{children:I.username}),n.jsx(vt,{children:n.jsx(Ce,{className:$(I.role),children:I.role})}),n.jsx(vt,{children:n.jsx(Ce,{variant:I.isActive?"default":"secondary",children:I.isActive?"Active":"Inactive"})}),n.jsx(vt,{children:new Date(I.createdAt).toLocaleDateString()}),n.jsx(vt,{className:"text-right",children:n.jsxs(cbe,{children:[n.jsx(dbe,{asChild:!0,children:n.jsx(z,{variant:"ghost",size:"sm",children:n.jsx(PF,{className:"w-4 h-4"})})}),n.jsxs(C3,{align:"end",children:[n.jsxs(xm,{onClick:()=>{v(I),b(!0)},children:[n.jsx(fn,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(xm,{onClick:()=>R(I.id,I.isActive),children:[n.jsx(_s,{className:"w-4 h-4 mr-2"}),I.isActive?"Deactivate":"Activate"]}),n.jsxs(xm,{onClick:()=>{v(I),g(!0)},className:"text-destructive",children:[n.jsx(wr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},I.id)):n.jsx(Rn,{children:n.jsx(vt,{colSpan:7,className:"text-center py-8",children:n.jsxs("div",{className:"text-muted-foreground",children:[n.jsx(yt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No users found"}),n.jsx("p",{className:"text-sm",children:"Add your first team member to get started"})]})})})})]})})]}),n.jsx(it,{open:p,onOpenChange:b,children:n.jsxs(nt,{children:[n.jsx(st,{children:n.jsx(at,{children:"User Details"})}),y&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ne,{children:"Name"}),n.jsx("p",{className:"text-sm font-medium",children:y.name})]}),n.jsxs("div",{children:[n.jsx(ne,{children:"Email"}),n.jsx("p",{className:"text-sm",children:y.email})]}),n.jsxs("div",{children:[n.jsx(ne,{children:"Username"}),n.jsx("p",{className:"text-sm",children:y.username})]}),n.jsxs("div",{children:[n.jsx(ne,{children:"Role"}),n.jsx(Ce,{className:$(y.role),children:y.role})]}),n.jsxs("div",{children:[n.jsx(ne,{children:"Status"}),n.jsx(Ce,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"})]}),n.jsxs("div",{children:[n.jsx(ne,{children:"Branch"}),n.jsx("p",{className:"text-sm",children:((B=y.branch)==null?void 0:B.name)||"No branch assigned"})]}),n.jsxs("div",{children:[n.jsx(ne,{children:"Created"}),n.jsx("p",{className:"text-sm",children:new Date(y.createdAt).toLocaleString()})]})]})]})}),n.jsx(it,{open:x,onOpenChange:g,children:n.jsxs(nt,{children:[n.jsx(st,{children:n.jsx(at,{children:"Delete User"})}),y&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{children:["Are you sure you want to delete user ",n.jsx("strong",{children:y.name}),"?"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone. The user will be permanently removed from the system."}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(z,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),n.jsx(z,{variant:"destructive",onClick:()=>T(y.id),children:"Delete User"})]})]})]})})]})})};var Kg="Tabs",[vbe,nje]=vs(Kg,[Vg]),A3=Vg(),[ybe,f1]=vbe(Kg),E3=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=qx(l),[f,h]=ha({prop:s,onChange:a,defaultProp:i??"",caller:Kg});return n.jsx(ybe,{scope:r,baseId:Kr(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:c,children:n.jsx(Qe.div,{dir:u,"data-orientation":o,...d,ref:t})})});E3.displayName=Kg;var O3="TabsList",k3=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=f1(O3,r),o=A3(r);return n.jsx(T$,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(Qe.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});k3.displayName=O3;var T3="TabsTrigger",I3=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=f1(T3,r),l=A3(r),c=M3(o.baseId,s),d=D3(o.baseId,s),u=s===o.value;return n.jsx(I$,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(Qe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Fe(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:Fe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:Fe(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});I3.displayName=T3;var _3="TabsContent",R3=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=f1(_3,r),c=M3(l.baseId,s),d=D3(l.baseId,s),u=s===l.value,f=m.useRef(u);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),n.jsx(ts,{present:a||u,children:({present:h})=>n.jsx(Qe.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});R3.displayName=_3;function M3(e,t){return`${e}-trigger-${t}`}function D3(e,t){return`${e}-content-${t}`}var bbe=E3,$3=k3,L3=I3,F3=R3;const ih=bbe,Cd=m.forwardRef(({className:e,...t},r)=>n.jsx($3,{ref:r,className:Oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Cd.displayName=$3.displayName;const Jr=m.forwardRef(({className:e,...t},r)=>n.jsx(L3,{ref:r,className:Oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Jr.displayName=L3.displayName;const Zr=m.forwardRef(({className:e,...t},r)=>n.jsx(F3,{ref:r,className:Oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Zr.displayName=F3.displayName;const jbe=()=>{const[e,t]=m.useState([]),[r,s]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState([]),[u,f]=m.useState(!0),[h,p]=m.useState(""),[b,x]=m.useState("employees"),[g,y]=m.useState(!1),[v,j]=m.useState(!1),[S,w]=m.useState(!1),[N,P]=m.useState(!1),[C,k]=m.useState(""),[D,T]=m.useState("all");m.useState(new Date().toISOString().split("T")[0]);const[R,q]=m.useState({name:"",email:"",phone:"",address:"",position:"",department:"",salary:null,hireDate:new Date().toISOString().split("T")[0],status:"ACTIVE",branchId:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelation:""});m.useState({employeeId:"",checkIn:"",checkOut:"",status:"PRESENT",notes:""}),m.useState({employeeId:"",shiftDate:new Date().toISOString().split("T")[0],startTime:"",endTime:"",openingBalance:"",cashIn:"",cashOut:"",notes:""}),m.useState({employeeId:"",period:"",periodType:"MONTHLY",baseRate:"0.02",bonusRate:"0",notes:""}),m.useEffect(()=>{$()},[]);const $=async()=>{try{f(!0),p(""),console.log(" Loading employee data..."),console.log(" Token:",localStorage.getItem("token"));const[A,U,ee,V,X]=await Promise.all([pe.getEmployees(),pe.getBranches(),B(),I(),L()]);console.log(" Employees response:",A),console.log(" Branches response:",U),A.success?(t(A.data.employees),console.log(" Employees loaded:",A.data.employees)):(console.error(" Failed to load employees:",A.message),p(A.message||"Failed to load employees"),t([{id:"emp1",employeeId:"EMP001",name:"John Doe",email:"john.doe@pharmacy.com",phone:"+1234567890",address:"123 Main St, City",position:"Cashier",department:"Sales",salary:3e3,hireDate:"2024-01-15",status:"ACTIVE",branchId:"branch1",branch:{id:"branch1",name:"Main Branch"},emergencyContactName:"Jane Doe",emergencyContactPhone:"+1234567891",emergencyContactRelation:"Spouse",isActive:!0,createdAt:"2024-01-15T00:00:00Z",updatedAt:"2024-01-15T00:00:00Z"},{id:"emp2",employeeId:"EMP002",name:"Sarah Smith",email:"sarah.smith@pharmacy.com",phone:"+1234567892",address:"456 Oak Ave, City",position:"Manager",department:"Management",salary:5e3,hireDate:"2023-06-01",status:"ACTIVE",branchId:"branch1",branch:{id:"branch1",name:"Main Branch"},emergencyContactName:"Mike Smith",emergencyContactPhone:"+1234567893",emergencyContactRelation:"Brother",isActive:!0,createdAt:"2023-06-01T00:00:00Z",updatedAt:"2023-06-01T00:00:00Z"},{id:"emp3",employeeId:"EMP003",name:"Mike Johnson",email:"mike.johnson@pharmacy.com",phone:"+1234567894",address:"789 Pine St, City",position:"Pharmacist",department:"Pharmacy",salary:6e3,hireDate:"2023-03-10",status:"ACTIVE",branchId:"branch1",branch:{id:"branch1",name:"Main Branch"},emergencyContactName:"Lisa Johnson",emergencyContactPhone:"+1234567895",emergencyContactRelation:"Wife",isActive:!0,createdAt:"2023-03-10T00:00:00Z",updatedAt:"2023-03-10T00:00:00Z"}]),console.log(" Using sample employee data for testing")),U.success?(d(U.data.branches),console.log(" Branches loaded:",U.data.branches)):(console.error(" Failed to load branches:",U.message),d([{id:"branch1",name:"Main Branch"},{id:"branch2",name:"Downtown Branch"}]),console.log(" Using sample branch data"))}catch(A){console.error("Error loading data:",A),p("Failed to load employee data: "+A.message)}finally{f(!1)}},B=async()=>{try{const A=await pe.getAttendance({page:1,limit:50,startDate:new Date().toISOString().split("T")[0]});A.success?s(A.data.attendance):(console.error("Failed to load attendance:",A.message),s([]))}catch(A){console.error("Error loading attendance:",A),s([])}},I=async()=>{try{const A=await pe.getShifts({page:1,limit:50,startDate:new Date().toISOString().split("T")[0]});A.success?i(A.data.shifts):(console.error("Failed to load shifts:",A.message),i([]))}catch(A){console.error("Error loading shifts:",A),i([])}},L=async()=>{try{const A=await pe.getCommissions({page:1,limit:50});A.success?l(A.data.commissions):(console.error("Failed to load commissions:",A.message),l([]))}catch(A){console.error("Error loading commissions:",A),l([])}},E=async()=>{if(!R.name||!R.email||!R.position||!R.branchId){alert("Please fill all required fields!");return}if(c.length===0){alert("No branches available. Please contact administrator.");return}try{f(!0),console.log("Creating employee with data:",R),console.log("Available branches:",c);const A=await pe.createEmployee(R);A.success?(await $(),q({name:"",email:"",phone:"",address:"",position:"",department:"",salary:null,hireDate:new Date().toISOString().split("T")[0],status:"ACTIVE",branchId:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelation:""}),y(!1),alert("Employee created successfully!")):(console.error("Failed to create employee:",A),alert(A.message||"Failed to create employee"))}catch(A){console.error("Error creating employee:",A),alert(`Failed to create employee: ${A instanceof Error?A.message:"Unknown error"}`)}finally{f(!1)}},_=async A=>{if(window.confirm("Are you sure you want to delete this employee?"))try{f(!0);const U=await pe.deleteEmployee(A);U.success?(await $(),alert("Employee deleted successfully!")):alert(U.message||"Failed to delete employee")}catch(U){console.error("Error deleting employee:",U),alert("Failed to delete employee. Please try again.")}finally{f(!1)}},O=A=>{switch(A){case"PRESENT":case"COMPLETED":case"PAID":return"bg-green-100 text-green-800";case"ACTIVE":case"APPROVED":return"bg-blue-100 text-blue-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"ABSENT":case"CANCELLED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=e.filter(A=>{const U=A.name.toLowerCase().includes(C.toLowerCase())||A.email.toLowerCase().includes(C.toLowerCase())||A.employeeId.toLowerCase().includes(C.toLowerCase())||A.position.toLowerCase().includes(C.toLowerCase()),ee=D==="all"||A.branchId===D;return U&&ee});return console.log(" EmployeeManagement component rendering, employees count:",e.length),n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-blue-800",children:[n.jsx("strong",{children:"Debug:"})," Component loaded. Employees: ",e.length,", Loading: ",u.toString(),", Error: ",h||"None"]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Employee Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage employees, attendance, shifts, and performance (Manager & Admin Access)"})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs(it,{open:g,onOpenChange:y,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",children:[n.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Add Employee"]})}),n.jsxs(nt,{className:"max-w-2xl",children:[n.jsxs(st,{children:[n.jsx(at,{children:"Add New Employee"}),n.jsx(Mt,{children:"Create a new employee account with role-based permissions."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"name",children:"Full Name *"}),n.jsx(oe,{id:"name",placeholder:"John Doe",value:R.name,onChange:A=>q({...R,name:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"email",children:"Email *"}),n.jsx(oe,{id:"email",type:"email",placeholder:"john@example.com",value:R.email,onChange:A=>q({...R,email:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"phone",children:"Phone"}),n.jsx(oe,{id:"phone",placeholder:"+1234567890",value:R.phone,onChange:A=>q({...R,phone:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"address",children:"Address"}),n.jsx(oe,{id:"address",placeholder:"123 Main St, City",value:R.address,onChange:A=>q({...R,address:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"position",children:"Position *"}),n.jsx(oe,{id:"position",placeholder:"Cashier, Manager, etc.",value:R.position,onChange:A=>q({...R,position:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"department",children:"Department"}),n.jsx(oe,{id:"department",placeholder:"Sales, Admin, etc.",value:R.department,onChange:A=>q({...R,department:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"salary",children:"Salary"}),n.jsx(oe,{id:"salary",type:"number",placeholder:"3000",value:R.salary||"",onChange:A=>q({...R,salary:parseFloat(A.target.value)||null})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"hireDate",children:"Hire Date *"}),n.jsx(oe,{id:"hireDate",type:"date",value:R.hireDate,onChange:A=>q({...R,hireDate:A.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"status",children:"Status"}),n.jsxs(Dt,{value:R.status,onValueChange:A=>q({...R,status:A}),children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select status"})}),n.jsxs(It,{children:[n.jsx(ze,{value:"ACTIVE",children:"Active"}),n.jsx(ze,{value:"INACTIVE",children:"Inactive"}),n.jsx(ze,{value:"ON_LEAVE",children:"On Leave"}),n.jsx(ze,{value:"TERMINATED",children:"Terminated"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"branch",children:"Branch *"}),n.jsxs(Dt,{value:R.branchId,onValueChange:A=>q({...R,branchId:A}),children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select branch"})}),n.jsx(It,{children:c.map(A=>n.jsx(ze,{value:A.id,children:A.name},A.id))})]})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),n.jsx(z,{onClick:E,disabled:u,children:u?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Employee"})]})]})]})})]}),h&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(yr,{className:"w-5 h-5 text-red-600 mr-2"}),n.jsxs("p",{className:"text-red-800 font-medium",children:["Error: ",h]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Employees"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:e.length})]}),n.jsx(yt,{className:"w-8 h-8 text-primary"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Present Today"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.filter(A=>A.status==="PRESENT").length})]}),n.jsx(ur,{className:"w-8 h-8 text-green-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Shifts"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.filter(A=>A.status==="ACTIVE").length})]}),n.jsx(Nr,{className:"w-8 h-8 text-blue-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Commissions"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:o.filter(A=>A.status==="PENDING").length})]}),n.jsx(Di,{className:"w-8 h-8 text-yellow-600"})]})})})]}),n.jsxs(ih,{value:b,onValueChange:x,className:"space-y-6",children:[n.jsxs(Cd,{className:"grid w-full grid-cols-4",children:[n.jsxs(Jr,{value:"employees",className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-4 h-4"}),n.jsx("span",{children:"Employees"})]}),n.jsxs(Jr,{value:"attendance",className:"flex items-center space-x-2",children:[n.jsx(Nr,{className:"w-4 h-4"}),n.jsx("span",{children:"Attendance"})]}),n.jsxs(Jr,{value:"shifts",className:"flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-4 h-4"}),n.jsx("span",{children:"Shifts"})]}),n.jsxs(Jr,{value:"performance",className:"flex items-center space-x-2",children:[n.jsx(Kn,{className:"w-4 h-4"}),n.jsx("span",{children:"Performance"})]})]}),u&&n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ot,{className:"w-6 h-6 animate-spin"}),n.jsx("span",{className:"text-muted-foreground",children:"Loading employee data..."})]})}),n.jsxs(Zr,{value:"employees",className:"space-y-6",children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search employees...",value:C,onChange:A=>k(A.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(z,{variant:D==="all"?"default":"outline",size:"sm",onClick:()=>T("all"),children:"All Branches"}),c.map(A=>n.jsx(z,{variant:D===A.id?"default":"outline",size:"sm",onClick:()=>T(A.id),children:A.name},A.id))]})]})})}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{children:["Employees (",M.length,")"]})}),n.jsx(re,{children:u?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ot,{className:"w-6 h-6 animate-spin mr-2"}),n.jsx("span",{children:"Loading employees..."})]}):h?n.jsxs("div",{className:"text-center py-8 text-destructive",children:[n.jsx("p",{children:h}),n.jsx(z,{onClick:$,className:"mt-2",children:"Try Again"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Employee"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Role"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Branch"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Actions"})]})}),n.jsx("tbody",{children:M.map(A=>n.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:A.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.email}),n.jsx("p",{className:"text-xs text-muted-foreground",children:A.employeeId})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx(Ce,{variant:"outline",className:"flex items-center space-x-1 w-fit",children:n.jsx("span",{children:A.position})})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:"text-sm",children:A.branch.name})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx(Ce,{variant:A.isActive?"default":"secondary",children:A.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(z,{variant:"ghost",size:"sm",title:"View Details",children:n.jsx(fn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",title:"Edit",children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>_(A.id),className:"text-destructive hover:text-destructive",title:"Delete",children:n.jsx(wr,{className:"w-4 h-4"})})]})})]},A.id))})]})})})]})]}),n.jsx(Zr,{value:"attendance",className:"space-y-6",children:n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Attendance Records"}),n.jsxs(z,{onClick:()=>j(!0),children:[n.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Mark Attendance"]})]})}),n.jsx(re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Employee"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Check In"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Check Out"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Hours"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Status"})]})}),n.jsx("tbody",{children:r.map(A=>n.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:A.employee.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.employee.position})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:"text-sm",children:new Date(A.checkIn).toLocaleString()})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:"text-sm",children:A.checkOut?new Date(A.checkOut).toLocaleString():"Not checked out"})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:"text-sm font-medium",children:A.totalHours?`${A.totalHours}h`:"N/A"})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx(Ce,{className:O(A.status),children:A.status})})]},A.id))})]})})})]})}),n.jsx(Zr,{value:"shifts",className:"space-y-6",children:n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Shift Management"}),n.jsxs(z,{onClick:()=>w(!0),children:[n.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Start Shift"]})]})}),n.jsx(re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Employee"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Date"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Duration"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Opening Balance"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Cash Flow"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Difference"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Status"})]})}),n.jsx("tbody",{children:a.map(A=>n.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:A.employee.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.employee.position})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:"text-sm",children:new Date(A.shiftDate).toLocaleDateString()})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:"text-sm",children:A.startTime&&A.endTime?`${Math.round((new Date(A.endTime).getTime()-new Date(A.startTime).getTime())/(1e3*60*60)*10)/10}h`:"Active"})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("span",{className:"text-sm font-medium",children:["PKR ",A.openingBalance.toLocaleString()]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"text-green-600",children:["+PKR ",A.cashIn.toLocaleString()]}),n.jsxs("p",{className:"text-red-600",children:["-PKR ",A.cashOut.toLocaleString()]})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`text-sm font-medium ${A.difference===0||A.difference&&A.difference>0?"text-green-600":"text-red-600"}`,children:A.difference!==null?`PKR ${A.difference.toLocaleString()}`:"N/A"})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx(Ce,{className:O(A.status),children:A.status})})]},A.id))})]})})})]})}),n.jsx(Zr,{value:"performance",className:"space-y-6",children:n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Sales Performance & Commissions"}),n.jsxs(z,{onClick:()=>P(!0),children:[n.jsx(Di,{className:"w-4 h-4 mr-2"}),"Calculate Commission"]})]})}),n.jsx(re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Employee"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Period"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Total Sales"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Transactions"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Avg Sale"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Commission"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Status"})]})}),n.jsx("tbody",{children:o.map(A=>n.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:A.employee.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.employee.position})]})}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("span",{className:"text-sm",children:A.period}),n.jsx("p",{className:"text-xs text-muted-foreground",children:A.periodType})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("span",{className:"text-sm font-medium",children:["PKR ",A.totalSales.toLocaleString()]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:"text-sm",children:A.totalTransactions})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("span",{className:"text-sm",children:["PKR ",A.averageSale.toFixed(2)]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:["PKR ",A.totalAmount.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Base: ",A.totalCommission.toLocaleString()," + Bonus: ",A.bonusAmount.toLocaleString()]})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx(Ce,{className:O(A.status),children:A.status})})]},A.id))})]})})})]})})]})]})},wbe=()=>{Jt();const[e,t]=m.useState([]),[r,s]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(""),[c,d]=m.useState(""),[u,f]=m.useState(!1),[h,p]=m.useState(!1),[b,x]=m.useState(!1),[g,y]=m.useState(null),[v,j]=m.useState(null),[S,w]=m.useState({name:"",address:"",phone:"",email:""}),[N,P]=m.useState({name:"",address:"",phone:"",email:"",managerId:"",isActive:!0});m.useEffect(()=>{C(),k()},[]);const C=async()=>{try{i(!0);const E=await pe.getBranches();if(E.success&&E.data){const _=Array.isArray(E.data)?E.data:E.data.branches;t(_)}}catch(E){console.error("Error loading branches:",E),l("Failed to load branches")}finally{i(!1)}},k=async()=>{try{const E=await pe.getUsers({page:1,limit:1e3});if(E.success&&E.data){const _=Array.isArray(E.data)?E.data:E.data.users;s(_)}}catch(E){console.error("Error loading users:",E)}},D=e.filter(E=>E.name.toLowerCase().includes(c.toLowerCase())||E.address.toLowerCase().includes(c.toLowerCase())||E.email.toLowerCase().includes(c.toLowerCase())),T=async()=>{if(!S.name||!S.address||!S.phone||!S.email){l("Please fill in all required fields!");return}try{i(!0);const E=await pe.createBranch({...S});E.success?(w({name:"",address:"",phone:"",email:""}),f(!1),await C(),l("")):l(E.message||"Failed to create branch")}catch(E){console.error("Error creating branch:",E),l((E==null?void 0:E.message)||"Failed to create branch")}finally{i(!1)}},R=async()=>{if(!g||!N.name||!N.address||!N.phone||!N.email){l("Please fill in all required fields!");return}try{i(!0);const E=await pe.updateBranch(g.id,{...N,managerId:N.managerId||void 0});E.success?(y(null),p(!1),await C(),l("")):l(E.message||"Failed to update branch")}catch(E){console.error("Error updating branch:",E),l((E==null?void 0:E.message)||"Failed to update branch")}finally{i(!1)}},q=async()=>{if(v)try{i(!0);const E=await pe.deleteBranch(v.id);E.success?(j(null),x(!1),await C(),l("")):l(E.message||"Failed to delete branch")}catch(E){console.error("Error deleting branch:",E),l((E==null?void 0:E.message)||"Failed to delete branch")}finally{i(!1)}},$=E=>{y(E),P({name:E.name,address:E.address,phone:E.phone,email:E.email,managerId:E.managerId||"",isActive:E.isActive}),p(!0)},B=E=>{j(E),x(!0)},I=E=>{if(!E)return"No Manager";const _=r.find(O=>O.id===E);return _?_.name:"Unknown Manager"},L=E=>{if(!E)return"";const _=r.find(O=>O.id===E);return _?_.role:""};return a&&e.length===0?n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Loading Branches"}),n.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your branch data..."})]})})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Branch Management"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Manage pharmacy branches and their details  ",e.length," branches total"]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs(z,{onClick:()=>f(!0),className:"flex items-center gap-2 bg-primary hover:bg-primary/90",children:[n.jsx(fr,{className:"w-4 h-4"}),"Add Branch"]})})]})}),o&&n.jsx("div",{className:"mb-6",children:n.jsxs(tx,{variant:"destructive",className:"shadow-soft border-0",children:[n.jsx(oa,{className:"h-4 w-4"}),n.jsx(rx,{children:o})]})}),n.jsx(te,{className:"mb-6 shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),n.jsx(oe,{placeholder:"Search branches by name, address, or email...",value:c,onChange:E=>d(E.target.value),className:"pl-10 h-11"})]})})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(E=>n.jsxs(te,{className:"shadow-soft border-0 hover:shadow-lg transition-all duration-300 group",children:[n.jsx(Se,{className:"pb-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Wt,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ae,{className:"text-lg font-semibold text-gray-900 group-hover:text-primary transition-colors",children:E.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(Ce,{variant:E.isActive?"default":"secondary",className:E.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600",children:E.isActive?"Active":"Inactive"}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(E.createdAt).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>$(E),className:"h-8 w-8 p-0 hover:bg-blue-50 hover:text-blue-600",children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>B(E),className:"h-8 w-8 p-0 hover:bg-red-50 hover:text-red-600",children:n.jsx(wr,{className:"w-4 h-4"})})]})]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[n.jsx(Da,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-gray-700 leading-relaxed",children:E.address})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx($a,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-gray-700",children:E.phone})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[n.jsx($s,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-gray-700 truncate",children:E.email})]})]}),n.jsx("div",{className:"pt-3 border-t border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_s,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900 text-sm",children:I(E.managerId)}),L(E.managerId)?n.jsx("div",{className:"text-xs text-gray-500",children:L(E.managerId)}):n.jsx("div",{className:"text-xs text-gray-500",children:"Assign manager in User Management"})]})]})}),E._count&&n.jsx("div",{className:"pt-3 border-t border-gray-100",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xl font-bold text-primary",children:E._count.users||0}),n.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Users"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xl font-bold text-primary",children:E._count.products||0}),n.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Products"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xl font-bold text-primary",children:E._count.customers||0}),n.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Customers"})]})]})})]})]},E.id))}),D.length===0&&!a&&n.jsx(te,{className:"shadow-soft border-0",children:n.jsxs(re,{className:"text-center py-16",children:[n.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:n.jsx(Wt,{className:"w-10 h-10 text-gray-400"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:c?"No branches found":"No branches yet"}),n.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:c?"No branches match your search criteria. Try adjusting your search terms.":"Get started by creating your first pharmacy branch to manage your business operations."}),!c&&n.jsxs(z,{onClick:()=>f(!0),className:"bg-primary hover:bg-primary/90",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Create First Branch"]})]})}),n.jsx(it,{open:u,onOpenChange:f,children:n.jsxs(nt,{className:"sm:max-w-[500px]",children:[n.jsxs(st,{children:[n.jsx(at,{children:"Create New Branch"}),n.jsx(Mt,{children:"Add a new pharmacy branch to the system. You can assign a manager later after creating users."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"name",children:"Branch Name *"}),n.jsx(oe,{id:"name",value:S.name,onChange:E=>w({...S,name:E.target.value}),placeholder:"Enter branch name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"address",children:"Address *"}),n.jsx(oe,{id:"address",value:S.address,onChange:E=>w({...S,address:E.target.value}),placeholder:"Enter branch address"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"phone",children:"Phone *"}),n.jsx(oe,{id:"phone",value:S.phone,onChange:E=>w({...S,phone:E.target.value}),placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"email",children:"Email *"}),n.jsx(oe,{id:"email",type:"email",value:S.email,onChange:E=>w({...S,email:E.target.value}),placeholder:"Enter email address"})]})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),n.jsx(z,{onClick:T,disabled:a,children:a?"Creating...":"Create Branch"})]})]})}),n.jsx(it,{open:h,onOpenChange:p,children:n.jsxs(nt,{className:"sm:max-w-[500px]",children:[n.jsxs(st,{children:[n.jsx(at,{children:"Edit Branch"}),n.jsx(Mt,{children:"Update branch information and settings."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-name",children:"Branch Name *"}),n.jsx(oe,{id:"edit-name",value:N.name,onChange:E=>P({...N,name:E.target.value}),placeholder:"Enter branch name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-address",children:"Address *"}),n.jsx(oe,{id:"edit-address",value:N.address,onChange:E=>P({...N,address:E.target.value}),placeholder:"Enter branch address"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-phone",children:"Phone *"}),n.jsx(oe,{id:"edit-phone",value:N.phone,onChange:E=>P({...N,phone:E.target.value}),placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-email",children:"Email *"}),n.jsx(oe,{id:"edit-email",type:"email",value:N.email,onChange:E=>P({...N,email:E.target.value}),placeholder:"Enter email address"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"edit-manager",children:"Manager"}),n.jsxs("select",{id:"edit-manager",value:N.managerId,onChange:E=>P({...N,managerId:E.target.value}),className:"w-full px-3 py-2 border border-input rounded-md bg-background","aria-label":"Select manager",children:[n.jsx("option",{value:"",children:"No Manager"}),r.filter(E=>["ADMIN","MANAGER"].includes(E.role)).map(E=>n.jsxs("option",{value:E.id,children:[E.name," (",E.role,")"]},E.id))]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"edit-active",checked:N.isActive,onChange:E=>P({...N,isActive:E.target.checked}),className:"rounded","aria-label":"Active branch status"}),n.jsx(ne,{htmlFor:"edit-active",children:"Active Branch"})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),n.jsx(z,{onClick:R,disabled:a,children:a?"Updating...":"Update Branch"})]})]})}),n.jsx(it,{open:b,onOpenChange:x,children:n.jsxs(nt,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Delete Branch"}),n.jsxs(Mt,{children:['Are you sure you want to delete "',v==null?void 0:v.name,'"? This action will deactivate the branch and cannot be undone.']})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),n.jsx(z,{variant:"destructive",onClick:q,disabled:a,children:a?"Deleting...":"Delete Branch"})]})]})})]})},Nbe=()=>{const[e,t]=m.useState("month"),[r,s]=m.useState("all"),[a,i]=m.useState("sales"),o=[{id:"today",label:"Today"},{id:"week",label:"This Week"},{id:"month",label:"This Month"},{id:"quarter",label:"This Quarter"},{id:"year",label:"This Year"}],l=["All Branches","Main Branch","North Branch","South Branch","East Branch","West Branch"],c=[{id:"sales",label:"Sales Report",icon:ar},{id:"inventory",label:"Inventory Report",icon:cr},{id:"customers",label:"Customer Report",icon:yt},{id:"products",label:"Product Performance",icon:Kn},{id:"branches",label:"Branch Comparison",icon:Wt}],u={today:{revenue:45230,transactions:127,customers:98,avgTransaction:356,growth:12.5,branches:5},week:{revenue:312450,transactions:875,customers:456,avgTransaction:357,growth:8.3,branches:5},month:{revenue:125e4,transactions:3420,customers:1234,avgTransaction:365,growth:15.7,branches:8},quarter:{revenue:38e5,transactions:10200,customers:3200,avgTransaction:372,growth:22.1,branches:8},year:{revenue:145e5,transactions:42350,customers:5678,avgTransaction:342,growth:23.4,branches:8}}[e],f=[{name:"Main Branch",sales:125e4,transactions:8500,customers:1200,growth:25.4,users:45},{name:"North Branch",sales:89e4,transactions:6200,customers:850,growth:18.7,users:32},{name:"South Branch",sales:72e4,transactions:5100,customers:720,growth:15.2,users:28},{name:"East Branch",sales:68e4,transactions:4800,customers:680,growth:12.8,users:25},{name:"West Branch",sales:59e4,transactions:4200,customers:590,growth:10.5,users:22}],h=[{name:"Paracetamol 500mg",sales:2450,revenue:208250,growth:15.2,branches:8},{name:"Amoxicillin 250mg",sales:1890,revenue:226800,growth:8.7,branches:7},{name:"Vitamin D3 1000IU",sales:1560,revenue:234e3,growth:23.1,branches:8},{name:"Ibuprofen 400mg",sales:1340,revenue:127300,growth:-5.3,branches:6},{name:"Omeprazole 20mg",sales:980,revenue:176400,growth:12.4,branches:5}],p=[{segment:"New Customers",count:234,percentage:18.9,growth:25.4},{segment:"Returning Customers",count:856,percentage:69.4,growth:12.8},{segment:"VIP Customers",count:89,percentage:7.2,growth:8.5},{segment:"Inactive Customers",count:55,percentage:4.5,growth:-5.2}],b=[{id:"INV-2024-245",customer:"Ahmad Khan",amount:850,branch:"Main Branch",time:"10:30 AM",items:3},{id:"INV-2024-246",customer:"Fatima Ali",amount:1250,branch:"North Branch",time:"10:25 AM",items:5},{id:"INV-2024-247",customer:"Hassan Sheikh",amount:420,branch:"South Branch",time:"10:15 AM",items:2},{id:"INV-2024-248",customer:"Ayesha Ahmed",amount:2100,branch:"East Branch",time:"10:05 AM",items:7},{id:"INV-2024-249",customer:"Muhammad Usman",amount:680,branch:"West Branch",time:"09:45 AM",items:4}];return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Admin Reports & Analytics"}),n.jsx("p",{className:"text-muted-foreground",children:"Comprehensive insights across all pharmacy operations"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(z,{variant:"outline",onClick:()=>window.location.href="/admin",children:" Back to Admin Dashboard"}),n.jsxs(z,{variant:"outline",children:[n.jsx(ma,{className:"w-4 h-4 mr-2"}),"Custom Range"]}),n.jsxs(z,{className:"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:opacity-90",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsx(Ae,{children:"Time Period"})}),n.jsx(re,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:o.map(x=>n.jsx(z,{variant:e===x.id?"default":"outline",className:`w-full text-xs ${e===x.id?"text-white bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)]":""}`,size:"sm",onClick:()=>t(x.id),children:x.label},x.id))})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsx(Ae,{children:"Branch"})}),n.jsx(re,{children:n.jsxs(Dt,{value:r,onValueChange:s,children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select branch"})}),n.jsx(It,{children:l.map(x=>n.jsx(ze,{value:x,children:x},x))})]})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsx(Ae,{children:"Report Type"})}),n.jsx(re,{children:n.jsxs(Dt,{value:a,onValueChange:i,children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select report"})}),n.jsx(It,{children:c.map(x=>{const g=x.icon;return n.jsx(ze,{value:x.id,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(g,{className:"w-4 h-4"}),n.jsx("span",{children:x.label})]})},x.id)})})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["PKR ",u.revenue.toLocaleString()]}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Ar,{className:"w-4 h-4 text-success mr-1"}),n.jsxs("span",{className:"text-sm text-success font-medium",children:["+",u.growth,"%"]})]})]}),n.jsx(ar,{className:"w-8 h-8 text-primary"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Transactions"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.transactions.toLocaleString()}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Ar,{className:"w-4 h-4 text-success mr-1"}),n.jsx("span",{className:"text-sm text-success font-medium",children:"+8.2%"})]})]}),n.jsx(qr,{className:"w-8 h-8 text-accent"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Branches"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.branches}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Ar,{className:"w-4 h-4 text-success mr-1"}),n.jsx("span",{className:"text-sm text-success font-medium",children:"+2"})]})]}),n.jsx(Wt,{className:"w-8 h-8 text-warning"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Transaction"}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["PKR ",u.avgTransaction]}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx(Ar,{className:"w-4 h-4 text-success mr-1"}),n.jsx("span",{className:"text-sm text-success font-medium",children:"+3.1%"})]})]}),n.jsx(Kn,{className:"w-8 h-8 text-success"})]})})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Branch Performance Comparison"})]})}),n.jsx(re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Branch"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Sales"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Transactions"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Customers"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Growth"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Users"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Actions"})]})}),n.jsx("tbody",{children:f.map((x,g)=>n.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[n.jsx("td",{className:"py-4 px-4 font-medium text-foreground",children:x.name}),n.jsxs("td",{className:"py-4 px-4 font-semibold text-foreground",children:["PKR ",x.sales.toLocaleString()]}),n.jsx("td",{className:"py-4 px-4 text-muted-foreground",children:x.transactions.toLocaleString()}),n.jsx("td",{className:"py-4 px-4 text-muted-foreground",children:x.customers.toLocaleString()}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs(Ce,{variant:"outline",className:"bg-success/10 text-success border-success/20",children:["+",x.growth,"%"]})}),n.jsx("td",{className:"py-4 px-4 text-muted-foreground",children:x.users}),n.jsx("td",{className:"py-4 px-4",children:n.jsx(z,{variant:"ghost",size:"sm",children:n.jsx(fn,{className:"w-4 h-4"})})})]},g))})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Kn,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Top Selling Products (All Branches)"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:h.map((x,g)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-surface rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsxs("span",{className:"text-sm font-bold text-primary",children:["#",g+1]})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:x.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[x.sales," units  ",x.branches," branches"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-foreground",children:["PKR ",x.revenue.toLocaleString()]}),n.jsxs("div",{className:"flex items-center",children:[x.growth>=0?n.jsx(Ar,{className:"w-3 h-3 text-success mr-1"}):n.jsx(Zl,{className:"w-3 h-3 text-destructive mr-1"}),n.jsxs("span",{className:`text-xs font-medium ${x.growth>=0?"text-success":"text-destructive"}`,children:[x.growth>=0?"+":"",x.growth,"%"]})]})]})]},g))})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Customer Analytics"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:p.map((x,g)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium text-foreground",children:x.segment}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"font-semibold text-foreground",children:x.count}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.percentage,"%"]})]})]}),n.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${x.percentage}%`}})}),n.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[x.growth>=0?n.jsx(Ar,{className:"w-3 h-3 text-success mr-1"}):n.jsx(Zl,{className:"w-3 h-3 text-destructive mr-1"}),n.jsxs("span",{className:x.growth>=0?"text-success":"text-destructive",children:[x.growth>=0?"+":"",x.growth,"% from last period"]})]})]},g))})})]})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(CT,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Recent Transactions (All Branches)"})]})}),n.jsx(re,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Invoice ID"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Customer"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Branch"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Items"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Time"})]})}),n.jsx("tbody",{children:b.map((x,g)=>n.jsxs("tr",{className:"border-b border-border hover:bg-muted/50",children:[n.jsx("td",{className:"py-4 px-4 font-medium text-primary",children:x.id}),n.jsx("td",{className:"py-4 px-4 text-foreground",children:x.customer}),n.jsx("td",{className:"py-4 px-4",children:n.jsx(Ce,{variant:"outline",className:"text-xs",children:x.branch})}),n.jsxs("td",{className:"py-4 px-4 font-semibold text-foreground",children:["PKR ",x.amount.toLocaleString()]}),n.jsxs("td",{className:"py-4 px-4 text-muted-foreground",children:[x.items," items"]}),n.jsx("td",{className:"py-4 px-4 text-muted-foreground",children:x.time})]},g))})]})})})]})]})},vy={PRODUCT_OWNER:{role:"Product Owner",description:"Full control of the POS product itself, handling subscriptions and client pharmacies",permissions:["Manage all pharmacies","Handle subscriptions","System-wide analytics","Billing management"],color:"bg-purple-100 text-purple-800"},SUPER_ADMIN:{role:"Super Admin",description:"Full access across all branches of their pharmacy",permissions:["Manage all users","Manage all branches","Full system control","All reports access"],color:"bg-red-100 text-red-800"},MANAGER:{role:"Manager",description:"Manages one store/branch operations",permissions:["Manage branch users","Manage inventory","View branch reports","Approve refunds"],color:"bg-blue-100 text-blue-800"},PHARMACIST:{role:"Pharmacist",description:"Ensures prescriptions and medicine sales are compliant",permissions:["Validate prescriptions","Manage medication history","Update product details","Customer care"],color:"bg-green-100 text-green-800"},CASHIER:{role:"Cashier",description:"Handles customer checkout and frontend sales",permissions:["Process sales","Handle payments","Issue receipts","Basic customer management"],color:"bg-yellow-100 text-yellow-800"}},Sbe=()=>{Jt();const[e,t]=m.useState([]),[r,s]=m.useState(!0),[a,i]=m.useState(null),[o,l]=m.useState("");m.useEffect(()=>{t([{id:"1",name:"John Doe",email:"john@example.com",role:"SUPER_ADMIN",branch:"Main Branch",isActive:!0,lastLogin:"2024-01-15T10:30:00Z"},{id:"2",name:"Jane Smith",email:"jane@example.com",role:"MANAGER",branch:"Downtown Branch",isActive:!0,lastLogin:"2024-01-15T09:15:00Z"},{id:"3",name:"Dr. Mike Johnson",email:"mike@example.com",role:"PHARMACIST",branch:"Main Branch",isActive:!0,lastLogin:"2024-01-15T08:45:00Z"},{id:"4",name:"Sarah Wilson",email:"sarah@example.com",role:"CASHIER",branch:"Downtown Branch",isActive:!1,lastLogin:"2024-01-10T16:20:00Z"}]),s(!1)},[]);const c=(f,h)=>{t(e.map(p=>p.id===f?{...p,role:h}:p)),i(null),l("")},d=f=>{const h=vy[f];return h?n.jsx(Ce,{className:h.color,children:h.role}):null},u=f=>f?n.jsx(ur,{className:"w-4 h-4 text-green-500"}):n.jsx(Um,{className:"w-4 h-4 text-red-500"});return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),n.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading users..."})]})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Role Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and permissions across your pharmacy system"})]}),n.jsx(D0,{roles:["PRODUCT_OWNER","SUPER_ADMIN"],children:n.jsxs(z,{children:[n.jsx(ec,{className:"w-4 h-4 mr-2"}),"Add User"]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:Object.entries(vy).map(([f,h])=>n.jsxs(te,{children:[n.jsx(Se,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vr,{className:"w-5 h-5 text-primary"}),n.jsx(Ae,{className:"text-sm",children:h.role})]})}),n.jsxs(re,{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:h.description}),n.jsx("div",{className:"text-2xl font-bold text-foreground",children:e.filter(p=>p.role===f).length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"users"})]})]},f))}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsx(Ae,{children:"System Users"})}),n.jsx(re,{children:n.jsxs(il,{children:[n.jsx(ol,{children:n.jsxs(Rn,{children:[n.jsx(jt,{children:"User"}),n.jsx(jt,{children:"Role"}),n.jsx(jt,{children:"Status"}),n.jsx(jt,{children:"Last Login"}),n.jsx(jt,{children:"Actions"})]})}),n.jsx(ll,{children:e.map(f=>n.jsxs(Rn,{children:[n.jsx(vt,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:f.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:f.email})]})}),n.jsx(vt,{children:d(f.role)}),n.jsx(vt,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[u(f.isActive),n.jsx("span",{className:"text-sm",children:f.isActive?"Active":"Inactive"})]})}),n.jsx(vt,{children:f.lastLogin?new Date(f.lastLogin).toLocaleDateString():"Never"}),n.jsx(vt,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(D0,{roles:["PRODUCT_OWNER","SUPER_ADMIN"],children:n.jsx(z,{variant:"outline",size:"sm",onClick:()=>{i(f),l(f.role)},children:n.jsx(Jn,{className:"w-4 h-4"})})}),n.jsx(z,{variant:"outline",size:"sm",children:n.jsx(fn,{className:"w-4 h-4"})})]})})]},f.id))})]})})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs(te,{className:"w-96",children:[n.jsx(Se,{children:n.jsx(Ae,{children:"Change User Role"})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Changing role for: ",n.jsx("strong",{children:a.name})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current role: ",d(a.role)]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium mb-2 block",children:"New Role"}),n.jsxs(Dt,{value:o,onValueChange:l,children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select a role"})}),n.jsx(It,{children:Object.entries(vy).map(([f,h])=>n.jsx(ze,{value:f,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ce,{className:h.color,children:h.role}),n.jsx("span",{className:"text-sm",children:h.description})]})},f))})]})]}),o&&o!==a.role&&n.jsx("div",{className:"p-3 bg-muted rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(oa,{className:"w-4 h-4 text-orange-500 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-medium",children:"Role Change Warning"}),n.jsx("p",{className:"text-muted-foreground",children:"This will change the user's permissions and access levels. Please ensure this change is authorized."})]})]})}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(z,{variant:"outline",onClick:()=>{i(null),l("")},children:"Cancel"}),n.jsx(z,{onClick:()=>c(a.id,o),disabled:!o||o===a.role,children:"Update Role"})]})]})]})})]})},Pbe=({adminId:e,adminName:t,branchId:r})=>{const[s,a]=m.useState([]),[i,o]=m.useState(!1),[l,c]=m.useState(""),[d,u]=m.useState(""),[f,h]=m.useState(!1),[p,b]=m.useState({name:"",email:"",username:"",password:"",role:"CASHIER"});m.useEffect(()=>{x()},[e]);const x=async()=>{o(!0),c("");try{const w=await pe.getAdminUsers(e);w.success&&a(w.data)}catch(w){console.error("Error loading users:",w),c("Failed to load users")}finally{o(!1)}},g=async()=>{if(!p.name||!p.email||!p.username||!p.password){alert("Please fill in all required fields!");return}o(!0);try{const w=await pe.createUser({name:p.name,email:p.email,username:p.username,password:p.password,role:p.role,branchId:r});w.success?(alert("User created successfully!"),x(),b({name:"",email:"",username:"",password:"",role:"CASHIER"}),h(!1)):alert(w.message||"Failed to create user")}catch(w){console.error("Error creating user:",w),alert("Failed to create user. Please try again.")}finally{o(!1)}},y=s.filter(w=>w.name.toLowerCase().includes(d.toLowerCase())||w.email.toLowerCase().includes(d.toLowerCase())||w.role.toLowerCase().includes(d.toLowerCase())),v=w=>{switch(w){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},j=w=>{switch(w){case"SUPERADMIN":return"bg-red-100 text-red-800";case"ADMIN":return"bg-orange-100 text-orange-800";case"MANAGER":return"bg-blue-100 text-blue-800";case"CASHIER":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},S=w=>{switch(w){case"SUPERADMIN":return n.jsx(zm,{className:"w-4 h-4"});case"ADMIN":return n.jsx(Vr,{className:"w-4 h-4"});case"MANAGER":return n.jsx(_s,{className:"w-4 h-4"});case"CASHIER":return n.jsx(yt,{className:"w-4 h-4"});default:return n.jsx(yt,{className:"w-4 h-4"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"User Management"}),n.jsxs("p",{className:"text-muted-foreground",children:["Manage users for ",t]})]}),n.jsxs(it,{open:f,onOpenChange:h,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{className:"bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] text-white hover:opacity-90",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add User"]})}),n.jsxs(nt,{className:"max-w-md",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(Wa,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Add New User"})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"userName",children:"Full Name *"}),n.jsx(oe,{id:"userName",placeholder:"Enter full name",value:p.name,onChange:w=>b({...p,name:w.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"userEmail",children:"Email Address *"}),n.jsx(oe,{id:"userEmail",type:"email",placeholder:"Enter email address",value:p.email,onChange:w=>b({...p,email:w.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"userUsername",children:"Username *"}),n.jsx(oe,{id:"userUsername",placeholder:"Enter username",value:p.username,onChange:w=>b({...p,username:w.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"userPassword",children:"Password *"}),n.jsx(oe,{id:"userPassword",type:"password",placeholder:"Enter password",value:p.password,onChange:w=>b({...p,password:w.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"userRole",children:"Role *"}),n.jsxs(Dt,{value:p.role,onValueChange:w=>b({...p,role:w}),children:[n.jsx(Tt,{children:n.jsx($t,{})}),n.jsxs(It,{children:[n.jsx(ze,{value:"SUPERADMIN",children:"Super Admin"}),n.jsx(ze,{value:"ADMIN",children:"Admin"}),n.jsx(ze,{value:"MANAGER",children:"Manager"}),n.jsx(ze,{value:"CASHIER",children:"Cashier"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[n.jsx(z,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),n.jsx(z,{onClick:g,disabled:i,className:"bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] text-white hover:opacity-90",children:i?"Creating...":"Create User"})]})]})]})]}),l&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-red-800",children:l}),n.jsx(z,{variant:"outline",size:"sm",onClick:x,className:"mt-2",children:"Retry"})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search users by name, email, or role...",value:d,onChange:w=>u(w.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(w=>n.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(Se,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:S(w.role)}),n.jsxs("div",{children:[n.jsx(Ae,{className:"text-lg",children:w.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:w.email})]})]}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx(z,{variant:"ghost",size:"sm",children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",children:n.jsx(wr,{className:"w-4 h-4"})})]})]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($s,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:w.email})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{className:"text-sm",children:["Last active: ",w.lastActive]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs ${v(w.status)}`,children:w.status.toUpperCase()}),n.jsx("span",{className:`px-2 py-1 rounded text-xs ${j(w.role)}`,children:w.role})]})]})]},w.id))}),y.length===0&&!i&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(yt,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No users found"})]})]})},B3=()=>{const{logout:e,user:t}=Jt(),[r,s]=m.useState("overview"),[a,i]=m.useState(""),[o,l]=m.useState(null),[c,d]=m.useState(!1);console.log(" SuperAdminDashboard: Component rendered with user:",t);const[u,f]=m.useState(!1),[h,p]=m.useState("overview"),[b,x]=m.useState(!1),[g,y]=m.useState(!1),[v,j]=m.useState(!1),[S,w]=m.useState(!1),[N,P]=m.useState(new Date),[C,k]=m.useState(""),[D,T]=m.useState(""),[R,q]=m.useState([]),[$,B]=m.useState([]),[I,L]=m.useState([]),[E,_]=m.useState({totalAdmins:0,totalUsers:0,totalSales:0,activeAdmins:0}),[O,M]=m.useState([]),[A,U]=m.useState({name:"",email:"",phone:"",company:"",address:"",password:"",branchId:"",plan:"basic"}),[ee,V]=m.useState(!1),[X,Q]=m.useState(null),[le,H]=m.useState(!1),[ce,se]=m.useState(0),{toast:Y}=nd();m.useEffect(()=>{Ee(),ye()},[]),m.useEffect(()=>{const K=setInterval(()=>{P(new Date)},1e3);return()=>clearInterval(K)},[]),m.useEffect(()=>{console.log("Branches state updated:",I)},[I]),m.useEffect(()=>{if(D){const K=setTimeout(()=>{T("")},5e3);return()=>clearTimeout(K)}},[D]);const Ee=async()=>{x(!0),k("");try{if(!localStorage.getItem("token")){k("Authentication required. Please log in.");return}const[ge,we]=await Promise.all([pe.getAdmins({page:1,limit:100}),pe.getSuperAdminStats()]);ge.success&&ge.data&&q(ge.data.admins),we.success&&we.data&&_(we.data)}catch(K){console.error("Error loading data:",K),K instanceof Error&&K.message.includes("Authentication required")?k("Please log in to continue"):k("Failed to load data")}finally{x(!1)}},ye=async()=>{try{const K=await pe.getBranches();if(console.log("Branches response:",K),K.success&&K.data){const ge=Array.isArray(K.data)?K.data:K.data.branches,we=ge.map(De=>({id:De.id,name:De.name}));M(we),L(ge)}}catch(K){console.error("Error loading branches:",K)}},J=async K=>{try{y(!0);const ge=await pe.getAdminUsers(K);ge.success?B(ge.data||[]):Y({title:"Error",description:"Failed to load users",variant:"destructive"})}catch(ge){console.error("Error loading admin users:",ge),Y({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{y(!1)}},ke=async()=>{try{w(!0);const K=await pe.getBranches();if(K.success&&K.data){const ge=Array.isArray(K.data)?K.data:K.data.branches;L(ge)}else Y({title:"Error",description:"Failed to load branches",variant:"destructive"})}catch(K){console.error("Error loading branches:",K),Y({title:"Error",description:"Failed to load branches",variant:"destructive"})}finally{w(!1)}},Me=async(K,ge)=>{try{const we=ge==="active"?"inactive":"active";(await pe.updateUser(K,{isActive:we==="active"})).success?(B(We=>We.map(Ue=>Ue.id===K?{...Ue,status:we}:Ue)),Y({title:"Success",description:`User ${we==="active"?"activated":"deactivated"} successfully`})):Y({title:"Error",description:"Failed to update user status",variant:"destructive"})}catch(we){console.error("Error updating user status:",we),Y({title:"Error",description:"Failed to update user status",variant:"destructive"})}},Le=async(K,ge)=>{try{const we=ge==="active"?"inactive":"active";if((await pe.updateAdmin(K,{isActive:we==="active"})).success){if(q(We=>We.map(Ue=>Ue.id===K?{...Ue,status:we}:Ue)),we==="inactive"){const We=$.filter(Ue=>Ue.adminId===K);for(const Ue of We)await pe.updateUser(Ue.id,{isActive:!1});B(Ue=>Ue.map(de=>de.adminId===K?{...de,status:"inactive"}:de))}Y({title:"Success",description:`Admin ${we==="active"?"activated":"deactivated"} successfully${we==="inactive"?". All users under this admin have been deactivated.":""}`}),Ee()}else Y({title:"Error",description:"Failed to update admin status",variant:"destructive"})}catch(we){console.error("Error updating admin status:",we),Y({title:"Error",description:"Failed to update admin status",variant:"destructive"})}},Te=async K=>{l(K),f(!0),await J(K.id),await ke()},mt=K=>{Q(K),V(!0)},ct=async()=>{if(X)try{H(!0),await pe.deleteAdmin(X.id),Y({title:"Success",description:`Admin ${X.name} has been permanently deleted from the database.`,variant:"default"}),await Ee(),V(!1),Q(null)}catch(K){console.error("Error deleting admin:",K),Y({title:"Error",description:"Failed to delete admin. Please try again.",variant:"destructive"})}finally{H(!1)}},Ye=R.filter(K=>K.name.toLowerCase().includes(a.toLowerCase())||K.company.toLowerCase().includes(a.toLowerCase())||K.email.toLowerCase().includes(a.toLowerCase())),ut=E.totalAdmins,_t=E.totalUsers;I.length;const Vt=E.activeAdmins,xe=async()=>{if(console.log("Creating admin with data:",A),!A.name||!A.email||!A.phone||!A.company||!A.password){k("Please fill in all required fields! Missing: "+(A.name?"":"Name, ")+(A.email?"":"Email, ")+(A.phone?"":"Phone, ")+(A.company?"":"Company, ")+(A.password?"":"Password"));return}x(!0);try{const K={name:A.name,email:A.email,phone:A.phone,company:A.company,plan:"basic",branchId:null,password:A.password};console.log("Sending admin data:",K);const ge=await pe.createAdmin(K);ge.success?(T(`Admin created successfully! Username: ${A.email.split("@")[0]}_admin, Password: ${A.password}`),Ee(),U({name:"",email:"",phone:"",company:"",address:"",password:"",branchId:"",plan:"basic"}),j(!1)):k(ge.message||"Failed to create admin")}catch(K){console.error("Error creating admin:",K),k("Failed to create admin. Please try again.")}finally{x(!1)}},Z=K=>{switch(K){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-yellow-100 text-yellow-800";case"suspended":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Pe=K=>{switch(K){case"basic":return"bg-blue-100 text-blue-800";case"premium":return"bg-purple-100 text-purple-800";case"enterprise":return"bg-gold-100 text-gold-800";default:return"bg-gray-100 text-gray-800"}},Ne=[{id:"overview",label:"Overview",icon:Kn},{id:"admins",label:"Admin Management",icon:yt},{id:"users",label:"User Analytics",icon:x0},{id:"payments",label:"Admin Payments",icon:En},{id:"settings",label:"Settings",icon:_o}];return n.jsxs("div",{className:"flex h-screen bg-background",children:[n.jsxs("div",{className:"w-64 bg-white border-r border-border shadow-sm",children:[n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:n.jsx(zm,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-foreground",children:"SuperAdmin"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"MediBill Pulse"})]})]})}),n.jsx("nav",{className:"px-4 space-y-2",children:Ne.map(K=>{const ge=K.icon;return n.jsxs("button",{onClick:()=>{s(K.id),p(K.id)},className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${r===K.id&&h!=="user-management"?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[n.jsx(ge,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:K.label})]},K.id)})}),n.jsx("div",{className:"p-4 border-t border-border",children:n.jsxs(z,{onClick:e,variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",children:[n.jsx(Sx,{className:"w-4 h-4 mr-3"}),"Logout"]})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:[h==="overview"&&"Dashboard Overview",h==="admins"&&"Admin Management",h==="users"&&"User Analytics",h==="payments"&&"Admin Payments",h==="settings"&&"Settings",h==="user-management"&&"User Management"]}),n.jsxs("p",{className:"text-muted-foreground",children:[h==="overview"&&"Monitor your platform performance and key metrics",h==="admins"&&"Manage all admins and their subscriptions",h==="users"&&"Analyze user activity and engagement",h==="payments"&&"Manage admin payments and billing",h==="settings"&&"Configure platform settings and preferences",h==="user-management"&&`Managing users for ${(o==null?void 0:o.name)||"Admin"}`]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:N.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:N.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]}),h==="admins"&&n.jsxs(it,{open:v,onOpenChange:j,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{className:"bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] text-white hover:opacity-90",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Create Admin"]})}),n.jsxs(nt,{className:"max-w-2xl",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(Wa,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Create New Admin"})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"adminName",children:"Admin Name *"}),n.jsx(oe,{id:"adminName",placeholder:"Enter admin name",value:A.name,onChange:K=>U({...A,name:K.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"adminEmail",children:"Email Address *"}),n.jsx(oe,{id:"adminEmail",type:"email",placeholder:"Enter email address",value:A.email,onChange:K=>U({...A,email:K.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"adminPhone",children:"Phone Number *"}),n.jsx(oe,{id:"adminPhone",placeholder:"Enter phone number",value:A.phone,onChange:K=>U({...A,phone:K.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"adminCompany",children:"Company Name *"}),n.jsx(oe,{id:"adminCompany",placeholder:"Enter company name",value:A.company,onChange:K=>U({...A,company:K.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ne,{htmlFor:"adminPassword",children:"Password *"}),n.jsx(z,{type:"button",variant:"outline",size:"sm",onClick:()=>{const K=Math.random().toString(36).slice(-8);U({...A,password:K})},children:"Generate Password"})]}),n.jsx(oe,{id:"adminPassword",type:"password",placeholder:"Enter password for admin (min 6 characters)",value:A.password,onChange:K=>U({...A,password:K.target.value})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"This password will be used by the admin to login. You can share this with the admin."}),A.password&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${A.password.length>=6?"bg-green-500":"bg-red-500"}`}),n.jsx("span",{className:`text-xs ${A.password.length>=6?"text-green-600":"text-red-600"}`,children:A.password.length>=6?"Password is strong":"Password must be at least 6 characters"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"adminAddress",children:"Address *"}),n.jsx(oe,{id:"adminAddress",placeholder:"Enter full address",value:A.address,onChange:K=>U({...A,address:K.target.value})})]}),D&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("p",{className:"text-green-800 font-medium",children:"Admin Created Successfully!"})]}),n.jsx("p",{className:"text-green-700 text-sm mt-1",children:D})]}),C&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),n.jsx("p",{className:"text-red-800 font-medium",children:"Error Creating Admin"})]}),n.jsx("p",{className:"text-red-700 text-sm mt-1",children:C})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-6 border-t",children:[n.jsx(z,{variant:"outline",onClick:()=>{j(!1),U({name:"",email:"",phone:"",company:"",address:"",password:"",branchId:"",plan:"basic"}),k(""),T("")},children:"Cancel"}),n.jsx(z,{onClick:xe,disabled:b,className:"bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] text-white hover:opacity-90",children:b?"Creating...":"Create Admin"})]})]})]})]}),h==="overview"&&n.jsxs("div",{className:"space-y-6",children:[C&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsx("p",{className:"text-red-800",children:C}),n.jsx(z,{variant:"outline",size:"sm",onClick:Ee,className:"mt-2",children:"Retry"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Total Admins",value:ut.toString(),icon:yt,trendValue:"+12.5%"},{title:"Total Users",value:_t.toString(),icon:Wa,trendValue:"+8.2%"},{title:"Total Branches",value:I.length.toString(),icon:Wt,trendValue:"+5.1%"},{title:"Active Admins",value:Vt.toString(),icon:wT,trendValue:"+15.3%"}].map((K,ge)=>{const we=K.icon,De=ce===ge;return n.jsx(te,{className:`
                        shadow-soft border-0 transition-all duration-300 cursor-pointer group
                        ${De?"bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] text-white shadow-lg scale-105":"bg-white hover:bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:shadow-lg hover:scale-105"}
                      `,onClick:()=>{},children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm font-medium mb-2 ${De?"text-white/90":"text-gray-600 group-hover:text-white/90"}`,children:K.title}),n.jsx("p",{className:`text-2xl font-bold mb-2 ${De?"text-white":"text-gray-900 group-hover:text-white"}`,children:K.value}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ar,{className:`w-4 h-4 mr-1 ${De?"text-white":"text-green-600 group-hover:text-white"}`}),n.jsx("span",{className:`text-sm font-medium ${De?"text-white":"text-green-600 group-hover:text-white"}`,children:K.trendValue})]}),n.jsx("span",{className:`text-xs ${De?"text-white/80":"text-gray-500 group-hover:text-white/80"}`,children:"vs last month"})]})]}),n.jsx("div",{className:`p-4 rounded-xl ml-4 ${De?"bg-white/20":"bg-gray-100 group-hover:bg-white/20"}`,children:n.jsx(we,{className:`w-8 h-8 ${De?"text-white":"text-gray-600 group-hover:text-white"}`})})]})})},ge)})}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Recent Admins"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:R.slice(0,3).map(K=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:n.jsx(Vr,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:K.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:K.company})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium",children:[K.userCount," users"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[K.managerCount," managers"]})]})]},K.id))})})]})]}),h==="admins"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search admins by name, company, or email...",value:a,onChange:K=>i(K.target.value),className:"pl-10"})]})}),n.jsxs(z,{variant:"outline",onClick:Ee,children:[n.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ye.map(K=>n.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(Se,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Vr,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ae,{className:"text-lg",children:K.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:K.company})]})]}),n.jsx("div",{className:"flex items-center space-x-1",children:n.jsxs(Ce,{className:`${Z(K.status)}`,children:[K.status==="active"?n.jsx(_s,{className:"w-3 h-3 mr-1"}):n.jsx(po,{className:"w-3 h-3 mr-1"}),K.status.toUpperCase()]})})]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx($s,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:K.email})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx($a,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:K.phone})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Da,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:K.address})]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4 pt-2 border-t",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:K.userCount}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Users"})]})}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last active: ",K.lastActive]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>Le(K.id,K.status),className:"flex items-center space-x-1",title:K.status==="active"?"Deactivate Admin":"Activate Admin",children:[K.status==="active"?n.jsx(j0,{className:"w-4 h-4 text-green-600"}):n.jsx(b0,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-xs",children:K.status==="active"?"Deactivate":"Activate"})]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>Te(K),className:"flex items-center space-x-1",children:[n.jsx(_o,{className:"w-4 h-4"}),n.jsx("span",{children:"Manage"})]}),n.jsxs(z,{variant:"destructive",size:"sm",onClick:()=>mt(K),className:"flex items-center space-x-1",title:"Delete Admin Permanently",children:[n.jsx(wr,{className:"w-4 h-4"}),n.jsx("span",{children:"Delete"})]})]})]})]})]},K.id))})]}),h==="users"&&n.jsx("div",{className:"space-y-6",children:n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(x0,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"User Distribution by Admin"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:R.map(K=>{const ge=$.filter(De=>De.adminId===K.id),we=_t>0?ge.length/_t*100:0;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:K.name}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[ge.length," users (",we.toFixed(1),"%)"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${we}%`}})})]},K.id)})})})]})}),h==="payments"&&n.jsx("div",{className:"space-y-6",children:n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(En,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Admin Payment Management"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Revenue"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-800",children:["PKR ",R.reduce((K,ge)=>{const we=ge.plan==="basic"?5e3:ge.plan==="premium"?1e4:2e4;return K+we},0).toLocaleString()]})]}),n.jsx(ar,{className:"w-8 h-8 text-blue-600"})]})}),n.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-600",children:"Paid Subscriptions"}),n.jsx("p",{className:"text-2xl font-bold text-green-800",children:R.filter(()=>Math.random()>.3).length})]}),n.jsx(_s,{className:"w-8 h-8 text-green-600"})]})}),n.jsx("div",{className:"p-4 bg-red-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-red-600",children:"Pending Payments"}),n.jsx("p",{className:"text-2xl font-bold text-red-800",children:R.filter(()=>Math.random()<=.3).length})]}),n.jsx(po,{className:"w-8 h-8 text-red-600"})]})}),n.jsx("div",{className:"p-4 bg-purple-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Total Admins"}),n.jsx("p",{className:"text-2xl font-bold text-purple-800",children:R.length})]}),n.jsx(yt,{className:"w-8 h-8 text-purple-600"})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Admin Subscription Plans"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(te,{className:"border-2 border-blue-200",children:[n.jsxs(Se,{children:[n.jsx(Ae,{className:"text-blue-600",children:"Basic Plan"}),n.jsxs("div",{className:"text-3xl font-bold",children:["PKR 5,000",n.jsx("span",{className:"text-sm font-normal",children:"/month"})]})]}),n.jsx(re,{children:n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:" Up to 10 users"}),n.jsx("li",{children:" 1 branch"}),n.jsx("li",{children:" Basic reporting"}),n.jsx("li",{children:" Email support"})]})})]}),n.jsxs(te,{className:"border-2 border-purple-200",children:[n.jsxs(Se,{children:[n.jsx(Ae,{className:"text-purple-600",children:"Premium Plan"}),n.jsxs("div",{className:"text-3xl font-bold",children:["PKR 10,000",n.jsx("span",{className:"text-sm font-normal",children:"/month"})]})]}),n.jsx(re,{children:n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:" Up to 50 users"}),n.jsx("li",{children:" 3 branches"}),n.jsx("li",{children:" Advanced reporting"}),n.jsx("li",{children:" Priority support"})]})})]}),n.jsxs(te,{className:"border-2 border-orange-200",children:[n.jsxs(Se,{children:[n.jsx(Ae,{className:"text-orange-600",children:"Enterprise Plan"}),n.jsxs("div",{className:"text-3xl font-bold",children:["PKR 20,000",n.jsx("span",{className:"text-sm font-normal",children:"/month"})]})]}),n.jsx(re,{children:n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsx("li",{children:" Unlimited users"}),n.jsx("li",{children:" Unlimited branches"}),n.jsx("li",{children:" Custom reporting"}),n.jsx("li",{children:" 24/7 support"})]})})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Admin Payment Status"}),n.jsx(te,{children:n.jsx(re,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Payment"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Due"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(K=>{const ge=Math.random()>.3?"paid":"pending",we=ge==="paid"?"2024-01-15":"Never",De="2024-02-15",We=K.plan==="basic"?5e3:K.plan==="premium"?1e4:2e4;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Vr,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.name}),n.jsx("div",{className:"text-sm text-gray-500",children:K.email})]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:K.company})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Ce,{className:`${Pe(K.plan)}`,children:K.plan.toUpperCase()})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["PKR ",We.toLocaleString()]}),n.jsx("div",{className:"text-sm text-gray-500",children:"per month"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Ce,{className:ge==="paid"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:ge==="paid"?n.jsxs(n.Fragment,{children:[n.jsx(_s,{className:"w-3 h-3 mr-1"}),"PAID"]}):n.jsxs(n.Fragment,{children:[n.jsx(po,{className:"w-3 h-3 mr-1"}),"PENDING"]})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:we}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:De}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(z,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-800",children:[n.jsx(En,{className:"w-4 h-4 mr-1"}),"View Details"]}),ge==="pending"&&n.jsxs(z,{variant:"outline",size:"sm",className:"text-green-600 hover:text-green-800",children:[n.jsx(ar,{className:"w-4 h-4 mr-1"}),"Mark Paid"]})]})})]},K.id)})})]})})})})]})]})})]})}),h==="settings"&&n.jsx("div",{className:"space-y-6",children:n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(_o,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Platform Settings"})]})}),n.jsx(re,{children:n.jsx("p",{className:"text-muted-foreground",children:"Platform configuration settings will be available here."})})]})}),h==="user-management"&&o&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(z,{variant:"outline",onClick:()=>p("admins"),className:"flex items-center space-x-2",children:[n.jsx(NT,{className:"w-4 h-4"}),n.jsx("span",{children:"Back to Admins"})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"User Management"}),n.jsxs("p",{className:"text-muted-foreground",children:["Managing users for ",o.name]})]})]}),n.jsx(Pbe,{adminId:o.id,adminName:o.name,branchId:o.branchId||""})]})]})}),n.jsx(it,{open:c,onOpenChange:d,children:n.jsxs(nt,{className:"max-w-2xl",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-5 h-5 text-primary"}),n.jsxs("span",{children:["Users for ",o==null?void 0:o.name]})]})}),n.jsx("div",{className:"space-y-4",children:o&&$.filter(K=>K.adminId===o.id).map(K=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:K.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:K.email})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs ${Z(K.status)}`,children:K.status.toUpperCase()}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last active: ",K.lastActive]})]})]},K.id))})]})}),n.jsx(it,{open:u,onOpenChange:f,children:n.jsxs(nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(Vr,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:o==null?void 0:o.name}),n.jsx(Ce,{className:"bg-blue-100 text-blue-800",children:"Admin"})]}),n.jsxs("p",{className:"text-muted-foreground",children:["Manage ",o==null?void 0:o.company," admin and their users"]})]}),o&&n.jsxs(ih,{defaultValue:"overview",className:"w-full",children:[n.jsxs(Cd,{className:"grid w-full grid-cols-3",children:[n.jsx(Jr,{value:"overview",children:"Overview"}),n.jsxs(Jr,{value:"users",children:["Users (",$.length,")"]}),n.jsx(Jr,{value:"branches",children:"Branches"})]}),n.jsx(Zr,{value:"overview",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(te,{children:[n.jsx(Se,{children:n.jsx(Ae,{className:"text-lg",children:"Admin Information"})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Email"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($s,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:o.email})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Phone"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($a,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:o.phone})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Company"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:o.company})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Address"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Da,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:o.address})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Status"}),n.jsxs(Ce,{className:`${Z(o.status)}`,children:[o.status==="active"?n.jsx(_s,{className:"w-3 h-3 mr-1"}):n.jsx(po,{className:"w-3 h-3 mr-1"}),o.status.toUpperCase()]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Plan"}),n.jsx(Ce,{className:`${Pe(o.plan)}`,children:o.plan.toUpperCase()})]})]})]}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsx(Ae,{className:"text-lg",children:"Statistics"})}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:o.userCount}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:o.managerCount}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Managers"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:I.length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Branches"})]}),n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:o.createdAt}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"})]})]})})]})]})}),n.jsxs(Zr,{value:"users",className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Users Management"}),n.jsxs(z,{size:"sm",onClick:()=>J(o.id),children:[n.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),g?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Bt,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Loading users..."})]})}):$.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(yt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No users found for this admin"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Users will appear here when they are created under this admin"})]}):n.jsx("div",{className:"border rounded-lg",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map(K=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:n.jsx(yt,{className:"w-4 h-4 text-gray-600"})}),n.jsx("span",{className:"font-medium",children:K.name})]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:K.email}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsx(Ce,{className:"bg-blue-100 text-blue-800",children:K.role})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:n.jsxs(Ce,{className:`${Z(K.status)}`,children:[K.status==="active"?n.jsx(_s,{className:"w-3 h-3 mr-1"}):n.jsx(po,{className:"w-3 h-3 mr-1"}),K.status.toUpperCase()]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:K.createdAt})]})}),n.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:n.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>Me(K.id,K.status),className:"flex items-center space-x-1",children:[K.status==="active"?n.jsx(j0,{className:"w-4 h-4 text-green-600"}):n.jsx(b0,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-xs",children:K.status==="active"?"Deactivate":"Activate"})]})})]},K.id))})]})})})]}),n.jsxs(Zr,{value:"branches",className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Branch Information"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Branches: ",I.length]})]}),n.jsxs(z,{size:"sm",onClick:ke,children:[n.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),S?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Bt,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Loading branches..."})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map(K=>n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(AT,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:K.name}),K.isActive?n.jsx(Ce,{className:"bg-green-100 text-green-800",children:"Active"}):n.jsx(Ce,{className:"bg-gray-100 text-gray-800",children:"Inactive"})]})}),n.jsxs(re,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Da,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:K.address})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx($a,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:K.phone})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx($s,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:K.email})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-bold text-blue-600",children:K._count.users}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Users"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-bold text-green-600",children:K._count.products}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Products"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-bold text-purple-600",children:K._count.customers}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Customers"})]})]})]})]},K.id))})]})]}),n.jsx("div",{className:"flex justify-end pt-6 border-t",children:n.jsx(z,{variant:"outline",onClick:()=>f(!1),children:"Close"})})]})}),n.jsx(it,{open:ee,onOpenChange:V,children:n.jsxs(nt,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(yr,{className:"w-5 h-5 text-red-600"}),n.jsx("span",{children:"Delete Admin"})]}),n.jsxs(Mt,{children:["Are you sure you want to permanently delete ",n.jsx("strong",{children:X==null?void 0:X.name}),"? This action will remove the admin and ALL their related data from the database including:",n.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[n.jsx("li",{children:"All users under this admin"}),n.jsx("li",{children:"All products and inventory"}),n.jsx("li",{children:"All sales and transactions"}),n.jsx("li",{children:"All customers and suppliers"}),n.jsx("li",{children:"All branches and settings"})]}),n.jsx("strong",{className:"text-red-600",children:"This action cannot be undone!"})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>V(!1),disabled:le,children:"Cancel"}),n.jsx(z,{variant:"destructive",onClick:ct,disabled:le,className:"flex items-center space-x-2",children:le?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Deleting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(wr,{className:"w-4 h-4"}),n.jsx("span",{children:"Delete Permanently"})]})})]})]})})]})},Cbe=()=>n.jsx(B3,{}),Abe=()=>{var Y,Ee,ye,J,ke,Me,Le,Te,mt,ct,Ye,ut,_t,Vt,xe;const{user:e,logout:t}=Jt(),r=ud();m.useState(!0),m.useState("cashier");const[s,a]=m.useState("sales"),[i,o]=m.useState(!0),[l,c]=m.useState(null),[d,u]=m.useState(null),[f,h]=m.useState([]),[p,b]=m.useState(null),[x,g]=m.useState([]),[y,v]=m.useState([]),[j,S]=m.useState(!1),[w,N]=m.useState(!1),[P,C]=m.useState({}),[k,D]=m.useState({}),[T,R]=m.useState(null),[q,$]=m.useState(null),[B,I]=m.useState(!1),[L,E]=m.useState(!1),[_,O]=m.useState(new Date),M=Z=>{},A=async()=>{try{const Z=await pe.getSales({page:1,limit:1e3});if(Z.success&&Z.data){const Pe=Z.data.sales||[],Ne={},K={};Pe.forEach(ge=>{var We,Ue;const we=(We=ge.branch)==null?void 0:We.id,De=(Ue=ge.user)==null?void 0:Ue.id;we&&(Ne[we]||(Ne[we]={totalSales:0,totalAmount:0,sales:[]}),Ne[we].totalSales+=1,Ne[we].totalAmount+=ge.totalAmount||0,Ne[we].sales.push(ge)),De&&(K[De]||(K[De]={totalSales:0,totalAmount:0,sales:[]}),K[De].totalSales+=1,K[De].totalAmount+=ge.totalAmount||0,K[De].sales.push(ge))}),C(Ne),D(K)}}catch(Z){console.warn("Could not load sales data:",Z)}},U=Z=>{R(Z),I(!0)},ee=Z=>{$(Z),E(!0)},V=()=>{r("/reports")},X=()=>{r("/inventory")},Q=Z=>`PKR ${Z.toLocaleString()}`,le=async()=>{var Z,Pe;try{o(!0),c(null);let Ne=e==null?void 0:e.branchId;if(!Ne){const ge=await pe.getBranches();ge.success&&((Pe=(Z=ge.data)==null?void 0:Z.branches)==null?void 0:Pe.length)>0&&(Ne=ge.data.branches[0].id)}const K=await pe.getDashboardData(Ne||"");if(K.success&&K.data){const ge=K.data;console.log("Dashboard data loaded:",ge),u({today:ge.today,month:ge.month,recentSales:ge.recentSales||[],totalProducts:0,lowStockCount:0}),b(new Date)}else c("Failed to load dashboard data");try{const[ge,we]=await Promise.all([pe.getBranches(),pe.getUsers()]);ge.success&&ge.data&&g(ge.data.branches||[]),we.success&&we.data&&v(we.data.users||[]),await A()}catch(ge){console.warn("Could not load branches/users data:",ge)}try{const ge=await pe.getInventoryReport({branchId:Ne||""});ge.success&&ge.data&&(h(ge.data.lowStockProducts||[]),u(we=>{var De,We;return{...we,totalProducts:((De=ge.data.summary)==null?void 0:De.totalProducts)||0,lowStockCount:((We=ge.data.summary)==null?void 0:We.lowStockCount)||0}}))}catch(ge){console.warn("Could not load inventory data:",ge),h([]);try{const we=await pe.getProducts({branchId:Ne||""});if(we.success&&we.data){const De=we.data.products||[],We=De.filter(Ue=>Ue.stock<=Ue.minStock).length;u(Ue=>({...Ue,totalProducts:De.length,lowStockCount:We}))}}catch(we){console.warn("Could not load product data:",we)}}}catch(Ne){console.error("Error loading dashboard data:",Ne),c("Failed to load dashboard data")}finally{o(!1)}};m.useEffect(()=>{le()},[e==null?void 0:e.branchId]),m.useEffect(()=>{const Z=setInterval(()=>{le()},12e4);return()=>clearInterval(Z)},[]),m.useEffect(()=>{const Z=()=>{document.hidden||le()};return document.addEventListener("visibilitychange",Z),()=>document.removeEventListener("visibilitychange",Z)},[]),m.useEffect(()=>{const Z=setInterval(()=>{O(new Date)},1e3);return()=>clearInterval(Z)},[]);const ce=(()=>{var Pe,Ne,K,ge,we,De;if(!d)return[];const Z=[{id:"products",title:"Total Products",value:`${d.totalProducts||0}`,change:"Active products",icon:cr,trend:"neutral"},{id:"stock",title:"Low Stock Items",value:`${d.lowStockCount||0}`,change:"Need restocking",icon:oa,trend:(d.lowStockCount||0)>0?"warning":"neutral"}];return(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="MANAGER"?[{id:"sales",title:"Today's Sales",value:`PKR ${((Ne=(Pe=d.today)==null?void 0:Pe.revenue)==null?void 0:Ne.toLocaleString())||"0"}`,change:`${((K=d.today)==null?void 0:K.transactions)||0} sales`,icon:ar,trend:"up"},{id:"profit",title:"Today's Profit",value:`PKR ${((we=(ge=d.today)==null?void 0:ge.profit)==null?void 0:we.toLocaleString())||"0"}`,change:`${((De=d.today)==null?void 0:De.growth)||0}% growth`,icon:Ar,trend:"up"},...Z]:Z})(),se=((Y=d==null?void 0:d.recentSales)==null?void 0:Y.map(Z=>{var we;const Pe=new Date(Z.createdAt),K=Math.floor((new Date().getTime()-Pe.getTime())/(1e3*60));let ge;return K<1?ge="Just now":K<60?ge=`${K} min ago`:K<1440?ge=`${Math.floor(K/60)} hour${Math.floor(K/60)>1?"s":""} ago`:ge=`${Math.floor(K/1440)} day${Math.floor(K/1440)>1?"s":""} ago`,{id:Z.id,customer:((we=Z.customer)==null?void 0:we.name)||"Walk-in Customer",amount:`PKR ${Z.totalAmount.toLocaleString()}`,time:ge,items:1}}))||[];return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="MANAGER"?"Admin Dashboard":"Cashier Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="MANAGER"?"Complete overview of all pharmacy operations":"Inventory and stock management overview"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(Ce,{variant:"outline",className:"bg-green-50 text-green-600 border-green-200",children:[n.jsx(Bt,{className:"w-3 h-3 mr-1 animate-spin"}),"Live Data"]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:_.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:_.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}),p&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last updated: ",p.toLocaleTimeString()]})]}),n.jsx(z,{onClick:t,variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Logout"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ce.map((Z,Pe)=>{const Ne=Z.icon,K=s===Z.id;return n.jsx(te,{className:`
                shadow-soft border-0 transition-all duration-300 cursor-pointer group
                ${K?"bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] text-white shadow-lg scale-105":"bg-white hover:bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:shadow-lg hover:scale-105"}
              `,onClick:()=>M(Z.id),children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm font-medium mb-2 ${K?"text-white/90":"text-gray-600 group-hover:text-white/90"}`,children:Z.title}),n.jsx("p",{className:`text-2xl font-bold mb-2 ${K?"text-white":"text-gray-900 group-hover:text-white"}`,children:Z.value}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ar,{className:`w-4 h-4 mr-1 ${K?"text-white":"text-green-600 group-hover:text-white"}`}),n.jsx("span",{className:`text-sm font-medium ${K?"text-white":"text-green-600 group-hover:text-white"}`,children:Z.trend==="up"?"+12.5%":Z.trend==="warning"?"+5.1%":"+8.2%"})]}),n.jsx("span",{className:`text-xs ${K?"text-white/80":"text-gray-500 group-hover:text-white/80"}`,children:"vs last month"})]})]}),n.jsx("div",{className:`p-4 rounded-xl ml-4 ${K?"bg-white/20":"bg-gray-100 group-hover:bg-white/20"}`,children:n.jsx(Ne,{className:`w-8 h-8 ${K?"text-white":"text-gray-600 group-hover:text-white"}`})})]})})},Pe)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[((e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="MANAGER")&&n.jsxs(te,{className:"lg:col-span-2 shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Nr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Recent Sales"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-4",children:[se.map((Z,Pe)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(qr,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:Z.customer}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[Z.id,"  ",Z.items," items"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold text-foreground",children:Z.amount}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Z.time})]})]},Pe)),n.jsx(z,{variant:"outline",className:"w-full",onClick:V,children:"View All Sales"})]})})]}),n.jsxs(te,{className:`shadow-soft border-0 ${(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="MANAGER"?"":"lg:col-span-3"}`,children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(oa,{className:"w-5 h-5 text-warning"}),n.jsx("span",{children:"Low Stock Alert"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-3",children:[f.length>0?f.map((Z,Pe)=>n.jsxs("div",{className:"p-3 bg-warning/5 border border-warning/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"font-medium text-foreground text-sm",children:Z.name}),n.jsx(Nc,{className:"w-4 h-4 text-warning"})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Stock: ",Z.stock,"/",Z.minStock]}),n.jsx("span",{className:"text-muted-foreground",children:Z.expiryDate?new Date(Z.expiryDate).toLocaleDateString():"N/A"})]}),n.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 mt-2",children:n.jsx("div",{className:"bg-warning h-1.5 rounded-full",style:{width:`${Math.min(Z.stock/Z.minStock*100,100)}%`}})})]},Pe)):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Nc,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),n.jsx("p",{children:"All products are well stocked!"})]}),n.jsx(z,{variant:"outline",className:"w-full",size:"sm",onClick:X,children:"Manage Inventory"})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-5 h-5 text-primary"}),n.jsxs("span",{children:["All Branches (",x.length,")"]})]}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>S(!j),children:j?"Show Less":"Show All"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-3",children:[(j?x:x.slice(0,4)).map((Z,Pe)=>{const Ne=P[Z.id]||{totalSales:0,totalAmount:0};return n.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>U(Z),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(Wt,{className:"w-4 h-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground text-sm",children:Z.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Z.address})]})]}),n.jsx(Ce,{variant:"outline",className:Z.isActive?"bg-success/10 text-success border-success/20":"bg-muted/50 text-muted-foreground border-border",children:Z.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{children:[" ",Z.phone]}),n.jsxs("span",{children:[" ",Z.email]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-primary font-medium",children:[Ne.totalSales," sales"]}),n.jsx("p",{className:"text-primary font-medium",children:Q(Ne.totalAmount)})]})]}),n.jsx("div",{className:"text-xs text-primary text-center",children:"Click for details "})]},Pe)}),x.length===0&&n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No branches found"}),n.jsxs(z,{variant:"outline",className:"w-full",size:"sm",onClick:()=>window.location.href="/admin/branches",children:[n.jsx(Wt,{className:"w-4 h-4 mr-2"}),"Manage Branches"]})]})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-5 h-5 text-primary"}),n.jsxs("span",{children:["All Users (",y.length,")"]})]}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>N(!w),children:w?"Show Less":"Show All"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-3",children:[(w?y:y.slice(0,4)).map((Z,Pe)=>{var K;const Ne=k[Z.id]||{totalSales:0,totalAmount:0};return n.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>ee(Z),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-medium text-primary",children:Z.name.split(" ").map(ge=>ge[0]).join("")})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground text-sm",children:Z.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",Z.username]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ce,{variant:"outline",className:Z.role==="SUPERADMIN"?"bg-red-100 text-red-800 border-red-200":Z.role==="ADMIN"?"bg-orange-100 text-orange-800 border-orange-200":Z.role==="MANAGER"?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-800 border-gray-200",children:Z.role}),n.jsx(Ce,{variant:"outline",className:Z.isActive?"bg-success/10 text-success border-success/20":"bg-muted/50 text-muted-foreground border-border",children:Z.isActive?"Active":"Inactive"})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[" ",Z.email]}),n.jsxs("p",{children:[" ",((K=Z.branch)==null?void 0:K.name)||"No Branch"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-primary font-medium",children:[Ne.totalSales," sales"]}),n.jsx("p",{className:"text-primary font-medium",children:Q(Ne.totalAmount)})]})]}),n.jsx("div",{className:"text-xs text-primary text-center",children:"Click for details "})]},Pe)}),y.length===0&&n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No users found"}),n.jsxs(z,{variant:"outline",className:"w-full",size:"sm",onClick:()=>window.location.href="/admin/users",children:[n.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Manage Users"]})]})})]})]}),i&&n.jsx(te,{className:"shadow-soft border-0",children:n.jsxs(re,{className:"p-12 text-center",children:[n.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard data..."})]})}),l&&n.jsx(te,{className:"shadow-soft border-0",children:n.jsxs(re,{className:"p-12 text-center",children:[n.jsx("p",{className:"text-destructive mb-4",children:l}),n.jsx(z,{onClick:le,variant:"outline",children:"Try Again"})]})}),B&&T&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(te,{className:"w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[n.jsxs(Se,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-5 h-5 text-primary"}),n.jsxs("span",{children:[T.name," - Sales Details"]})]}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>I(!1),children:""})]}),n.jsx(re,{className:"overflow-y-auto max-h-[60vh]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Sales"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:((Ee=P[T.id])==null?void 0:Ee.totalSales)||0})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:Q(((ye=P[T.id])==null?void 0:ye.totalAmount)||0)})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Sale"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:Q(((J=P[T.id])==null?void 0:J.totalSales)>0?(((ke=P[T.id])==null?void 0:ke.totalAmount)||0)/((Me=P[T.id])==null?void 0:Me.totalSales):0)})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Recent Sales"}),n.jsx("div",{className:"space-y-2",children:((Te=(Le=P[T.id])==null?void 0:Le.sales)==null?void 0:Te.slice(0,10).map((Z,Pe)=>{var Ne,K;return n.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:((Ne=Z.customer)==null?void 0:Ne.name)||"Walk-in Customer"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(Z.createdAt).toLocaleDateString()," at ",new Date(Z.createdAt).toLocaleTimeString()]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold text-primary",children:Q(Z.totalAmount)}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[((K=Z.items)==null?void 0:K.length)||1," items"]})]})]})},Pe)}))||n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No sales found for this branch"})})]})]})})]})}),L&&q&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(te,{className:"w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[n.jsxs(Se,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-5 h-5 text-primary"}),n.jsxs("span",{children:[q.name," - Sales Details"]})]}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>E(!1),children:""})]}),n.jsx(re,{className:"overflow-y-auto max-h-[60vh]",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Sales"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:((mt=k[q.id])==null?void 0:mt.totalSales)||0})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:Q(((ct=k[q.id])==null?void 0:ct.totalAmount)||0)})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Sale"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:Q(((Ye=k[q.id])==null?void 0:Ye.totalSales)>0?(((ut=k[q.id])==null?void 0:ut.totalAmount)||0)/((_t=k[q.id])==null?void 0:_t.totalSales):0)})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Recent Sales"}),n.jsx("div",{className:"space-y-2",children:((xe=(Vt=k[q.id])==null?void 0:Vt.sales)==null?void 0:xe.slice(0,10).map((Z,Pe)=>{var Ne,K,ge;return n.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:((Ne=Z.customer)==null?void 0:Ne.name)||"Walk-in Customer"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(Z.createdAt).toLocaleDateString()," at ",new Date(Z.createdAt).toLocaleTimeString()]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Branch: ",((K=Z.branch)==null?void 0:K.name)||"Unknown"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold text-primary",children:Q(Z.totalAmount)}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[((ge=Z.items)==null?void 0:ge.length)||1," items"]})]})]})},Pe)}))||n.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No sales found for this user"})})]})]})})]})})]})},Ebe=()=>{const{user:e,logout:t}=Jt();m.useState(!0);const[r,s]=m.useState(!0),[a,i]=m.useState(null),[o,l]=m.useState(null),[c,d]=m.useState(null),[u,f]=m.useState(null);m.useState(!1),m.useState([]),m.useState(!1),m.useState(!1),m.useState([]);const[h,p]=m.useState([]);m.useState(!1),m.useState(null);const[b,x]=m.useState([]),[g,y]=m.useState([]),[v,j]=m.useState(0),[S,w]=m.useState(0),[N,P]=m.useState(0),[C,k]=m.useState(0),[D,T]=m.useState([]),[R,q]=m.useState(0),[$,B]=m.useState(null),[I,L]=m.useState(new Date),[E,_]=m.useState(0),O=m.useCallback(async()=>{var X;try{s(!0),console.log(" Loading manager dashboard data..."),console.log(" User context:",{id:e==null?void 0:e.id,role:e==null?void 0:e.role,branchId:e==null?void 0:e.branchId,adminId:e==null?void 0:e.adminId});const Q=e==null?void 0:e.branchId;if(!Q){console.error(" Manager has no assigned branch"),i("No branch assigned to this manager");return}const[le,H,ce,se,Y,Ee]=await Promise.all([pe.getDashboardData(Q),pe.getSales({page:1,limit:50}),pe.getProducts({page:1,limit:100}),pe.getUsers({page:1,limit:100}),pe.getCustomers({branchId:(e==null?void 0:e.branchId)||"",page:1,limit:100}),pe.getRefunds({page:1,limit:50})]);if(console.log(" Dashboard response:",le),console.log(" Sales response:",H),console.log(" Products response:",ce),console.log(" Users response:",se),console.log(" Customers response:",Y),console.log(" Refunds response:",Ee),le.success&&l(le.data),H.success&&H.data){const J=H.data.sales||[];x(J);const ke=J.reduce((Me,Le)=>Me+(Le.totalAmount||0),0);j(ke)}if(ce.success&&ce.data){const J=ce.data.products||[];y(J),w(J.length)}if(se.success&&se.data){const J=se.data.users||[];p(J),P(J.length)}if(Y.success&&Y.data){const J=Y.data.customers||[];k(J.length)}if(Ee.success&&Ee.data){const J=Ee.data.refunds||[];T(J),q(J.length)}const ye=await pe.getBranches();if(ye.success&&((X=ye.data)!=null&&X.branches)){const J=ye.data.branches.find(ke=>ke.id===Q);J&&(d(J),f(J))}B(new Date),i(null)}catch(Q){console.error(" Error loading dashboard data:",Q),i("Failed to load dashboard data")}finally{s(!1)}},[e]);m.useEffect(()=>{e&&O()},[e,O]),m.useEffect(()=>{const X=setInterval(()=>{L(new Date)},1e3);return()=>clearInterval(X)},[]);const M=X=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:0,maximumFractionDigits:0}).format(X),A=m.useMemo(()=>b.slice(0,5).map(X=>{var Q,le;return{id:X.id,customer:((Q=X.customer)==null?void 0:Q.name)||"Walk-in Customer",amount:M(X.totalAmount||0),items:((le=X.items)==null?void 0:le.length)||0,time:new Date(X.createdAt).toLocaleTimeString(),date:new Date(X.createdAt).toLocaleDateString()}}),[b]),U=m.useMemo(()=>D.slice(0,5).map(X=>{var Q;return{id:X.id,originalSaleId:X.originalSaleId,amount:M(parseFloat(X.refundAmount||0)),reason:X.refundReason||"No reason provided",refundedBy:((Q=X.refundedByUser)==null?void 0:Q.name)||"Unknown",time:new Date(X.createdAt).toLocaleTimeString(),date:new Date(X.createdAt).toLocaleDateString()}}),[D]),ee=m.useMemo(()=>g.filter(X=>X.stock<=(X.minStock||10)).slice(0,5),[g]),V=m.useMemo(()=>h.filter(X=>X.role==="CASHIER"),[h]);return m.useMemo(()=>h.filter(X=>X.role==="MANAGER"),[h]),r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading manager dashboard..."})]})}):a?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx(oa,{className:"w-8 h-8 text-destructive mx-auto mb-4"}),n.jsx("p",{className:"text-destructive mb-4",children:a}),n.jsxs(z,{onClick:O,variant:"outline",children:[n.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Retry"]})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manager Dashboard"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Welcome back, ",(e==null?void 0:e.name)||"Manager","  ",(c==null?void 0:c.name)||"Branch Management"]})]}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ET,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"text-sm text-green-600",children:"Live Data"})]})})})]})}),n.jsxs(te,{className:"mb-6 shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Branch Overview"})]}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:(c==null?void 0:c.name)||"No Branch Assigned"})]})}),n.jsx(re,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[{title:"Total Revenue",value:M(v),icon:ar,trendValue:"+12.5%"},{title:"Total Sales",value:b.length.toString(),icon:qr,trendValue:"+8.2%"},{title:"Total Products",value:S.toString(),icon:cr,trendValue:"+5.1%"},{title:"Total Users",value:N.toString(),icon:yt,trendValue:"+15.3%"},{title:"Total Refunds",value:R.toString(),icon:Oh,trendValue:"+2.0%"}].map((X,Q)=>{const le=X.icon,H=E===Q;return n.jsx("div",{className:`
                    p-4 rounded-lg cursor-pointer transition-all duration-300 group
                    ${H?"bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] text-white shadow-lg scale-105":"bg-white hover:bg-[linear-gradient(135deg,#1C623C_0%,#247449_50%,#6EB469_100%)] hover:text-white hover:shadow-lg hover:scale-105"}
                  `,onClick:()=>{},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:`text-sm font-medium mb-2 ${H?"text-white/90":"text-gray-600 group-hover:text-white/90"}`,children:X.title}),n.jsx("p",{className:`text-2xl font-bold mb-2 ${H?"text-white":"text-gray-900 group-hover:text-white"}`,children:X.value}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ar,{className:`w-4 h-4 mr-1 ${H?"text-white":"text-green-600 group-hover:text-white"}`}),n.jsx("span",{className:`text-sm font-medium ${H?"text-white":"text-green-600 group-hover:text-white"}`,children:X.trendValue})]}),n.jsx("span",{className:`text-xs ${H?"text-white/80":"text-gray-500 group-hover:text-white/80"}`,children:"vs last month"})]})]}),n.jsx("div",{className:`p-3 rounded-xl ml-4 ${H?"bg-white/20":"bg-gray-100 group-hover:bg-white/20"}`,children:n.jsx(le,{className:`w-8 h-8 ${H?"text-white":"text-gray-600 group-hover:text-white"}`})})]})},Q)})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(te,{className:"lg:col-span-2 shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Nr,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Recent Sales"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:A.length>0?A.map((X,Q)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(qr,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:X.customer}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[X.id,"  ",X.items," items"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold text-foreground",children:X.amount}),n.jsx("p",{className:"text-xs text-muted-foreground",children:X.time})]})]},Q)):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(qr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No recent sales found"})]})})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(ec,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Cashier Management"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(yt,{className:"w-8 h-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-900",children:"Cashiers"}),n.jsxs("p",{className:"text-sm text-blue-600",children:[V.length," active"]})]})]}),n.jsxs(z,{size:"sm",variant:"outline",onClick:()=>window.location.href="/manager/users",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add Cashier"]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(yt,{className:"w-8 h-8 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-purple-900",children:"Customers"}),n.jsxs("p",{className:"text-sm text-purple-600",children:[C," registered"]})]})]}),n.jsxs(z,{size:"sm",variant:"outline",children:[n.jsx(fn,{className:"w-4 h-4 mr-2"}),"View"]})]})]})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Oh,{className:"w-5 h-5 text-red-500"}),n.jsx("span",{children:"Recent Refunds"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:U.length>0?U.map((X,Q)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border border-red-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(Oh,{className:"w-5 h-5 text-red-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-red-900",children:["Refund #",X.id.slice(-8)]}),n.jsx("p",{className:"text-sm text-red-600",children:X.reason}),n.jsxs("p",{className:"text-xs text-red-500",children:["By: ",X.refundedBy]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold text-red-900",children:X.amount}),n.jsx("p",{className:"text-xs text-red-600",children:X.time})]})]},Q)):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Oh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No recent refunds found"})]})})})]}),n.jsxs(te,{className:"lg:col-span-2 shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(oa,{className:"w-5 h-5 text-orange-500"}),n.jsx("span",{children:"Low Stock Alert"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:ee.length>0?ee.map((X,Q)=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg border border-orange-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(cr,{className:"w-5 h-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-orange-900",children:X.name}),n.jsxs("p",{className:"text-sm text-orange-600",children:["Current: ",X.stock,"  Min: ",X.minStock||10]})]})]}),n.jsx(Ce,{variant:"destructive",className:"text-xs",children:"Low Stock"})]},Q)):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ur,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),n.jsx("p",{children:"All products are well stocked"})]})})})]})]})]})},Obe=()=>{const{user:e}=Jt();if(console.log(" RoleBasedDashboard: user:",e),!e)return console.log(" RoleBasedDashboard: No user, showing loading..."),n.jsx("div",{children:"Loading..."});switch(console.log(" RoleBasedDashboard: User role:",e.role),e.role){case"SUPERADMIN":return n.jsx(B3,{});case"ADMIN":return n.jsx(tr,{children:n.jsx(P$,{})});case"MANAGER":return n.jsx(tr,{children:n.jsx(Ebe,{})});case"CASHIER":default:return n.jsx(tr,{children:n.jsx(Abe,{})})}},U3=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:s,onClear:a,className:i=""})=>{const o=e||t;return n.jsxs(te,{className:`shadow-soft border-0 ${i}`,children:[n.jsx(Se,{className:"pb-3",children:n.jsxs(Ae,{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Lr,{className:"w-4 h-4"}),n.jsx("span",{children:"Date Range Filter"}),o&&n.jsx(z,{variant:"ghost",size:"sm",onClick:a,className:"ml-auto h-6 w-6 p-0 text-muted-foreground hover:text-foreground",children:n.jsx(ta,{className:"w-3 h-3"})})]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"startDate",className:"text-sm font-medium",children:"Start Date"}),n.jsx(oe,{id:"startDate",type:"date",value:e,onChange:l=>r(l.target.value),className:"w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"endDate",className:"text-sm font-medium",children:"End Date"}),n.jsx(oe,{id:"endDate",type:"date",value:t,onChange:l=>s(l.target.value),className:"w-full"})]})]}),o&&n.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-blue-50 rounded-md border border-blue-200",children:[n.jsx(ma,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-sm text-blue-800",children:e&&t?`${new Date(e).toLocaleDateString()} - ${new Date(t).toLocaleDateString()}`:e?`From ${new Date(e).toLocaleDateString()}`:`Until ${new Date(t).toLocaleDateString()}`})]})]})]})},kbe=()=>{const{user:e}=Jt(),{selectedBranchId:t,selectedBranch:r}=Ji(),[s,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState(""),[d,u]=m.useState(""),[f,h]=m.useState(""),[p,b]=m.useState(null),[x,g]=m.useState(!1),[y,v]=m.useState(!0),[j,S]=m.useState(1),[w]=m.useState(10);m.useState(""),m.useState(!1),m.useState(null),m.useState(!1),m.useEffect(()=>{N();const B=L=>{console.log(" Refund created event received, refreshing refunds list"),N()},I=L=>{var O,M,A,U,ee,V,X,Q,le,H,ce;console.log(" Real-time refund change received:",L.detail);const{action:E,refund:_}=L.detail;if(E==="created"){const se={id:_.id,originalInvoiceId:_.originalSaleId,originalInvoiceNumber:((A=(M=(O=_.originalSale)==null?void 0:O.receipts)==null?void 0:M[0])==null?void 0:A.receiptNumber)||((U=_.originalSale)==null?void 0:U.id)||"N/A",receiptNumber:((X=(V=(ee=_.originalSale)==null?void 0:ee.receipts)==null?void 0:V[0])==null?void 0:X.receiptNumber)||((Q=_.originalSale)==null?void 0:Q.id)||"N/A",refundAmount:parseFloat(String(_.refundAmount))||0,refundReason:_.refundReason,refundedAt:_.createdAt||new Date().toISOString(),refundedBy:((le=_.refundedByUser)==null?void 0:le.name)||"Unknown",items:((H=_.items)==null?void 0:H.map(Y=>{var Ee,ye;return{productId:Y.productId,productName:((Ee=Y.product)==null?void 0:Ee.name)||"Unknown",quantity:Y.quantity,unitPrice:parseFloat(String(Y.unitPrice))||0,totalPrice:parseFloat(String(Y.unitPrice))*Y.quantity,unitType:((ye=Y.product)==null?void 0:ye.unitType)||"pcs",reason:Y.reason}}))||[],customer:(ce=_.originalSale)!=null&&ce.customer?{id:_.originalSale.customer.id,name:_.originalSale.customer.name,phone:_.originalSale.customer.phone}:void 0};a(Y=>[se,...Y])}else E==="updated"?a(se=>se.map(Y=>Y.id===_.id?{...Y,refundAmount:parseFloat(String(_.refundAmount))||0,refundReason:_.refundReason}:Y)):E==="deleted"&&a(se=>se.filter(Y=>Y.id!==_.id))};return window.addEventListener("invoiceRefunded",B),window.addEventListener("refundCreated",B),window.addEventListener("refundChanged",I),()=>{window.removeEventListener("invoiceRefunded",B),window.removeEventListener("refundCreated",B),window.removeEventListener("refundChanged",I)}},[]);const N=m.useCallback(async()=>{var B,I;try{if(console.log(" Loading refunds..."),v(!0),!e){console.log(" User not loaded yet, skipping refunds load"),v(!1);return}localStorage.removeItem("refundedInvoices"),console.log(" Loading refunds with date filter:",{startDate:d,endDate:f}),console.log(" User context:",{id:e==null?void 0:e.id,role:e==null?void 0:e.role,adminId:e==null?void 0:e.adminId,branchId:e==null?void 0:e.branchId});try{const L={startDate:d||void 0,endDate:f||void 0};(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPERADMIN"?t?(L.branchId=t,console.log("Admin selected specific branch for refunds:",r==null?void 0:r.name)):console.log("Admin viewing all branches - loading all refunds"):(L.branchId=e==null?void 0:e.branchId,console.log("Regular user branch for refunds:",e==null?void 0:e.branchId));const E=await pe.getRefunds(L);if(console.log(" API Response:",E),E.success&&E.data){console.log(" Refunds data from API:",E.data.refunds),console.log(" Number of refunds received:",((B=E.data.refunds)==null?void 0:B.length)||0),(I=E.data.refunds)==null||I.forEach((O,M)=>{var A,U;console.log(`Refund ${M+1}: Created by ${(A=O.refundedByUser)==null?void 0:A.username} (${(U=O.refundedByUser)==null?void 0:U.role}) - Amount: ${O.refundAmount}`)});const _=E.data.refunds.map(O=>{var M,A,U,ee,V,X,Q,le,H,ce,se,Y,Ee,ye,J,ke,Me,Le;try{console.log(" Processing refund:",O.id,"refundAmount:",O.refundAmount,"type:",typeof O.refundAmount),console.log(" Raw refund amount:",O.refundAmount,"Type:",typeof O.refundAmount,"Constructor:",(A=(M=O.refundAmount)==null?void 0:M.constructor)==null?void 0:A.name);const Te=(U=O.refundAmount)!=null&&U.toString?O.refundAmount.toString():String(O.refundAmount),mt=parseFloat(Te);console.log(" Refund amount conversion:",{raw:O.refundAmount,string:Te,parsed:mt,isNaN:isNaN(mt),final:isNaN(mt)?0:mt}),console.log(" Refund ID:",O.id,"Original Sale ID:",O.originalSaleId);let ct;try{if(O.createdAt){const Ye=typeof O.createdAt=="string"?O.createdAt:O.createdAt.toString(),ut=new Date(Ye);isNaN(ut.getTime())?(console.warn(" Invalid date for refund:",O.id,"Date:",O.createdAt),ct=new Date().toISOString()):ct=ut.toISOString()}else ct=new Date().toISOString()}catch(Ye){console.warn(" Date conversion error for refund:",O.id,Ye),ct=new Date().toISOString()}return console.log(" Refunded at:",O.createdAt,"Formatted:",ct),{id:O.id,originalInvoiceId:O.originalSaleId,originalInvoiceNumber:((X=(V=(ee=O.originalSale)==null?void 0:ee.receipts)==null?void 0:V[0])==null?void 0:X.receiptNumber)||((Q=O.originalSale)==null?void 0:Q.id)||"N/A",receiptNumber:((ce=(H=(le=O.originalSale)==null?void 0:le.receipts)==null?void 0:H[0])==null?void 0:ce.receiptNumber)||((se=O.originalSale)==null?void 0:se.id)||"N/A",refundAmount:isNaN(mt)?0:mt,refundReason:O.refundReason||"No reason provided",refundedAt:ct,refundedBy:((Y=O.refundedByUser)==null?void 0:Y.name)||"Unknown",items:((Ee=O.items)==null?void 0:Ee.map(Ye=>{var Z,Pe,Ne;const ut=(Z=Ye.unitPrice)!=null&&Z.toString?Ye.unitPrice.toString():String(Ye.unitPrice),_t=parseFloat(ut)||0,Vt=parseInt(Ye.quantity)||0,xe=_t*Vt;return console.log(" Item price:",Ye.unitPrice,"String:",ut,"Parsed:",_t,"Quantity:",Vt,"Total:",xe),{productId:Ye.productId,productName:((Pe=Ye.product)==null?void 0:Pe.name)||"Unknown Product",quantity:Vt,unitPrice:_t,totalPrice:xe,unitType:((Ne=Ye.product)==null?void 0:Ne.unitType)||"units",reason:Ye.reason||"No reason provided"}}))||[],customer:(ye=O.originalSale)!=null&&ye.customer?{id:O.originalSale.customer.id,name:O.originalSale.customer.name,phone:O.originalSale.customer.phone,email:O.originalSale.customer.email,address:O.originalSale.customer.address}:void 0};console.log(" Final refund object:",{id:O.id,refundAmount:isNaN(mt)?0:mt,receiptNumber:((Me=(ke=(J=O.originalSale)==null?void 0:J.receipts)==null?void 0:ke[0])==null?void 0:Me.receiptNumber)||((Le=O.originalSale)==null?void 0:Le.id)||"N/A"})}catch(Te){return console.error(" Error processing refund:",O.id,Te),{id:O.id||"unknown",originalInvoiceId:O.originalSaleId||"unknown",originalInvoiceNumber:"N/A",receiptNumber:"N/A",refundAmount:0,refundReason:O.refundReason||"No reason provided",refundedAt:new Date().toISOString(),refundedBy:"Unknown",items:[],customer:void 0}}});console.log(" Final transformed refunds:",_.map(O=>({id:O.id,amount:O.refundAmount,receiptNumber:O.receiptNumber}))),a(_),console.log(" Refunds loaded successfully, count:",_.length);return}}catch(L){console.error(" API call failed:",L),console.log("API call failed, falling back to localStorage:",L);const E=localStorage.getItem("refundedInvoices");if(E){const _=JSON.parse(E);console.log(" Using localStorage data:",_),a(_)}else console.log(" No localStorage data, setting empty refunds"),a([])}}catch(L){console.error("Error loading refunds:",L),a([])}finally{v(!1)}},[d,f]);m.useEffect(()=>{P()},[s,l]),m.useEffect(()=>{e&&(console.log(" User loaded, loading refunds..."),N())},[N,e,t]);const P=()=>{console.log(" Filtering refunds..."),console.log("Total refunds before filtering:",s.length);let B=[...s];l&&(B=B.filter(I=>{var L,E;return I.receiptNumber.toLowerCase().includes(l.toLowerCase())||I.originalInvoiceNumber.toLowerCase().includes(l.toLowerCase())||((L=I.customer)==null?void 0:L.name.toLowerCase().includes(l.toLowerCase()))||((E=I.customer)==null?void 0:E.phone.includes(l))||I.refundReason.toLowerCase().includes(l.toLowerCase())})),console.log("Filtered refunds count:",B.length),console.log("Filtered refunds:",B.map(I=>({id:I.id,createdBy:I.refundedBy,amount:I.refundAmount}))),o(B),S(1)},C=B=>{switch(B){case"tablets":case"capsules":return n.jsx(Nc,{className:"w-4 h-4"});case"bottles":return n.jsx(Sw,{className:"w-4 h-4"});case"vials":return n.jsx(Pw,{className:"w-4 h-4"});default:return n.jsx(cr,{className:"w-4 h-4"})}},k=B=>{if(console.log(" formatDate called with:",B,"Type:",typeof B),!B)return console.log(" No dateString provided, returning Invalid Date"),"Invalid Date";const I=new Date(B);if(console.log(" Date object created:",I,"isNaN:",isNaN(I.getTime())),isNaN(I.getTime()))return console.log(" Invalid date, returning Invalid Date"),"Invalid Date";const L=I.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return console.log(" Formatted date:",L),L},D=i.slice((j-1)*w,j*w),T=Math.ceil(i.length/w),R=B=>{b(B),g(!0)},q=B=>{alert(`Printing refund record: ${B.receiptNumber}`)},$=B=>{alert(`Downloading refund record: ${B.receiptNumber}`)};return y?n.jsx("div",{className:"p-6 bg-background min-h-screen",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading refunds..."})]})})}):n.jsx("div",{className:"p-6 bg-background min-h-screen",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold ",children:"Refunds & Returns"}),n.jsx("p",{className:"text-muted-foreground",children:"View all refunded and returned invoices"})]})}),n.jsx(U3,{startDate:d,endDate:f,onStartDateChange:u,onEndDateChange:h,onClear:()=>{u(""),h("")}}),n.jsx(te,{children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search by receipt number, invoice number, customer name, or reason...",value:l,onChange:B=>c(B.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(ma,{className:"w-4 h-4 mr-2"}),i.length," refund(s) found"]})]})})}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(pu,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Refunded Invoices"})]})}),n.jsxs(re,{children:[D.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(pu,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No refunds found"}),n.jsx("p",{className:"text-xs",children:"Refunded invoices will appear here"})]}):n.jsx("div",{className:"space-y-4",children:D.map(B=>{var I;return n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:B.receiptNumber}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Original Invoice: ",B.originalInvoiceNumber]})]}),n.jsx(Ce,{className:"bg-red-100 text-red-800",children:"Refunded"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-red-600",children:["-PKR ",isNaN(B.refundAmount)?"0.00":B.refundAmount.toFixed(2)]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:k(B.refundedAt)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(kr,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{children:((I=B.customer)==null?void 0:I.name)||"Walk-in Customer"})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(kr,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:["Refunded by: ",B.refundedBy]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(cr,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:[B.items.length," item(s)"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(yr,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"truncate",children:B.refundReason})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Refunded Items:"}),n.jsxs("div",{className:"space-y-1",children:[B.items.slice(0,2).map((L,E)=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[C(L.unitType),n.jsx("span",{children:L.productName}),n.jsxs("span",{className:"text-muted-foreground",children:["(",L.quantity," ",L.unitType,")"]})]}),n.jsxs("span",{className:"font-medium text-red-600",children:["-PKR ",isNaN(L.totalPrice)?"0.00":L.totalPrice.toFixed(2)]})]},E)),B.items.length>2&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",B.items.length-2," more item(s)"]})]})]}),n.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>R(B),children:[n.jsx(fn,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>q(B),children:[n.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Print"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>$(B),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]})]})]},B.id)})}),T>1&&n.jsxs("div",{className:"flex items-center justify-between mt-6",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(j-1)*w+1," to ",Math.min(j*w,i.length)," of ",i.length," refunds"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>S(B=>Math.max(B-1,1)),disabled:j===1,children:[n.jsx(PT,{className:"w-4 h-4"}),"Previous"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>S(B=>Math.min(B+1,T)),disabled:j===T,children:["Next",n.jsx(Nw,{className:"w-4 h-4"})]})]})]})]})]}),n.jsx(it,{open:x,onOpenChange:g,children:n.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["Refund Details - ",p==null?void 0:p.receiptNumber]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>p&&q(p),children:[n.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Print"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>p&&$(p),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})}),p&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-start border-b pb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-primary",children:"MediBill Pulse Pharmacy"}),n.jsx("p",{className:"text-muted-foreground",children:"Refund Receipt"}),n.jsxs("div",{className:"mt-4 space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Refund ID:"})," ",p.id]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Receipt Number:"})," ",p.receiptNumber]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Original Invoice:"})," ",p.originalInvoiceNumber]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Refund Date:"})," ",k(p.refundedAt)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Refunded By:"})," ",p.refundedBy]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["-PKR ",isNaN(p.refundAmount)?"0.00":p.refundAmount.toFixed(2)]}),n.jsx(Ce,{className:"bg-red-100 text-red-800 mt-2",children:"Refunded"})]})]}),p.customer&&n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Customer Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",p.customer.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",p.customer.phone]})]}),n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",p.customer.email||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",p.customer.address||"N/A"]})]})]})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Refund Reason"}),n.jsx("p",{className:"text-sm bg-red-50 p-3 rounded-md border border-red-200",children:p.refundReason})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Refunded Items"}),p.items.map((B,I)=>n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-dashed",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:B.productName}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[B.quantity," ",B.unitType,"  PKR ",isNaN(B.unitPrice)?"0.00":B.unitPrice.toFixed(2)]})]}),n.jsxs("p",{className:"font-semibold text-red-600",children:["-PKR ",isNaN(B.totalPrice)?"0.00":B.totalPrice.toFixed(2)]})]},I))]}),n.jsx("div",{className:"border-t pt-4 space-y-2",children:n.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"Total Refund Amount:"}),n.jsxs("span",{className:"text-red-600",children:["-PKR ",isNaN(p.refundAmount)?"0.00":p.refundAmount.toFixed(2)]})]})}),n.jsxs("div",{className:"border-t pt-4 text-center text-xs text-muted-foreground",children:[n.jsx("p",{children:"This is a refund receipt. Items have been returned to inventory."}),n.jsxs("p",{children:["Generated on ",k(p.refundedAt)]})]})]})]})})]})})},Tbe=()=>{var se,Y,Ee,ye;const{user:e}=Jt(),{selectedBranchId:t,selectedBranch:r}=Ji(),[s,a]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState(""),[d,u]=m.useState("all"),[f,h]=m.useState("all"),[p,b]=m.useState(""),[x,g]=m.useState(""),[y,v]=m.useState(null),[j,S]=m.useState(!1),[w,N]=m.useState(!1),[P,C]=m.useState([]),[k,D]=m.useState(""),[T,R]=m.useState(!0),[q,$]=m.useState(1),[B]=m.useState(10);m.useEffect(()=>{I();const J=ke=>{I()};return window.addEventListener("invoiceCreated",J),()=>{window.removeEventListener("invoiceCreated",J)}},[]);const I=m.useCallback(async()=>{var J;try{R(!0),console.log(" Loading invoices with date filter:",{startDate:p,endDate:x}),console.log(" User context:",{id:e==null?void 0:e.id,name:e==null?void 0:e.name,role:e==null?void 0:e.role,branchId:e==null?void 0:e.branchId,adminId:e==null?void 0:e.adminId});const ke={limit:1e3,startDate:p||void 0,endDate:x||void 0};(e==null?void 0:e.role)==="ADMIN"||(e==null?void 0:e.role)==="SUPERADMIN"?t?(ke.branchId=t,console.log("Admin selected specific branch for invoices:",r==null?void 0:r.name)):console.log("Admin viewing all branches - loading all invoices"):(ke.branchId=e==null?void 0:e.branchId,console.log("Regular user branch for invoices:",e==null?void 0:e.branchId));const Me=await pe.getSales(ke);if(console.log("Invoices API response:",Me),Me.success&&((J=Me.data)!=null&&J.sales)){console.log("Sales data from API:",Me.data.sales),console.log("Number of invoices received:",Me.data.sales.length),Me.data.sales.forEach((Te,mt)=>{var ct,Ye;console.log(`Invoice ${mt+1}: Created by ${(ct=Te.user)==null?void 0:ct.username} (${(Ye=Te.user)==null?void 0:Ye.role}) - Total: ${Te.totalAmount}`)});const Le=Me.data.sales.map(Te=>{var mt,ct;return console.log("Transforming sale:",Te),console.log("Sale customer data:",Te.customer),console.log("Sale items data:",Te.items),{id:Te.id,invoiceNumber:Te.id,customerId:Te.customerId,userId:Te.userId,branchId:Te.branchId,subtotal:Te.subtotal,taxAmount:Te.taxAmount,discountAmount:Te.discountAmount,totalAmount:Te.totalAmount,paymentMethod:Te.paymentMethod,paymentStatus:Te.paymentStatus,status:Te.status,createdAt:Te.createdAt,updatedAt:Te.updatedAt,customer:Te.customer?{id:Te.customer.id,name:Te.customer.name,phone:Te.customer.phone,email:Te.customer.email,address:Te.customer.address}:null,user:Te.user,branch:Te.branch,items:(Te.items||[]).map(Ye=>{var ut,_t,Vt,xe,Z;return{id:Ye.id,productId:Ye.productId,quantity:Ye.quantity,unitPrice:Ye.unitPrice,totalPrice:Ye.totalPrice,product:{id:((ut=Ye.product)==null?void 0:ut.id)||Ye.productId,name:((_t=Ye.product)==null?void 0:_t.name)||"Unknown Product",unitType:((Vt=Ye.product)==null?void 0:Vt.unitType)||"Item",sku:((xe=Ye.product)==null?void 0:xe.sku)||"",description:((Z=Ye.product)==null?void 0:Z.description)||""}}}),receipts:Te.receipts||[],receiptNumber:((ct=(mt=Te.receipts)==null?void 0:mt[0])==null?void 0:ct.receiptNumber)||Te.id}});console.log("Transformed invoices:",Le),console.log("Customer data in invoices:",Le.map(Te=>({id:Te.id,customer:Te.customer}))),console.log("Receipt data in invoices:",Le.map(Te=>({id:Te.id,receipts:Te.receipts,receiptNumber:Te.receiptNumber}))),a(Le)}else console.log("No invoices found in API response"),a([])}catch(ke){console.error("Error loading invoices:",ke),a([])}finally{R(!1)}},[p,x]);m.useEffect(()=>{L()},[s,l,d,f]),m.useEffect(()=>{I()},[I,t]);const L=()=>{console.log(" Filtering invoices..."),console.log("Total invoices before filtering:",s.length);let J=[...s];l&&(J=J.filter(ke=>{var Me,Le,Te,mt,ct,Ye;return((Me=ke.invoiceNumber)==null?void 0:Me.toLowerCase().includes(l.toLowerCase()))||((Te=(Le=ke.customer)==null?void 0:Le.name)==null?void 0:Te.toLowerCase().includes(l.toLowerCase()))||((ct=(mt=ke.customer)==null?void 0:mt.phone)==null?void 0:ct.includes(l))||((Ye=ke.receipts)==null?void 0:Ye.some(ut=>{var _t;return(_t=ut.receiptNumber)==null?void 0:_t.toLowerCase().includes(l.toLowerCase())}))})),d!=="all"&&(J=J.filter(ke=>ke.status===d)),f!=="all"&&(J=J.filter(ke=>ke.paymentMethod===f)),console.log("Filtered invoices count:",J.length),console.log("Filtered invoices:",J.map(ke=>{var Me;return{id:ke.id,createdBy:(Me=ke.user)==null?void 0:Me.username,total:ke.totalAmount}})),o(J),$(1)},E=J=>{switch(J){case"CASH":return n.jsx(gF,{className:"w-4 h-4"});case"CARD":return n.jsx(En,{className:"w-4 h-4"});case"MOBILE":return n.jsx(Ul,{className:"w-4 h-4"});default:return n.jsx(En,{className:"w-4 h-4"})}},_=J=>{switch(J){case"tablets":case"capsules":return n.jsx(Nc,{className:"w-4 h-4"});case"bottles":return n.jsx(Sw,{className:"w-4 h-4"});case"vials":return n.jsx(Pw,{className:"w-4 h-4"});default:return n.jsx(cr,{className:"w-4 h-4"})}},O=J=>{switch(J){case"COMPLETED":return n.jsx(Ce,{className:"bg-green-100 text-green-800",children:"Completed"});case"PENDING":return n.jsx(Ce,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"CANCELLED":return n.jsx(Ce,{className:"bg-red-100 text-red-800",children:"Cancelled"});default:return n.jsx(Ce,{variant:"secondary",children:J})}},M=J=>new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=i.slice((q-1)*B,q*B),U=Math.ceil(i.length/B),ee=J=>{v(J),S(!0)},V=J=>{try{const ke=window.open("","_blank");if(!ke){alert("Please allow popups to print invoices");return}const Me=Q(J);ke.document.write(Me),ke.document.close(),ke.onload=()=>{ke.focus(),ke.print(),ke.close()}}catch(ke){console.error("Error printing invoice:",ke),alert("Error printing invoice. Please try again.")}},X=J=>{try{const ke=Q(J),Me=new Blob([ke],{type:"text/html"}),Le=URL.createObjectURL(Me),Te=document.createElement("a");Te.href=Le,Te.download=`invoice-${J.invoiceNumber}.html`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(Le)}catch(ke){console.error("Error downloading invoice:",ke),alert("Error downloading invoice. Please try again.")}},Q=J=>{const ke=Me=>new Date(Me).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice ${J.invoiceNumber}</title>
        <style>
          body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: white;
            color: black;
          }
          .invoice-container {
            max-width: 800px;
            margin: 0 auto;
            border: 1px solid #ddd;
            padding: 30px;
          }
          .header {
            text-align: center;
            border-bottom: 2px solid #1C623C;
            padding-bottom: 20px;
            margin-bottom: 30px;
          }
          .header h1 {
            color: #1C623C;
            margin: 0;
            font-size: 28px;
          }
          .header p {
            color: #666;
            margin: 5px 0;
          }
          .invoice-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
          }
          .invoice-details, .customer-details {
            flex: 1;
          }
          .invoice-details h3, .customer-details h3 {
            color: #1C623C;
            margin-bottom: 10px;
            font-size: 16px;
          }
          .info-row {
            margin: 5px 0;
            font-size: 14px;
          }
          .items-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
          }
          .items-table th, .items-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
          }
          .items-table th {
            background-color: #f8f9fa;
            font-weight: bold;
            color: #1C623C;
          }
          .items-table tr:nth-child(even) {
            background-color: #f8f9fa;
          }
          .totals {
            margin-top: 20px;
            text-align: right;
          }
          .total-row {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            padding: 5px 0;
          }
          .total-final {
            font-weight: bold;
            font-size: 18px;
            color: #1C623C;
            border-top: 2px solid #1C623C;
            padding-top: 10px;
            margin-top: 10px;
          }
          .status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
          }
          .status-completed {
            background-color: #d4edda;
            color: #155724;
          }
          .status-refunded {
            background-color: #f8d7da;
            color: #721c24;
          }
          .footer {
            margin-top: 30px;
            text-align: center;
            color: #666;
            font-size: 12px;
            border-top: 1px solid #ddd;
            padding-top: 20px;
          }
          @media print {
            body { margin: 0; padding: 10px; }
            .invoice-container { border: none; padding: 0; }
          }
        </style>
      </head>
      <body>
        <div class="invoice-container">
          <div class="header">
            <h1>MediBill Pulse Pharmacy</h1>
            <p>Your Health, Our Priority</p>
          </div>

          <div class="invoice-info">
            <div class="invoice-details">
              <h3>Invoice Details</h3>
              <div class="info-row"><strong>Invoice #:</strong> ${J.invoiceNumber}</div>
              <div class="info-row"><strong>Date:</strong> ${ke(J.createdAt)}</div>
              <div class="info-row"><strong>Status:</strong> <span class="status status-${J.status.toLowerCase()}">${J.status}</span></div>
              <div class="info-row"><strong>Payment Method:</strong> ${J.paymentMethod}</div>
              <div class="info-row"><strong>Cashier:</strong> ${J.user.name}</div>
              <div class="info-row"><strong>Branch:</strong> ${J.branch.name}</div>
            </div>

            <div class="customer-details">
              <h3>Customer Information</h3>
              ${J.customer?`
                <div class="info-row"><strong>Name:</strong> ${J.customer.name}</div>
                <div class="info-row"><strong>Phone:</strong> ${J.customer.phone}</div>
                <div class="info-row"><strong>Email:</strong> ${J.customer.email||"N/A"}</div>
                <div class="info-row"><strong>Address:</strong> ${J.customer.address||"N/A"}</div>
              `:`
                <div class="info-row"><strong>Customer Type:</strong> Walk-in Customer</div>
                <div class="info-row"><strong>No customer details available</strong></div>
              `}
            </div>
          </div>

          <table class="items-table">
            <thead>
              <tr>
                <th>Item</th>
                <th>Quantity</th>
                <th>Unit Price</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody>
              ${J.items.map(Me=>`
                <tr>
                  <td>${Me.product.name}</td>
                  <td>${Me.quantity} ${Me.product.unitType}</td>
                  <td>PKR ${Me.unitPrice.toFixed(2)}</td>
                  <td>PKR ${Me.totalPrice.toFixed(2)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <div class="totals">
            <div class="total-row">
              <span>Subtotal:</span>
              <span>PKR ${J.subtotal.toFixed(2)}</span>
            </div>
            <div class="total-row">
              <span>Tax (17%):</span>
              <span>PKR ${J.taxAmount.toFixed(2)}</span>
            </div>
            ${J.discountAmount>0?`
              <div class="total-row">
                <span>Discount:</span>
                <span>-PKR ${J.discountAmount.toFixed(2)}</span>
              </div>
            `:""}
            <div class="total-row total-final">
              <span>TOTAL:</span>
              <span>PKR ${J.totalAmount.toFixed(2)}</span>
            </div>
          </div>

          <div class="footer">
            <p>Thank you for choosing MediBill Pulse Pharmacy!</p>
            <p>For any queries, please contact us at your nearest branch.</p>
          </div>
        </div>
      </body>
      </html>
    `},le=J=>{var Me;if(console.log("Opening refund dialog for invoice:",J),console.log("Invoice status:",J.status),console.log("Invoice items:",J.items),console.log("Invoice items length:",((Me=J.items)==null?void 0:Me.length)||0),console.log("Invoice items structure:",JSON.stringify(J.items,null,2)),J.status==="REFUNDED"){alert("This invoice has already been refunded.");return}if(J.status!=="COMPLETED"){alert("Only completed invoices can be refunded.");return}if(v(J),!J.items||J.items.length===0){console.error("No items found in invoice:",J),alert("No items found in this invoice. Cannot process refund.");return}const ke=(J.items||[]).map(Le=>{var Te;return console.log("Mapping item for refund:",Le),console.log("Item product:",Le.product),{productId:Le.productId,productName:((Te=Le.product)==null?void 0:Te.name)||"Unknown Product",maxQuantity:Le.quantity,quantity:0,unitPrice:Le.unitPrice,reason:"Customer requested refund"}});console.log("Mapped refund items:",ke),C(ke),D("Customer requested refund"),N(!0)},H=(J,ke,Me)=>{const Le=[...P];Le[J]={...Le[J],[ke]:Me},C(Le)},ce=async()=>{if(y)try{const J=P.filter(Te=>Te.quantity>0);if(J.length===0){alert("Please select at least one item to refund.");return}const ke=J.reduce((Te,mt)=>Te+mt.quantity*mt.unitPrice,0);console.log("Creating refund with data:",{originalSaleId:y.id,refundReason:k,totalRefundAmount:ke,items:J});const Me={originalSaleId:y.id,refundReason:k,items:J.map(Te=>({productId:Te.productId,quantity:Te.quantity,unitPrice:Te.unitPrice,reason:Te.reason})),refundedBy:y.user.id},Le=await pe.createRefund(Me);Le.success?(console.log("Refund created successfully:",Le.data),alert(`Refund created successfully for invoice: ${y.invoiceNumber}
Refund Amount: PKR ${ke.toFixed(2)}`),N(!1),C([]),D(""),I()):(console.error("Refund creation failed:",Le),alert(`Failed to create refund: ${Le.message}`))}catch(J){console.error("Error creating refund:",J),alert("Error creating refund. Please try again.")}};return T?n.jsx("div",{className:"p-6 bg-background min-h-screen",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading invoices..."})]})})}):n.jsx("div",{className:"p-6 bg-background min-h-screen",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold ",children:"Invoices"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage and view all purchase invoices"})]}),n.jsxs(z,{onClick:I,variant:"outline",children:[n.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),n.jsx(U3,{startDate:p,endDate:x,onStartDateChange:b,onEndDateChange:g,onClear:()=>{b(""),g("")}}),n.jsx(te,{children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search by invoice number, customer name, or phone...",value:l,onChange:J=>c(J.target.value),className:"pl-10"})]}),n.jsxs(Dt,{value:d,onValueChange:u,children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Filter by status"})}),n.jsxs(It,{children:[n.jsx(ze,{value:"all",children:"All Status"}),n.jsx(ze,{value:"COMPLETED",children:"Completed"}),n.jsx(ze,{value:"PENDING",children:"Pending"}),n.jsx(ze,{value:"CANCELLED",children:"Cancelled"})]})]}),n.jsxs(Dt,{value:f,onValueChange:h,children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Filter by payment method"})}),n.jsxs(It,{children:[n.jsx(ze,{value:"all",children:"All Payment Methods"}),n.jsx(ze,{value:"CASH",children:"Cash"}),n.jsx(ze,{value:"CARD",children:"Card"}),n.jsx(ze,{value:"MOBILE",children:"Mobile"})]})]}),n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(ma,{className:"w-4 h-4 mr-2"}),i.length," invoice(s) found"]})]})})}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(ds,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Invoice List"})]})}),n.jsxs(re,{children:[A.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ds,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No invoices found"}),n.jsx("p",{className:"text-xs",children:"Try adjusting your search or filters"})]}):n.jsx("div",{className:"space-y-4",children:A.map(J=>{var ke;return n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:J.invoiceNumber}),n.jsx("p",{className:"text-sm text-muted-foreground",children:((ke=J.customer)==null?void 0:ke.name)||"Walk-in Customer"})]}),O(J.status)]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-primary",children:["PKR ",J.totalAmount.toFixed(2)]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:M(J.createdAt)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(kr,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{children:J.user.name})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[E(J.paymentMethod),n.jsx("span",{children:J.paymentMethod})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(cr,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:[J.items.length," item(s)"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Lr,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{children:J.branch.name})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Items:"}),n.jsxs("div",{className:"space-y-1",children:[J.items.slice(0,2).map(Me=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[_(Me.product.unitType),n.jsx("span",{children:Me.product.name}),n.jsxs("span",{className:"text-muted-foreground",children:["(",Me.quantity," ",Me.product.unitType,")"]})]}),n.jsxs("span",{className:"font-medium",children:["PKR ",Me.totalPrice.toFixed(2)]})]},Me.id)),J.items.length>2&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",J.items.length-2," more item(s)"]})]})]}),n.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>ee(J),children:[n.jsx(fn,{className:"w-4 h-4 mr-2"}),"View Details"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>V(J),children:[n.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Print"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>X(J),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>le(J),className:J.status==="REFUNDED"?"text-gray-400 cursor-not-allowed":"text-orange-600 hover:text-orange-700 hover:bg-orange-50",disabled:J.status==="REFUNDED",children:[n.jsx(pu,{className:"w-4 h-4 mr-2"}),J.status==="REFUNDED"?"Refunded":"Refund"]})]})]},J.id)})}),U>1&&n.jsxs("div",{className:"flex items-center justify-between mt-6",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(q-1)*B+1," to ",Math.min(q*B,i.length)," of ",i.length," invoices"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>$(J=>Math.max(J-1,1)),disabled:q===1,children:[n.jsx(PT,{className:"w-4 h-4"}),"Previous"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>$(J=>Math.min(J+1,U)),disabled:q===U,children:["Next",n.jsx(Nw,{className:"w-4 h-4"})]})]})]})]})]}),n.jsx(it,{open:j,onOpenChange:S,children:n.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["Invoice Details - ",y==null?void 0:y.invoiceNumber]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>y&&V(y),children:[n.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Print"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>y&&X(y),children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>y&&le(y),className:(y==null?void 0:y.status)==="REFUNDED"?"text-gray-400 cursor-not-allowed":"text-orange-600 hover:text-orange-700 hover:bg-orange-50",disabled:(y==null?void 0:y.status)==="REFUNDED",children:[n.jsx(pu,{className:"w-4 h-4 mr-2"}),(y==null?void 0:y.status)==="REFUNDED"?"Refunded":"Refund"]})]})]})}),y&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-start border-b pb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-primary",children:"MediBill Pulse Pharmacy"}),n.jsx("p",{className:"text-muted-foreground",children:"Your Health, Our Priority"}),n.jsxs("div",{className:"mt-4 space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Invoice Number:"})," ",y.invoiceNumber]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",M(y.createdAt)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Cashier:"})," ",y.user.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Branch:"})," ",y.branch.name]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-2xl font-bold text-primary",children:["PKR ",y.totalAmount.toFixed(2)]}),n.jsx("div",{className:"mt-2",children:O(y.status)})]})]}),n.jsxs("div",{className:"border-b pb-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Customer Information"}),y.customer&&(y.customer.name||y.customer.phone)?n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",y.customer.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",y.customer.phone||"N/A"]})]}),n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",y.customer.email||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",y.customer.address||"N/A"]})]})]}):n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Customer Type:"})," Walk-in Customer"]}),n.jsx("p",{children:n.jsx("strong",{children:"No customer details available"})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Items Purchased"}),y.items.map(J=>n.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-dashed",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:J.product.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[J.quantity," ",J.product.unitType,"  PKR ",J.unitPrice.toFixed(2),J.batchNumber&&`  Batch: ${J.batchNumber}`,J.expiryDate&&`  Exp: ${new Date(J.expiryDate).toLocaleDateString()}`]})]}),n.jsxs("p",{className:"font-semibold",children:["PKR ",J.totalPrice.toFixed(2)]})]},J.id))]}),n.jsxs("div",{className:"border-t pt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["PKR ",y.subtotal.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"GST (17%):"}),n.jsxs("span",{children:["PKR ",y.taxAmount.toFixed(2)]})]}),y.discountAmount>0&&n.jsxs("div",{className:"flex justify-between text-green-600",children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{children:["-PKR ",y.discountAmount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{className:"text-primary",children:["PKR ",y.totalAmount.toFixed(2)]})]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Payment Method:"})," ",y.paymentMethod]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",y.paymentStatus]})]}),n.jsx("div",{children:n.jsxs("p",{children:[n.jsx("strong",{children:"Receipt Number:"})," ",((Y=(se=y.receipts)==null?void 0:se[0])==null?void 0:Y.receiptNumber)||y.invoiceNumber||"N/A"]})})]})})]})]})}),n.jsx(it,{open:w,onOpenChange:N,children:n.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(st,{children:n.jsxs(at,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["Create Refund - ",y==null?void 0:y.invoiceNumber]}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs(z,{variant:"outline",size:"sm",onClick:ce,children:[n.jsx(pu,{className:"w-4 h-4 mr-2"}),"Process Refund"]})})]})}),y&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Refund Reason"}),n.jsx(oe,{value:k,onChange:J=>D(J.target.value),placeholder:"Enter reason for refund..."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Items to Refund"}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Debug: ",P.length," items loaded"]}),n.jsx("div",{className:"space-y-3",children:P.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx("p",{children:"No items found in this invoice."}),n.jsxs("p",{className:"text-sm",children:["Invoice ID: ",y==null?void 0:y.id]}),n.jsxs("p",{className:"text-sm",children:["Items in invoice: ",((Ee=y==null?void 0:y.items)==null?void 0:Ee.length)||0]}),n.jsxs("p",{className:"text-sm",children:["Debug: ",P.length," items loaded"]}),n.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:n.jsxs("p",{children:["Invoice structure: ",JSON.stringify((ye=y==null?void 0:y.items)==null?void 0:ye.slice(0,1),null,2)]})}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>{console.log("Reloading invoice data..."),y&&le(y)},className:"mt-2",children:"Retry Loading Items"})]}):P.map((J,ke)=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium",children:J.productName}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Unit Price: PKR ",J.unitPrice.toFixed(2)]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Max: ",J.maxQuantity," units"]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Quantity to Refund"}),n.jsx(oe,{type:"number",min:"0",max:J.maxQuantity,value:J.quantity,onChange:Me=>H(ke,"quantity",parseInt(Me.target.value)||0)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Reason"}),n.jsx(oe,{value:J.reason,onChange:Me=>H(ke,"reason",Me.target.value),placeholder:"Reason for this item..."})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Refund Amount:"}),n.jsxs("span",{className:"font-medium",children:["PKR ",(J.quantity*J.unitPrice).toFixed(2)]})]})]},J.productId))})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-lg font-semibold",children:"Total Refund Amount:"}),n.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["PKR ",P.reduce((J,ke)=>J+ke.quantity*ke.unitPrice,0).toFixed(2)]})]})})]})]})})]})})},Ibe=()=>{const{user:e}=Jt(),[t,r]=m.useState(!1),[s,a]=m.useState(null),[i,o]=m.useState([]),[l,c]=m.useState(!1),[d,u]=m.useState(!1),[f,h]=m.useState(""),[p,b]=m.useState(""),[x,g]=m.useState([]),[y,v]=m.useState(null),[j,S]=m.useState(!1),[w,N]=m.useState(null),[P,C]=m.useState(null),[k,D]=m.useState(!1);m.useEffect(()=>{e!=null&&e.id&&($(),T())},[e==null?void 0:e.id,e==null?void 0:e.branchId]);const T=async()=>{var O;try{console.log("Loading employees for branch:",e==null?void 0:e.branchId);const M=await pe.getEmployees({branchId:(e==null?void 0:e.branchId)||"default-branch",limit:100});console.log("Employees response:",M),M.success&&M.data?(g(M.data.employees||[]),console.log("Loaded employees:",((O=M.data.employees)==null?void 0:O.length)||0)):(console.error("Failed to load employees:",M.message),g([]))}catch(M){console.error("Error loading employees:",M),g([])}},R=async O=>{try{const M=new Date().toISOString().split("T")[0],A=await pe.getEmployeePerformance(O,{startDate:M,endDate:M});A.success&&A.data&&N(A.data)}catch(M){console.error("Error loading current shift sales:",M)}},q=async O=>{try{const M=new Date;M.setDate(M.getDate()-1);const A=M.toISOString().split("T")[0],U=await pe.getEmployeePerformance(O,{startDate:A,endDate:A});U.success&&U.data&&C(U.data)}catch(M){console.error("Error loading previous shift sales:",M)}},$=async()=>{try{if(c(!0),h(""),!(e!=null&&e.id)){h("User not found");return}const O=await pe.getTodayAttendance(e.id);O.success&&O.data?(o([O.data]),r(!0),a(O.data)):(o([]),r(!1),a(null))}catch(O){console.error("Error loading today's attendance:",O),h("Failed to load attendance data"),o([]),r(!1),a(null)}finally{c(!1)}},B=async O=>{const M=O||(e==null?void 0:e.id);if(!M||!(e!=null&&e.branchId)){h("Employee or branch information not found");return}try{u(!0),h("");const A=await pe.checkIn({employeeId:M,branchId:(e==null?void 0:e.branchId)||"default-branch",notes:p.trim()||void 0});A.success&&A.data?(o([A.data]),r(!0),a(A.data),b(""),await q(M),alert("Check-in successful!")):h(A.message||"Failed to check in")}catch(A){console.error("Error checking in:",A),h("Failed to check in. Please try again.")}finally{u(!1)}},I=async()=>{var O;if(!(s!=null&&s.id)){h("No active attendance record found");return}try{u(!0),h(""),(O=s.employee)!=null&&O.id&&(await R(s.employee.id),D(!0));const M=await pe.checkOut({attendanceId:s.id,notes:p.trim()||void 0});M.success&&M.data?(o([M.data]),r(!1),a(null),b(""),alert("Check-out successful! Sales summary displayed below.")):h(M.message||"Failed to check out")}catch(M){console.error("Error checking out:",M),h("Failed to check out. Please try again.")}finally{u(!1)}},L=O=>{switch(O){case"PRESENT":return"bg-green-100 text-green-800";case"LATE":return"bg-yellow-100 text-yellow-800";case"HALF_DAY":return"bg-blue-100 text-blue-800";case"ABSENT":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=O=>new Date(O).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),_=O=>new Date(O).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Employee Check-in"}),n.jsx("p",{className:"text-muted-foreground",children:"Check in and out for your shifts"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(kr,{className:"w-5 h-5 text-muted-foreground"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.name)||"Unknown User"})]})]}),f&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(yr,{className:"w-5 h-5 text-red-600 mr-2"}),n.jsxs("p",{className:"text-red-800 font-medium",children:["Error: ",f]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("span",{children:"Current Status"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t?"Currently Checked In":"Not Checked In"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:t?"Active":"Inactive"}),s&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Since ",E(s.checkIn)]})]}),t?n.jsx(ur,{className:"w-8 h-8 text-green-600"}):n.jsx(Um,{className:"w-8 h-8 text-gray-400"})]})})]}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Today's Date"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:_(new Date().toISOString())})]}),n.jsx(Lr,{className:"w-8 h-8 text-accent"})]})})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(um,{className:"w-5 h-5"}),n.jsx("span",{children:"Attendance Actions"})]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(ca,{id:"notes",placeholder:"Add any notes about your shift...",value:p,onChange:O=>b(O.target.value),rows:3})]}),n.jsxs("div",{className:"flex space-x-4",children:[t?n.jsxs(z,{onClick:I,disabled:d||l,className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700",children:[d?n.jsx(Ot,{className:"w-4 h-4 animate-spin"}):n.jsx(Sx,{className:"w-4 h-4"}),n.jsx("span",{children:d?"Checking Out...":"Check Out"})]}):n.jsxs(z,{onClick:B,disabled:d||l,className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700",children:[d?n.jsx(Ot,{className:"w-4 h-4 animate-spin"}):n.jsx(v0,{className:"w-4 h-4"}),n.jsx("span",{children:d?"Checking In...":"Check In"})]}),n.jsxs(z,{onClick:$,disabled:l||d,variant:"outline",className:"flex items-center space-x-2",children:[l?n.jsx(Ot,{className:"w-4 h-4 animate-spin"}):n.jsx(Nr,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]})]})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-5 h-5"}),n.jsx("span",{children:"Today's Attendance"})]})}),n.jsx(re,{children:l?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ot,{className:"w-6 h-6 animate-spin mr-2"}),n.jsx("span",{children:"Loading attendance..."})]}):i.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Nr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),n.jsx("p",{children:"No attendance records for today"})]}):n.jsx("div",{className:"space-y-4",children:i.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:E(O.checkIn)}),O.checkOut&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-muted-foreground",children:"-"}),n.jsx("span",{className:"text-sm font-medium",children:E(O.checkOut)})]})]}),n.jsx(Ce,{className:L(O.status),children:O.status}),O.totalHours&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(um,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[O.totalHours,"h"]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:O.notes||"No notes"})})]},O.id))})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:t?"Active":"Inactive"})]}),t?n.jsx(ur,{className:"w-8 h-8 text-green-600"}):n.jsx(Um,{className:"w-8 h-8 text-gray-400"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Records Today"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:i.length})]}),n.jsx(Lr,{className:"w-8 h-8 text-accent"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Hours"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:s!=null&&s.totalHours?`${s.totalHours}h`:"N/A"})]}),n.jsx(um,{className:"w-8 h-8 text-blue-600"})]})})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-5 h-5"}),n.jsx("span",{children:"Employee Management"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(z,{onClick:()=>{S(!j),j||T()},variant:"outline",className:"flex items-center space-x-2",children:[n.jsx(yt,{className:"w-4 h-4"}),n.jsxs("span",{children:[j?"Hide":"Show"," Employee Table"]})]}),n.jsxs(z,{onClick:T,variant:"outline",className:"flex items-center space-x-2",disabled:l,children:[l?n.jsx(Ot,{className:"w-4 h-4 animate-spin"}):n.jsx(yt,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]})]})}),j&&n.jsx(re,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Select an employee to manage their check-in/check-out"}),n.jsxs("div",{className:"text-sm font-medium text-foreground",children:["Total Employees: ",x.length]})]}),l?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ot,{className:"w-6 h-6 animate-spin mr-2"}),n.jsx("span",{children:"Loading employees..."})]}):x.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(yt,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),n.jsx("p",{children:"No employees found"}),n.jsx("p",{className:"text-sm",children:"Make sure employees are created and assigned to this branch"})]}):n.jsxs(il,{children:[n.jsx(ol,{children:n.jsxs(Rn,{children:[n.jsx(jt,{children:"Employee ID"}),n.jsx(jt,{children:"Name"}),n.jsx(jt,{children:"Position"}),n.jsx(jt,{children:"Email"}),n.jsx(jt,{children:"Status"}),n.jsx(jt,{children:"Actions"})]})}),n.jsx(ll,{children:x.map(O=>n.jsxs(Rn,{children:[n.jsx(vt,{className:"font-medium",children:O.employeeId}),n.jsx(vt,{children:O.name}),n.jsx(vt,{children:O.position}),n.jsx(vt,{children:O.email}),n.jsx(vt,{children:n.jsx(Ce,{className:O.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:O.status})}),n.jsx(vt,{children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(z,{size:"sm",onClick:()=>{v(O),B(O.id)},disabled:d,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(v0,{className:"w-3 h-3 mr-1"}),"Check In"]}),n.jsxs(z,{size:"sm",variant:"outline",onClick:()=>{v(O),q(O.id)},children:[n.jsx(Ar,{className:"w-3 h-3 mr-1"}),"View Sales"]})]})})]},O.id))})]})]})})]}),(k||P)&&n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(ar,{className:"w-5 h-5"}),n.jsx("span",{children:"Sales Summary"})]})}),n.jsxs(re,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-green-600",children:"Current Shift Sales"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ar,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Sales"})]}),n.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["Rs. ",w.totalSales.toLocaleString()]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qr,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Transactions"})]}),n.jsx("p",{className:"text-2xl font-bold text-blue-900",children:w.totalTransactions})]}),n.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ar,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Average Sale"})]}),n.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["Rs. ",w.averageSale.toLocaleString()]})]})]}),w.topProducts.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Top Products Sold"}),n.jsx("div",{className:"space-y-2",children:w.topProducts.slice(0,3).map((O,M)=>n.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[n.jsx("span",{className:"text-sm",children:O.productName}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-sm font-medium",children:[O.quantity," units"]}),n.jsx("br",{}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Rs. ",O.totalAmount.toLocaleString()]})]})]},M))})]})]}),P&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-600",children:"Previous Shift Sales"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ar,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Total Sales"})]}),n.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["Rs. ",P.totalSales.toLocaleString()]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(qr,{className:"w-5 h-5 text-gray-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-800",children:"Transactions"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.totalTransactions})]}),n.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ar,{className:"w-5 h-5 text-orange-600"}),n.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Average Sale"})]}),n.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:["Rs. ",P.averageSale.toLocaleString()]})]})]}),P.topProducts.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Top Products Sold"}),n.jsx("div",{className:"space-y-2",children:P.topProducts.slice(0,3).map((O,M)=>n.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[n.jsx("span",{className:"text-sm",children:O.productName}),n.jsxs("div",{className:"text-right",children:[n.jsxs("span",{className:"text-sm font-medium",children:[O.quantity," units"]}),n.jsx("br",{}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Rs. ",O.totalAmount.toLocaleString()]})]})]},M))})]})]})]}),!w&&!P&&n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ar,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),n.jsx("p",{children:"No sales data available"})]})]})]})]})},_be=()=>{const{user:e}=Jt(),[t,r]=m.useState(null),[s,a]=m.useState([]),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(""),[f,h]=m.useState(!1),[p,b]=m.useState(!1),[x,g]=m.useState(!1),[y,v]=m.useState({openingBalance:"",notes:""}),[j,S]=m.useState({actualBalance:"",notes:""}),[w,N]=m.useState({cashIn:"",cashOut:"",notes:""});m.useEffect(()=>{e!=null&&e.id&&(P(),C())},[e==null?void 0:e.id]);const P=async()=>{if(e!=null&&e.id)try{o(!0),u(""),await new Promise(L=>setTimeout(L,500));const I=localStorage.getItem("shifts");if(I)try{const E=JSON.parse(I).find(_=>_.employeeId===e.id&&_.status==="ACTIVE");r(E||null)}catch{console.warn("Error parsing stored shifts"),r(null)}else r(null)}catch(I){console.error("Error loading active shift:",I),u("Failed to load active shift"),r(null)}finally{o(!1)}},C=async()=>{if(e!=null&&e.id)try{await new Promise(L=>setTimeout(L,300));const I=localStorage.getItem("shifts");if(I)try{const E=JSON.parse(I).filter(_=>_.employeeId===e.id).sort((_,O)=>new Date(O.createdAt).getTime()-new Date(_.createdAt).getTime()).slice(0,10);a(E)}catch{console.warn("Error parsing stored shifts"),a([])}else a([])}catch(I){console.error("Error loading recent shifts:",I),a([])}},k=async()=>{if(!(e!=null&&e.id)){u("User information not found");return}try{c(!0),u(""),await new Promise(E=>setTimeout(E,1e3));const I={id:`shift_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,employeeId:e.id,employee:{id:e.id,name:e.name||"Unknown User",employeeId:e.id,position:e.role||"Cashier"},shiftDate:new Date().toISOString().split("T")[0],startTime:new Date().toISOString(),endTime:void 0,openingBalance:parseFloat(y.openingBalance)||0,cashIn:0,cashOut:0,expectedBalance:parseFloat(y.openingBalance)||0,actualBalance:void 0,difference:void 0,status:"ACTIVE",notes:y.notes.trim()||void 0,createdAt:new Date().toISOString()},L=JSON.parse(localStorage.getItem("shifts")||"[]");L.unshift(I),localStorage.setItem("shifts",JSON.stringify(L)),r(I),v({openingBalance:"",notes:""}),h(!1),alert("Shift started successfully!")}catch(I){console.error("Error starting shift:",I),u("Failed to start shift. Please try again.")}finally{c(!1)}},D=async()=>{if(!(t!=null&&t.id)){u("No active shift found");return}try{c(!0),u(""),await new Promise(O=>setTimeout(O,1e3));const I=parseFloat(j.actualBalance)||0,L=B(),E=I-L,_=localStorage.getItem("shifts");if(_)try{const M=JSON.parse(_).map(A=>A.id===t.id?{...A,endTime:new Date().toISOString(),actualBalance:I,difference:E,status:"COMPLETED",notes:j.notes.trim()||A.notes}:A);localStorage.setItem("shifts",JSON.stringify(M))}catch{console.warn("Error updating shift in localStorage")}r(null),S({actualBalance:"",notes:""}),b(!1),await C(),alert("Shift ended successfully!")}catch(I){console.error("Error ending shift:",I),u("Failed to end shift. Please try again.")}finally{c(!1)}},T=async()=>{if(!(t!=null&&t.id)){u("No active shift found");return}try{c(!0),u(""),await new Promise(A=>setTimeout(A,1e3));const I=parseFloat(w.cashIn)||0,L=parseFloat(w.cashOut)||0,E=t.cashIn+I,_=t.cashOut+L,O=t.openingBalance+E-_,M=localStorage.getItem("shifts");if(M)try{const U=JSON.parse(M).map(ee=>ee.id===t.id?{...ee,cashIn:E,cashOut:_,expectedBalance:O,notes:w.notes.trim()||ee.notes}:ee);localStorage.setItem("shifts",JSON.stringify(U)),r({...t,cashIn:E,cashOut:_,expectedBalance:O,notes:w.notes.trim()||t.notes})}catch{console.warn("Error updating shift in localStorage")}N({cashIn:"",cashOut:"",notes:""}),g(!1),alert("Shift updated successfully!")}catch(I){console.error("Error updating shift:",I),u("Failed to update shift. Please try again.")}finally{c(!1)}},R=I=>{switch(I){case"ACTIVE":return"bg-green-100 text-green-800";case"COMPLETED":return"bg-blue-100 text-blue-800";case"CANCELLED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},q=I=>new Date(I).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),$=I=>new Date(I).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),B=()=>t?t.openingBalance+t.cashIn-t.cashOut:0;return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Shift Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your work shifts and cash handling"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(kr,{className:"w-5 h-5 text-muted-foreground"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.name)||"Unknown User"})]})]}),d&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(yr,{className:"w-5 h-5 text-red-600 mr-2"}),n.jsxs("p",{className:"text-red-800 font-medium",children:["Error: ",d]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("span",{children:"Current Shift"})]})}),n.jsx(re,{children:t?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),n.jsx(Ce,{className:R(t.status),children:t.status})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Started"}),n.jsx("p",{className:"text-sm",children:q(t.startTime)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Opening Balance"}),n.jsxs("p",{className:"text-lg font-bold",children:["PKR ",t.openingBalance.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expected Balance"}),n.jsxs("p",{className:"text-lg font-bold",children:["PKR ",B().toLocaleString()]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cash In"}),n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["+PKR ",t.cashIn.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cash Out"}),n.jsxs("p",{className:"text-lg font-bold text-red-600",children:["-PKR ",t.cashOut.toLocaleString()]})]})]})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Nr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),n.jsx("p",{className:"text-muted-foreground",children:"No active shift"})]})})]}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Today's Date"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:$(new Date().toISOString())})]}),n.jsx(Lr,{className:"w-8 h-8 text-accent"})]})})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(um,{className:"w-5 h-5"}),n.jsx("span",{children:"Shift Actions"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[t?n.jsxs(n.Fragment,{children:[n.jsxs(it,{open:x,onOpenChange:g,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{variant:"outline",className:"flex items-center space-x-2",children:[n.jsx(fr,{className:"w-4 h-4"}),n.jsx("span",{children:"Update Cash"})]})}),n.jsxs(nt,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Update Cash Flow"}),n.jsx(Mt,{children:"Record cash in and cash out transactions."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"cashIn",children:"Cash In (PKR)"}),n.jsx(oe,{id:"cashIn",type:"number",placeholder:"0",value:w.cashIn,onChange:I=>N({...w,cashIn:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"cashOut",children:"Cash Out (PKR)"}),n.jsx(oe,{id:"cashOut",type:"number",placeholder:"0",value:w.cashOut,onChange:I=>N({...w,cashOut:I.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(ca,{id:"notes",placeholder:"Add any notes about the transaction...",value:w.notes,onChange:I=>N({...w,notes:I.target.value}),rows:3})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),n.jsx(z,{onClick:T,disabled:l,children:l?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update Shift"})]})]})]}),n.jsxs(it,{open:p,onOpenChange:b,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{className:"flex items-center space-x-2 bg-red-600 hover:bg-red-700",children:[n.jsx(MF,{className:"w-4 h-4"}),n.jsx("span",{children:"End Shift"})]})}),n.jsxs(nt,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"End Shift"}),n.jsx(Mt,{children:"Complete your shift with actual cash count."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"actualBalance",children:"Actual Balance (PKR)"}),n.jsx(oe,{id:"actualBalance",type:"number",placeholder:"0",value:j.actualBalance,onChange:I=>S({...j,actualBalance:I.target.value})}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expected: PKR ",B().toLocaleString()]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(ca,{id:"notes",placeholder:"Add any notes about the shift end...",value:j.notes,onChange:I=>S({...j,notes:I.target.value}),rows:3})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),n.jsx(z,{onClick:D,disabled:l,children:l?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Ending..."]}):"End Shift"})]})]})]})]}):n.jsxs(it,{open:f,onOpenChange:h,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700",children:[n.jsx(_F,{className:"w-4 h-4"}),n.jsx("span",{children:"Start Shift"})]})}),n.jsxs(nt,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Start New Shift"}),n.jsx(Mt,{children:"Begin your work shift with opening cash balance."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"openingBalance",children:"Opening Balance (PKR)"}),n.jsx(oe,{id:"openingBalance",type:"number",placeholder:"0",value:y.openingBalance,onChange:I=>v({...y,openingBalance:I.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(ca,{id:"notes",placeholder:"Add any notes about your shift...",value:y.notes,onChange:I=>v({...y,notes:I.target.value}),rows:3})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),n.jsx(z,{onClick:k,disabled:l,children:l?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):"Start Shift"})]})]})]}),n.jsxs(z,{onClick:()=>{P(),C()},disabled:i||l,variant:"outline",className:"flex items-center space-x-2",children:[i?n.jsx(Ot,{className:"w-4 h-4 animate-spin"}):n.jsx(Nr,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-5 h-5"}),n.jsx("span",{children:"Recent Shifts"})]})}),n.jsx(re,{children:s.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Nr,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),n.jsx("p",{children:"No recent shifts found"})]}):n.jsx("div",{className:"space-y-4",children:s.map(I=>n.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:q(I.startTime)}),I.endTime&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-muted-foreground",children:"-"}),n.jsx("span",{className:"text-sm font-medium",children:q(I.endTime)})]})]}),n.jsx(Ce,{className:R(I.status),children:I.status}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ar,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["PKR ",I.openingBalance.toLocaleString()]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium",children:I.difference!==null?`Diff: PKR ${I.difference.toLocaleString()}`:"Active"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:I.notes||"No notes"})]})]},I.id))})})]})]})},Rbe=()=>{const{user:e}=Jt(),[t,r]=m.useState(null),[s,a]=m.useState([]),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[d,u]=m.useState(""),[f,h]=m.useState(!1),[p,b]=m.useState(""),[x,g]=m.useState({period:"",periodType:"MONTHLY",baseRate:"0.02",bonusRate:"0",notes:""});m.useEffect(()=>{e!=null&&e.id&&(y(),v())},[e==null?void 0:e.id]);const y=async()=>{if(e!=null&&e.id)try{o(!0),u(""),await new Promise(k=>setTimeout(k,1e3));const C={employee:{id:e.id,name:e.name||"Unknown User",employeeId:e.id,position:e.role||"Cashier"},period:p,sales:{totalSales:125e3,totalTransactions:45,averageTransactionValue:2777.78,targetSales:1e5,achievementPercentage:125},customers:{newCustomers:12,returningCustomers:33,totalCustomers:45,customerSatisfaction:4.5},products:{totalProductsSold:156,topSellingProduct:"Paracetamol 500mg",topSellingCategory:"Pain Relief"},commissions:{totalCommission:2500,pendingCommission:500,paidCommission:2e3},goals:[{id:"goal_001",title:"Monthly Sales Target",target:1e5,current:125e3,unit:"PKR",deadline:"2024-01-31",status:"ACHIEVED"},{id:"goal_002",title:"Customer Acquisition",target:10,current:12,unit:"customers",deadline:"2024-01-31",status:"ACHIEVED"}],achievements:[{id:"ach_001",title:"Sales Champion",description:"Exceeded monthly sales target by 25%",earnedAt:"2024-01-15T10:30:00Z",type:"SALES"},{id:"ach_002",title:"Customer Favorite",description:"Highest customer satisfaction rating",earnedAt:"2024-01-20T14:20:00Z",type:"CUSTOMER"}]};r(C)}catch(C){console.error("Error loading performance data:",C),u("Failed to load performance data")}finally{o(!1)}},v=async()=>{if(e!=null&&e.id)try{await new Promise(k=>setTimeout(k,500));const C=[{id:"comm_001",employeeId:e.id,employee:{id:e.id,name:e.name||"Unknown User",employeeId:e.id,position:e.role||"Cashier"},period:"2024-01",amount:2500,status:"PAID",calculatedAt:"2024-01-31T23:59:59Z",paidAt:"2024-02-01T10:00:00Z",description:"Monthly sales commission"},{id:"comm_002",employeeId:e.id,employee:{id:e.id,name:e.name||"Unknown User",employeeId:e.id,position:e.role||"Cashier"},period:"2024-01",amount:500,status:"PENDING",calculatedAt:"2024-01-31T23:59:59Z",description:"Customer acquisition bonus"}];a(C)}catch(C){console.error("Error loading commissions:",C),a([])}},j=async()=>{if(!(e!=null&&e.id)){u("User information not found");return}try{c(!0),u(""),await new Promise($=>setTimeout($,1500));const C=parseFloat(x.baseRate)||.02,k=parseFloat(x.bonusRate)||0,D=125e3,T=D*C+D*k,R={id:`comm_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,employeeId:e.id,employee:{id:e.id,name:e.name||"Unknown User",employeeId:e.id,position:e.role||"Cashier"},period:x.period,amount:T,status:"PENDING",calculatedAt:new Date().toISOString(),description:`Commission for ${x.periodType.toLowerCase()} period`,notes:x.notes.trim()||void 0},q=JSON.parse(localStorage.getItem("commissionEarnings")||"[]");q.unshift(R),localStorage.setItem("commissionEarnings",JSON.stringify(q)),g({period:"",periodType:"MONTHLY",baseRate:"0.02",bonusRate:"0",notes:""}),h(!1),await v(),await y(),alert(`Commission calculated successfully! Amount: PKR ${T.toFixed(2)}`)}catch(C){console.error("Error calculating commission:",C),u("Failed to calculate commission. Please try again.")}finally{c(!1)}},S=C=>{switch(C){case"PAID":return"bg-green-100 text-green-800";case"APPROVED":return"bg-blue-100 text-blue-800";case"PENDING":return"bg-yellow-100 text-yellow-800";case"CANCELLED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=C=>`PKR ${C.toLocaleString()}`,N=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),P=()=>{const C=[],k=new Date;for(let D=0;D<7;D++){const T=new Date(k);T.setDate(T.getDate()-D),C.push({value:T.toISOString().split("T")[0],label:T.toLocaleDateString("en-US",{month:"short",day:"numeric"}),type:"DAILY"})}for(let D=0;D<4;D++){const T=new Date(k);T.setDate(T.getDate()-D*7);const R=new Date(T);R.setDate(T.getDate()-T.getDay()),C.push({value:R.toISOString().split("T")[0],label:`Week of ${R.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`,type:"WEEKLY"})}for(let D=0;D<12;D++){const T=new Date(k);T.setMonth(T.getMonth()-D),C.push({value:`${T.getFullYear()}-${String(T.getMonth()+1).padStart(2,"0")}`,label:T.toLocaleDateString("en-US",{year:"numeric",month:"long"}),type:"MONTHLY"})}return C};return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Performance Tracking"}),n.jsx("p",{className:"text-muted-foreground",children:"Track your sales performance and commissions"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(kr,{className:"w-5 h-5 text-muted-foreground"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:(e==null?void 0:e.name)||"Unknown User"})]})]}),d&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(yr,{className:"w-5 h-5 text-red-600 mr-2"}),n.jsxs("p",{className:"text-red-800 font-medium",children:["Error: ",d]})]})}),t&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:w(t.sales.totalSales)})]}),n.jsx(Ar,{className:"w-8 h-8 text-green-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.sales.totalTransactions})]}),n.jsx(Kn,{className:"w-8 h-8 text-blue-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Average Sale"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:w(t.sales.averageSale)})]}),n.jsx(y0,{className:"w-8 h-8 text-purple-600"})]})})}),n.jsx(te,{className:"shadow-soft border-0",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Commissions"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:w(t.commissions.totalAmount)})]}),n.jsx(Di,{className:"w-8 h-8 text-yellow-600"})]})})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center space-x-2",children:[n.jsx(Di,{className:"w-5 h-5"}),n.jsx("span",{children:"Commission Management"})]}),n.jsxs(it,{open:f,onOpenChange:h,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{className:"flex items-center space-x-2",children:[n.jsx(bF,{className:"w-4 h-4"}),n.jsx("span",{children:"Calculate Commission"})]})}),n.jsxs(nt,{children:[n.jsxs(st,{children:[n.jsx(at,{children:"Calculate Commission"}),n.jsx(Mt,{children:"Calculate commission for a specific period."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"period",children:"Period"}),n.jsxs(Dt,{value:p,onValueChange:C=>{const k=P().find(D=>D.value===C);k&&(b(C),g({...x,period:C,periodType:k.type}))},children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select period"})}),n.jsx(It,{children:P().map(C=>n.jsxs(ze,{value:C.value,children:[C.label," (",C.type,")"]},C.value))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"baseRate",children:"Base Rate (%)"}),n.jsx(oe,{id:"baseRate",type:"number",step:"0.01",min:"0",max:"100",placeholder:"2.0",value:x.baseRate,onChange:C=>g({...x,baseRate:C.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"bonusRate",children:"Bonus Rate (%)"}),n.jsx(oe,{id:"bonusRate",type:"number",step:"0.01",min:"0",max:"100",placeholder:"0.0",value:x.bonusRate,onChange:C=>g({...x,bonusRate:C.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(ca,{id:"notes",placeholder:"Add any notes about this commission calculation...",value:x.notes,onChange:C=>g({...x,notes:C.target.value}),rows:3})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),n.jsx(z,{onClick:j,disabled:l||!p,children:l?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"}),"Calculating..."]}):"Calculate Commission"})]})]})]})]})}),n.jsx(re,{children:i?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ot,{className:"w-6 h-6 animate-spin mr-2"}),n.jsx("span",{children:"Loading performance data..."})]}):s.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Di,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),n.jsx("p",{children:"No commission records found"})]}):n.jsx("div",{className:"space-y-4",children:s.map(C=>n.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:C.period}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:C.periodType})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ar,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:w(C.totalSales)})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(y0,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[C.totalTransactions," transactions"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-lg font-bold",children:w(C.totalAmount)}),n.jsx(Ce,{className:S(C.status),children:C.status})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Base: ",w(C.totalCommission)," + Bonus: ",w(C.bonusAmount)]}),C.paidAt&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",N(C.paidAt)]})]})]},C.id))})})]}),(t==null?void 0:t.recentCommissions)&&t.recentCommissions.length>0&&n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("span",{children:"Recent Commissions"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:t.recentCommissions.map(C=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:C.period}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[C.periodType,"  ",N(C.createdAt)]})]}),n.jsx(Ce,{className:S(C.status),children:C.status})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium",children:w(C.totalAmount)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[w(C.totalSales)," sales"]})]})]},C.id))})})]}),n.jsx("div",{className:"flex justify-end space-x-4",children:n.jsxs(z,{onClick:()=>{y(),v()},disabled:i||l,variant:"outline",className:"flex items-center space-x-2",children:[i?n.jsx(Ot,{className:"w-4 h-4 animate-spin"}):n.jsx(Kn,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh Data"})]})})]})},Mbe=()=>{const[e,t]=m.useState([]),[r,s]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState(""),[u,f]=m.useState("all"),[h,p]=m.useState(null),[b,x]=m.useState(!1),[g,y]=m.useState(!1),[v,j]=m.useState(!0),[S,w]=m.useState(1),[N]=m.useState(10),[P,C]=m.useState({fromBranchId:"",toBranchId:"",notes:"",items:[]}),[k,D]=m.useState({productId:"",quantity:""});m.useEffect(()=>{T()},[]),m.useEffect(()=>{R()},[e,c,u]);const T=async()=>{try{j(!0),await new Promise(ee=>setTimeout(ee,500));const M=localStorage.getItem("inventoryTransfers");if(M)try{const ee=JSON.parse(M);t(ee)}catch{console.warn("Error parsing stored transfers"),t([])}else t([]);const A=localStorage.getItem("products");if(A)try{const ee=JSON.parse(A);i(ee)}catch{console.warn("Error parsing stored products")}l([{id:"branch_001",name:"Main Branch",address:"123 Main Street, Lahore"},{id:"branch_002",name:"Gulberg Branch",address:"456 Gulberg, Lahore"},{id:"branch_003",name:"DHA Branch",address:"789 DHA Phase 5, Lahore"},{id:"branch_004",name:"Karachi Branch",address:"321 Clifton, Karachi"}])}catch(M){console.error("Error loading data:",M)}finally{j(!1)}},R=()=>{let M=[...e];c&&(M=M.filter(A=>A.transferNumber.toLowerCase().includes(c.toLowerCase())||A.fromBranch.name.toLowerCase().includes(c.toLowerCase())||A.toBranch.name.toLowerCase().includes(c.toLowerCase())||A.requestedBy.toLowerCase().includes(c.toLowerCase()))),u!=="all"&&(M=M.filter(A=>A.status===u)),s(M),w(1)},q=()=>{if(!k.productId||!k.quantity){alert("Please select a product and enter quantity");return}const M=a.find(V=>V.id===k.productId);if(!M){alert("Product not found");return}const A=parseInt(k.quantity);if(A<=0){alert("Quantity must be greater than 0");return}if(A>M.stockQuantity){alert(`Insufficient stock. Available: ${M.stockQuantity}`);return}if(P.items.find(V=>V.productId===k.productId)){alert("Product already added to transfer");return}const ee={productId:M.id,productName:M.name,quantity:A,unitType:M.unitType,currentStock:M.stockQuantity};C({...P,items:[...P.items,ee]}),D({productId:"",quantity:""})},$=M=>{C({...P,items:P.items.filter(A=>A.productId!==M)})},B=async()=>{if(!P.fromBranchId||!P.toBranchId){alert("Please select both source and destination branches");return}if(P.items.length===0){alert("Please add at least one item to transfer");return}if(P.fromBranchId===P.toBranchId){alert("Source and destination branches cannot be the same");return}try{j(!0),await new Promise(X=>setTimeout(X,1e3));const M=o.find(X=>X.id===P.fromBranchId),A=o.find(X=>X.id===P.toBranchId),U=P.items.reduce((X,Q)=>{const le=a.find(H=>H.id===Q.productId);return X+(le?le.sellingPrice*Q.quantity:0)},0),ee={id:`transfer_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,transferNumber:`TRF-${new Date().getFullYear()}${String(new Date().getMonth()+1).padStart(2,"0")}${String(new Date().getDate()).padStart(2,"0")}-${String(Math.floor(Math.random()*1e3)).padStart(3,"0")}`,fromBranchId:P.fromBranchId,toBranchId:P.toBranchId,fromBranch:M,toBranch:A,items:P.items,status:"PENDING",requestedBy:"Current User",requestedAt:new Date().toISOString(),notes:P.notes,totalItems:P.items.length,totalValue:U},V=JSON.parse(localStorage.getItem("inventoryTransfers")||"[]");V.unshift(ee),localStorage.setItem("inventoryTransfers",JSON.stringify(V)),t(V),C({fromBranchId:"",toBranchId:"",notes:"",items:[]}),y(!1),alert("Transfer request created successfully!")}catch(M){console.error("Error creating transfer:",M),alert("Failed to create transfer. Please try again.")}finally{j(!1)}},I=(M,A)=>{const U=e.map(ee=>ee.id===M?{...ee,status:A,approvedAt:A==="IN_TRANSIT"?new Date().toISOString():ee.approvedAt,deliveredAt:A==="DELIVERED"?new Date().toISOString():ee.deliveredAt}:ee);t(U),localStorage.setItem("inventoryTransfers",JSON.stringify(U))},L=M=>{switch(M){case"PENDING":return n.jsx(Ce,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"IN_TRANSIT":return n.jsx(Ce,{className:"bg-blue-100 text-blue-800",children:"In Transit"});case"DELIVERED":return n.jsx(Ce,{className:"bg-green-100 text-green-800",children:"Delivered"});case"CANCELLED":return n.jsx(Ce,{className:"bg-red-100 text-red-800",children:"Cancelled"});default:return n.jsx(Ce,{variant:"secondary",children:M})}},E=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=r.slice((S-1)*N,S*N),O=Math.ceil(r.length/N);return v?n.jsx("div",{className:"p-6 bg-background min-h-screen",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading transfers..."})]})})}):n.jsx("div",{className:"p-6 bg-background min-h-screen",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Inventory Transfers"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage inventory transfers between branches"})]}),n.jsxs(z,{onClick:()=>y(!0),children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Create Transfer"]})]}),n.jsx(te,{children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search transfers...",value:c,onChange:M=>d(M.target.value),className:"pl-10"})]}),n.jsxs(Dt,{value:u,onValueChange:f,children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Filter by status"})}),n.jsxs(It,{children:[n.jsx(ze,{value:"all",children:"All Status"}),n.jsx(ze,{value:"PENDING",children:"Pending"}),n.jsx(ze,{value:"IN_TRANSIT",children:"In Transit"}),n.jsx(ze,{value:"DELIVERED",children:"Delivered"}),n.jsx(ze,{value:"CANCELLED",children:"Cancelled"})]})]}),n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(ma,{className:"w-4 h-4 mr-2"}),r.length," transfer(s) found"]})]})})}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Cv,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Transfer Requests"})]})}),n.jsxs(re,{children:[_.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Cv,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No transfers found"}),n.jsx("p",{className:"text-xs",children:"Create a new transfer to get started"})]}):n.jsx("div",{className:"space-y-4",children:_.map(M=>n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:M.transferNumber}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[M.fromBranch.name,"  ",M.toBranch.name]})]}),L(M.status)]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-primary",children:["PKR ",M.totalValue.toFixed(2)]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[M.totalItems," item(s)"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(kr,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:["Requested by: ",M.requestedBy]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Lr,{className:"w-4 h-4 text-muted-foreground"}),n.jsx("span",{children:E(M.requestedAt)})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Da,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:["From: ",M.fromBranch.name]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(xF,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:["To: ",M.toBranch.name]})]})]}),n.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{p(M),x(!0)},children:[n.jsx(fn,{className:"w-4 h-4 mr-2"}),"View Details"]}),M.status==="PENDING"&&n.jsxs(n.Fragment,{children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>I(M.id,"IN_TRANSIT"),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[n.jsx(Cv,{className:"w-4 h-4 mr-2"}),"Approve"]}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>I(M.id,"CANCELLED"),className:"text-red-600 border-red-600 hover:bg-red-50",children:"Cancel"})]}),M.status==="IN_TRANSIT"&&n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>I(M.id,"DELIVERED"),className:"text-green-600 border-green-600 hover:bg-green-50",children:[n.jsx(ur,{className:"w-4 h-4 mr-2"}),"Mark Delivered"]})]})]},M.id))}),O>1&&n.jsxs("div",{className:"flex items-center justify-between mt-6",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(S-1)*N+1," to ",Math.min(S*N,r.length)," of ",r.length," transfers"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(z,{variant:"outline",size:"sm",onClick:()=>w(M=>Math.max(M-1,1)),disabled:S===1,children:"Previous"}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>w(M=>Math.min(M+1,O)),disabled:S===O,children:"Next"})]})]})]})]}),n.jsx(it,{open:g,onOpenChange:y,children:n.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(st,{children:n.jsx(at,{children:"Create Inventory Transfer"})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"fromBranch",children:"From Branch"}),n.jsxs(Dt,{value:P.fromBranchId,onValueChange:M=>C({...P,fromBranchId:M}),children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select source branch"})}),n.jsx(It,{children:o.map(M=>n.jsx(ze,{value:M.id,children:M.name},M.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"toBranch",children:"To Branch"}),n.jsxs(Dt,{value:P.toBranchId,onValueChange:M=>C({...P,toBranchId:M}),children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select destination branch"})}),n.jsx(It,{children:o.map(M=>n.jsx(ze,{value:M.id,children:M.name},M.id))})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(ne,{children:"Add Items to Transfer"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs(Dt,{value:k.productId,onValueChange:M=>D({...k,productId:M}),children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select product"})}),n.jsx(It,{children:a.map(M=>n.jsxs(ze,{value:M.id,children:[M.name," (Stock: ",M.stockQuantity,")"]},M.id))})]}),n.jsx(oe,{type:"number",placeholder:"Quantity",value:k.quantity,onChange:M=>D({...k,quantity:M.target.value})}),n.jsxs(z,{onClick:q,children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add Item"]})]})]}),P.items.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Selected Items"}),n.jsx("div",{className:"border rounded-lg p-4 max-h-40 overflow-y-auto",children:P.items.map((M,A)=>n.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:M.productName}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[M.quantity," ",M.unitType," (Available: ",M.currentStock,")"]})]}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>$(M.productId),className:"text-red-600 border-red-600 hover:bg-red-50",children:"Remove"})]},A))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(ca,{id:"notes",placeholder:"Add any notes about this transfer...",value:P.notes,onChange:M=>C({...P,notes:M.target.value}),rows:3})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(z,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),n.jsx(z,{onClick:B,disabled:v,children:v?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Transfer"})]})]})}),n.jsx(it,{open:b,onOpenChange:x,children:n.jsxs(nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx(st,{children:n.jsxs(at,{children:["Transfer Details - ",h==null?void 0:h.transferNumber]})}),h&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Transfer Information"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Transfer Number:"})," ",h.transferNumber]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",h.status]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Requested By:"})," ",h.requestedBy]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Requested At:"})," ",E(h.requestedAt)]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Branch Information"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"From:"})," ",h.fromBranch.name]}),n.jsx("p",{className:"text-muted-foreground",children:h.fromBranch.address}),n.jsxs("p",{children:[n.jsx("strong",{children:"To:"})," ",h.toBranch.name]}),n.jsx("p",{className:"text-muted-foreground",children:h.toBranch.address})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold",children:"Items to Transfer"}),n.jsx("div",{className:"border rounded-lg",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Product"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Quantity"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Unit"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Current Stock"})]})}),n.jsx("tbody",{children:h.items.map((M,A)=>n.jsxs("tr",{className:"border-t",children:[n.jsx("td",{className:"py-3 px-4",children:M.productName}),n.jsx("td",{className:"py-3 px-4",children:M.quantity}),n.jsx("td",{className:"py-3 px-4",children:M.unitType}),n.jsx("td",{className:"py-3 px-4",children:M.currentStock})]},A))})]})})})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-lg font-semibold",children:h.totalItems})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),n.jsxs("p",{className:"text-lg font-semibold text-primary",children:["PKR ",h.totalValue.toFixed(2)]})]})]})}),h.notes&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),n.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-md",children:h.notes})]})]})]})})]})})},Dbe=()=>{var M,A;const[e,t]=m.useState([]),[r,s]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState(""),[u,f]=m.useState("all"),[h,p]=m.useState("all"),[b,x]=m.useState(null),[g,y]=m.useState(!1),[v,j]=m.useState(!1),[S,w]=m.useState(!0),[N,P]=m.useState(1),[C]=m.useState(10),[k,D]=m.useState({name:"",type:"",description:"",targetValue:"",commissionRate:"",fixedAmount:""});m.useEffect(()=>{T()},[]),m.useEffect(()=>{q()},[e,c,u,h]);const T=async()=>{try{w(!0),await new Promise(V=>setTimeout(V,500));const U=localStorage.getItem("commissionEarnings");if(U)try{const V=JSON.parse(U);t(V)}catch{console.warn("Error parsing stored earnings"),t([])}else t([]);const ee=localStorage.getItem("commissionRules");if(ee)try{const V=JSON.parse(ee);i(V)}catch{console.warn("Error parsing stored rules")}else{const V=[{id:"rule_001",name:"Sales Target Bonus",type:"SALES_TARGET",description:"Monthly sales target achievement bonus",targetValue:1e5,fixedAmount:5e3,isActive:!0,createdAt:new Date().toISOString()},{id:"rule_002",name:"Product Commission",type:"PRODUCT_COMMISSION",description:"2% commission on all sales",commissionRate:2,isActive:!0,createdAt:new Date().toISOString()},{id:"rule_003",name:"Customer Acquisition",type:"CUSTOMER_ACQUISITION",description:"PKR 100 for each new customer",fixedAmount:100,isActive:!0,createdAt:new Date().toISOString()}];i(V),localStorage.setItem("commissionRules",JSON.stringify(V))}R()}catch(U){console.error("Error loading data:",U)}finally{w(!1)}},R=()=>{s([{employeeId:"emp_001",employee:{id:"emp_001",name:"Ahmad Khan",position:"Senior Cashier"},totalSales:25e4,totalCommission:5e3,totalEarnings:7500,salesCount:45,averageSaleValue:5555.56,rank:1,achievements:["Top Performer","Sales Champion","Customer Favorite"]},{employeeId:"emp_002",employee:{id:"emp_002",name:"Fatima Ali",position:"Cashier"},totalSales:18e4,totalCommission:3600,totalEarnings:4200,salesCount:32,averageSaleValue:5625,rank:2,achievements:["Rising Star","Consistent Performer"]},{employeeId:"emp_003",employee:{id:"emp_003",name:"Hassan Sheikh",position:"Cashier"},totalSales:15e4,totalCommission:3e3,totalEarnings:3500,salesCount:28,averageSaleValue:5357.14,rank:3,achievements:["Team Player"]}])},q=()=>{let U=[...e];if(c&&(U=U.filter(ee=>ee.employee.name.toLowerCase().includes(c.toLowerCase())||ee.rule.name.toLowerCase().includes(c.toLowerCase())||ee.description.toLowerCase().includes(c.toLowerCase()))),u!=="all"&&(U=U.filter(ee=>ee.status===u)),h!=="all"){const ee=new Date;U=U.filter(V=>{const X=new Date(V.earnedAt);switch(h){case"today":return X.toDateString()===ee.toDateString();case"week":const Q=new Date(ee.getTime()-7*24*60*60*1e3);return X>=Q;case"month":return X.getMonth()===ee.getMonth()&&X.getFullYear()===ee.getFullYear();case"year":return X.getFullYear()===ee.getFullYear();default:return!0}})}l(U),P(1)},$=async()=>{if(!k.name||!k.type){alert("Please fill in all required fields");return}try{w(!0),await new Promise(V=>setTimeout(V,1e3));const U={id:`rule_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:k.name,type:k.type,description:k.description,targetValue:k.targetValue?parseFloat(k.targetValue):void 0,commissionRate:k.commissionRate?parseFloat(k.commissionRate):void 0,fixedAmount:k.fixedAmount?parseFloat(k.fixedAmount):void 0,isActive:!0,createdAt:new Date().toISOString()},ee=JSON.parse(localStorage.getItem("commissionRules")||"[]");ee.unshift(U),localStorage.setItem("commissionRules",JSON.stringify(ee)),i(ee),D({name:"",type:"",description:"",targetValue:"",commissionRate:"",fixedAmount:""}),j(!1),alert("Commission rule created successfully!")}catch(U){console.error("Error creating rule:",U),alert("Failed to create rule. Please try again.")}finally{w(!1)}},B=(U,ee)=>{const V=e.map(X=>X.id===U?{...X,status:ee,approvedAt:ee==="APPROVED"?new Date().toISOString():X.approvedAt,paidAt:ee==="PAID"?new Date().toISOString():X.paidAt}:X);t(V),localStorage.setItem("commissionEarnings",JSON.stringify(V))},I=U=>{switch(U){case"PENDING":return n.jsx(Ce,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"APPROVED":return n.jsx(Ce,{className:"bg-blue-100 text-blue-800",children:"Approved"});case"PAID":return n.jsx(Ce,{className:"bg-green-100 text-green-800",children:"Paid"});case"CANCELLED":return n.jsx(Ce,{className:"bg-red-100 text-red-800",children:"Cancelled"});default:return n.jsx(Ce,{variant:"secondary",children:U})}},L=U=>{switch(U){case"SALES_TARGET":return n.jsx(y0,{className:"w-4 h-4"});case"PRODUCT_COMMISSION":return n.jsx(ar,{className:"w-4 h-4"});case"CUSTOMER_ACQUISITION":return n.jsx(kr,{className:"w-4 h-4"});case"MONTHLY_BONUS":return n.jsx(Di,{className:"w-4 h-4"});default:return n.jsx(Pv,{className:"w-4 h-4"})}},E=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=o.slice((N-1)*C,N*C),O=Math.ceil(o.length/C);return S?n.jsx("div",{className:"p-6 bg-background min-h-screen",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading commission data..."})]})})}):n.jsx("div",{className:"p-6 bg-background min-h-screen",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Commission & Incentive Tracking"}),n.jsx("p",{className:"text-muted-foreground",children:"Track employee commissions and performance"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(z,{onClick:()=>j(!0),variant:"outline",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add Rule"]}),n.jsxs(z,{onClick:T,variant:"outline",children:[n.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Ar,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{children:"Total Commissions"})]})}),n.jsxs(re,{children:[n.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["PKR ",e.reduce((U,ee)=>U+ee.amount,0).toLocaleString()]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"This month"})]})]}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(kr,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:"Active Employees"})]})}),n.jsxs(re,{children:[n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Earning commissions"})]})]}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Di,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{children:"Top Performer"})]})}),n.jsxs(re,{children:[n.jsx("p",{className:"text-lg font-bold text-purple-600",children:((M=r[0])==null?void 0:M.employee.name)||"N/A"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["PKR ",((A=r[0])==null?void 0:A.totalEarnings.toLocaleString())||"0"]})]})]})]}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Pv,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Performance Leaderboard"})]})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-4",children:r.map((U,ee)=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-white font-bold",children:U.rank}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:U.employee.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:U.employee.position})]}),n.jsx("div",{className:"flex space-x-1",children:U.achievements.map((V,X)=>n.jsx(Ce,{variant:"secondary",className:"text-xs",children:V},X))})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-primary",children:["PKR ",U.totalEarnings.toLocaleString()]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[U.salesCount," sales"]})]})]},U.employeeId))})})]}),n.jsx(te,{children:n.jsx(re,{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(oe,{placeholder:"Search earnings...",value:c,onChange:U=>d(U.target.value),className:"pl-10"})]}),n.jsxs(Dt,{value:u,onValueChange:f,children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Filter by status"})}),n.jsxs(It,{children:[n.jsx(ze,{value:"all",children:"All Status"}),n.jsx(ze,{value:"PENDING",children:"Pending"}),n.jsx(ze,{value:"APPROVED",children:"Approved"}),n.jsx(ze,{value:"PAID",children:"Paid"}),n.jsx(ze,{value:"CANCELLED",children:"Cancelled"})]})]}),n.jsxs(Dt,{value:h,onValueChange:p,children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Filter by period"})}),n.jsxs(It,{children:[n.jsx(ze,{value:"all",children:"All Time"}),n.jsx(ze,{value:"today",children:"Today"}),n.jsx(ze,{value:"week",children:"This Week"}),n.jsx(ze,{value:"month",children:"This Month"}),n.jsx(ze,{value:"year",children:"This Year"})]})]}),n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[n.jsx(ma,{className:"w-4 h-4 mr-2"}),o.length," earning(s) found"]})]})})}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(ar,{className:"w-5 h-5 text-primary"}),n.jsx("span",{children:"Commission Earnings"})]})}),n.jsxs(re,{children:[_.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Pv,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No earnings found"}),n.jsx("p",{className:"text-xs",children:"Commission earnings will appear here"})]}):n.jsx("div",{className:"space-y-4",children:_.map(U=>n.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[L(U.rule.type),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:U.rule.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[U.employee.name,"  ",U.employee.position]})]})]}),I(U.status)]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-primary",children:["PKR ",U.amount.toLocaleString()]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:E(U.earnedAt)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Lr,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:["Period: ",U.period]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Di,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:["Type: ",U.rule.type.replace("_"," ")]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Kn,{className:"w-4 h-4 text-muted-foreground"}),n.jsxs("span",{children:["Description: ",U.description]})]})]}),n.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{x(U),y(!0)},children:[n.jsx(fn,{className:"w-4 h-4 mr-2"}),"View Details"]}),U.status==="PENDING"&&n.jsxs(n.Fragment,{children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>B(U.id,"APPROVED"),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:[n.jsx(CheckCircle,{className:"w-4 h-4 mr-2"}),"Approve"]}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>B(U.id,"CANCELLED"),className:"text-red-600 border-red-600 hover:bg-red-50",children:"Cancel"})]}),U.status==="APPROVED"&&n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>B(U.id,"PAID"),className:"text-green-600 border-green-600 hover:bg-green-50",children:[n.jsx(ar,{className:"w-4 h-4 mr-2"}),"Mark Paid"]})]})]},U.id))}),O>1&&n.jsxs("div",{className:"flex items-center justify-between mt-6",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(N-1)*C+1," to ",Math.min(N*C,o.length)," of ",o.length," earnings"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(z,{variant:"outline",size:"sm",onClick:()=>P(U=>Math.max(U-1,1)),disabled:N===1,children:"Previous"}),n.jsx(z,{variant:"outline",size:"sm",onClick:()=>P(U=>Math.min(U+1,O)),disabled:N===O,children:"Next"})]})]})]})]}),n.jsx(it,{open:v,onOpenChange:j,children:n.jsxs(nt,{className:"max-w-2xl",children:[n.jsx(st,{children:n.jsx(at,{children:"Create Commission Rule"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"name",children:"Rule Name *"}),n.jsx(oe,{id:"name",placeholder:"Enter rule name",value:k.name,onChange:U=>D({...k,name:U.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"type",children:"Rule Type *"}),n.jsxs(Dt,{value:k.type,onValueChange:U=>D({...k,type:U}),children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select rule type"})}),n.jsxs(It,{children:[n.jsx(ze,{value:"SALES_TARGET",children:"Sales Target"}),n.jsx(ze,{value:"PRODUCT_COMMISSION",children:"Product Commission"}),n.jsx(ze,{value:"CUSTOMER_ACQUISITION",children:"Customer Acquisition"}),n.jsx(ze,{value:"MONTHLY_BONUS",children:"Monthly Bonus"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"description",children:"Description"}),n.jsx(oe,{id:"description",placeholder:"Enter rule description",value:k.description,onChange:U=>D({...k,description:U.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"targetValue",children:"Target Value"}),n.jsx(oe,{id:"targetValue",type:"number",placeholder:"0",value:k.targetValue,onChange:U=>D({...k,targetValue:U.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"commissionRate",children:"Commission Rate (%)"}),n.jsx(oe,{id:"commissionRate",type:"number",placeholder:"0",value:k.commissionRate,onChange:U=>D({...k,commissionRate:U.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"fixedAmount",children:"Fixed Amount (PKR)"}),n.jsx(oe,{id:"fixedAmount",type:"number",placeholder:"0",value:k.fixedAmount,onChange:U=>D({...k,fixedAmount:U.target.value})})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[n.jsx(z,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),n.jsx(z,{onClick:$,disabled:S,children:S?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Rule"})]})]})}),n.jsx(it,{open:g,onOpenChange:y,children:n.jsxs(nt,{className:"max-w-2xl",children:[n.jsx(st,{children:n.jsx(at,{children:"Earning Details"})}),b&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Employee Information"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",b.employee.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Position:"})," ",b.employee.position]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Earning Information"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Amount:"})," PKR ",b.amount.toLocaleString()]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"})," ",b.status]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Earned At:"})," ",E(b.earnedAt)]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"font-semibold",children:"Rule Details"}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Rule:"})," ",b.rule.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Type:"})," ",b.rule.type.replace("_"," ")]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Description:"})," ",b.rule.description]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"font-semibold",children:"Additional Information"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Period:"})," ",b.period]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Description:"})," ",b.description]}),b.approvedAt&&n.jsxs("p",{children:[n.jsx("strong",{children:"Approved At:"})," ",E(b.approvedAt)]}),b.paidAt&&n.jsxs("p",{children:[n.jsx("strong",{children:"Paid At:"})," ",E(b.paidAt)]})]})]})]})]})})]})})},$be=()=>{const[e,t]=m.useState([]),[r,s]=m.useState(!0),[a,i]=m.useState(""),[o,l]=m.useState("all"),[c,d]=m.useState(!1);m.useState(!1),m.useState(null),m.useEffect(()=>{t([{id:"1",adminId:"admin_001",adminName:"Ahmad Khan",branchName:"Main Branch",amount:5e4,paymentType:"salary",status:"paid",paymentDate:"2024-01-15",dueDate:"2024-01-15",description:"Monthly salary for January 2024",createdAt:"2024-01-01"},{id:"2",adminId:"admin_002",adminName:"Sara Ahmed",branchName:"North Branch",amount:45e3,paymentType:"salary",status:"pending",paymentDate:"",dueDate:"2024-01-20",description:"Monthly salary for January 2024",createdAt:"2024-01-01"},{id:"3",adminId:"admin_003",adminName:"Muhammad Ali",branchName:"South Branch",amount:5e3,paymentType:"commission",status:"paid",paymentDate:"2024-01-10",dueDate:"2024-01-10",description:"Sales commission for December 2023",createdAt:"2024-01-01"},{id:"4",adminId:"admin_004",adminName:"Fatima Khan",branchName:"East Branch",amount:1e4,paymentType:"bonus",status:"pending",paymentDate:"",dueDate:"2024-01-25",description:"Performance bonus for Q4 2023",createdAt:"2024-01-01"}]),s(!1)},[]);const u=e.filter(g=>{const y=g.adminName.toLowerCase().includes(a.toLowerCase())||g.branchName.toLowerCase().includes(a.toLowerCase()),v=o==="all"||g.status===o;return y&&v}),f=g=>{switch(g){case"paid":return n.jsxs(Ce,{className:"bg-green-100 text-green-800",children:[n.jsx(ur,{className:"w-3 h-3 mr-1"}),"Paid"]});case"pending":return n.jsxs(Ce,{className:"bg-yellow-100 text-yellow-800",children:[n.jsx(Nr,{className:"w-3 h-3 mr-1"}),"Pending"]});case"cancelled":return n.jsxs(Ce,{className:"bg-red-100 text-red-800",children:[n.jsx(Um,{className:"w-3 h-3 mr-1"}),"Cancelled"]});default:return n.jsx(Ce,{variant:"secondary",children:g})}},h=g=>{switch(g){case"salary":return"text-blue-600 bg-blue-50";case"commission":return"text-green-600 bg-green-50";case"bonus":return"text-purple-600 bg-purple-50";case"advance":return"text-orange-600 bg-orange-50";default:return"text-gray-600 bg-gray-50"}},p=u.reduce((g,y)=>g+y.amount,0),b=u.filter(g=>g.status==="paid").reduce((g,y)=>g+y.amount,0),x=u.filter(g=>g.status==="pending").reduce((g,y)=>g+y.amount,0);return n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Admin Payments"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage admin salaries, commissions, and bonuses"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(z,{variant:"outline",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Export"]}),n.jsxs(it,{open:c,onOpenChange:d,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add Payment"]})}),n.jsxs(nt,{className:"max-w-md",children:[n.jsxs(st,{children:[n.jsx(at,{children:"Add New Payment"}),n.jsx(Mt,{children:"Create a new payment record for an admin."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"admin",children:"Select Admin"}),n.jsxs(Dt,{children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Choose admin"})}),n.jsxs(It,{children:[n.jsx(ze,{value:"admin_001",children:"Ahmad Khan - Main Branch"}),n.jsx(ze,{value:"admin_002",children:"Sara Ahmed - North Branch"}),n.jsx(ze,{value:"admin_003",children:"Muhammad Ali - South Branch"}),n.jsx(ze,{value:"admin_004",children:"Fatima Khan - East Branch"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"amount",children:"Amount (PKR)"}),n.jsx(oe,{id:"amount",type:"number",placeholder:"Enter amount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"type",children:"Payment Type"}),n.jsxs(Dt,{children:[n.jsx(Tt,{children:n.jsx($t,{placeholder:"Select type"})}),n.jsxs(It,{children:[n.jsx(ze,{value:"salary",children:"Salary"}),n.jsx(ze,{value:"commission",children:"Commission"}),n.jsx(ze,{value:"bonus",children:"Bonus"}),n.jsx(ze,{value:"advance",children:"Advance"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"dueDate",children:"Due Date"}),n.jsx(oe,{id:"dueDate",type:"date"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"description",children:"Description"}),n.jsx(oe,{id:"description",placeholder:"Payment description"})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(z,{onClick:()=>d(!1),children:"Add Payment"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(te,{children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Payments"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.length})]}),n.jsx(En,{className:"h-8 w-8 text-blue-600"})]})})}),n.jsx(te,{children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["PKR ",p.toLocaleString()]})]}),n.jsx(ar,{className:"h-8 w-8 text-green-600"})]})})}),n.jsx(te,{children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Paid Amount"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["PKR ",b.toLocaleString()]})]}),n.jsx(ur,{className:"h-8 w-8 text-green-600"})]})})}),n.jsx(te,{children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Amount"}),n.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["PKR ",x.toLocaleString()]})]}),n.jsx(Nr,{className:"h-8 w-8 text-yellow-600"})]})})})]}),n.jsx(te,{children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(oe,{placeholder:"Search by admin name or branch...",value:a,onChange:g=>i(g.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(Dt,{value:o,onValueChange:l,children:[n.jsxs(Tt,{className:"w-40",children:[n.jsx(ma,{className:"w-4 h-4 mr-2"}),n.jsx($t,{})]}),n.jsxs(It,{children:[n.jsx(ze,{value:"all",children:"All Status"}),n.jsx(ze,{value:"pending",children:"Pending"}),n.jsx(ze,{value:"paid",children:"Paid"}),n.jsx(ze,{value:"cancelled",children:"Cancelled"})]})]})})]})})}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsx(Ae,{children:"Payment Records"})}),n.jsx(re,{children:n.jsxs(il,{children:[n.jsx(ol,{children:n.jsxs(Rn,{children:[n.jsx(jt,{children:"Admin"}),n.jsx(jt,{children:"Branch"}),n.jsx(jt,{children:"Amount"}),n.jsx(jt,{children:"Type"}),n.jsx(jt,{children:"Status"}),n.jsx(jt,{children:"Due Date"}),n.jsx(jt,{children:"Payment Date"}),n.jsx(jt,{children:"Actions"})]})}),n.jsx(ll,{children:u.map(g=>n.jsxs(Rn,{children:[n.jsx(vt,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(kr,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:g.adminName}),n.jsx("p",{className:"text-sm text-muted-foreground",children:g.adminId})]})]})}),n.jsx(vt,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:g.branchName})]})}),n.jsx(vt,{children:n.jsxs("span",{className:"font-semibold",children:["PKR ",g.amount.toLocaleString()]})}),n.jsx(vt,{children:n.jsx(Ce,{className:h(g.paymentType),children:g.paymentType.charAt(0).toUpperCase()+g.paymentType.slice(1)})}),n.jsx(vt,{children:f(g.status)}),n.jsx(vt,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:g.dueDate})]})}),n.jsx(vt,{children:g.paymentDate?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:g.paymentDate})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(vt,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(z,{variant:"ghost",size:"sm",children:n.jsx(fn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",children:n.jsx(Jn,{className:"w-4 h-4"})}),g.status==="pending"&&n.jsx(z,{variant:"ghost",size:"sm",className:"text-green-600",children:n.jsx(ur,{className:"w-4 h-4"})})]})})]},g.id))})]})})]})]})},Lbe=()=>{const[e,t]=m.useState([]),[r,s]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(""),[u,f]=m.useState("all"),[h,p]=m.useState(null),[b,x]=m.useState(!1),[g,y]=m.useState(!1);m.useState(!1);const[v,j]=m.useState(!1),[S,w]=m.useState(!1),[N,P]=m.useState(""),[C,k]=m.useState(!1),[D,T]=m.useState(null),[R,q]=m.useState(!1),{toast:$}=nd();m.useEffect(()=>{B()},[]);const B=async()=>{try{l(!0),P("");const H=await pe.getAdmins({page:1,limit:100,search:c});H.success&&H.data?t(H.data.admins):(P("Failed to load admins"),$({title:"Error",description:"Failed to load admins",variant:"destructive"}))}catch(H){console.error("Error loading admins:",H),P("Failed to load admins"),$({title:"Error",description:"Failed to load admins",variant:"destructive"})}finally{l(!1)}},I=async H=>{try{j(!0);const ce=await pe.getAdminUsers(H);ce.success?s(ce.data):$({title:"Error",description:"Failed to load users",variant:"destructive"})}catch(ce){console.error("Error loading users:",ce),$({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{j(!1)}},L=async()=>{try{w(!0);const H=await pe.getBranches();H.success&&H.data?i(H.data.branches):$({title:"Error",description:"Failed to load branches",variant:"destructive"})}catch(H){console.error("Error loading branches:",H),$({title:"Error",description:"Failed to load branches",variant:"destructive"})}finally{w(!1)}},E=async(H,ce)=>{try{const se=ce==="active"?"inactive":"active";(await pe.updateUser(H,{isActive:se==="active"})).success?(s(Ee=>Ee.map(ye=>ye.id===H?{...ye,status:se}:ye)),$({title:"Success",description:`User ${se==="active"?"activated":"deactivated"} successfully`})):$({title:"Error",description:"Failed to update user status",variant:"destructive"})}catch(se){console.error("Error updating user status:",se),$({title:"Error",description:"Failed to update user status",variant:"destructive"})}},_=async H=>{p(H),x(!0),await I(H.id),await L()},O=H=>{T(H),k(!0)},M=async()=>{if(D)try{q(!0),await pe.deleteAdmin(D.id),$({title:"Success",description:`Admin ${D.name} has been permanently deleted from the database.`,variant:"default"}),await B(),k(!1),T(null)}catch(H){console.error("Error deleting admin:",H),$({title:"Error",description:"Failed to delete admin. Please try again.",variant:"destructive"})}finally{q(!1)}},A=e.filter(H=>{const ce=H.name.toLowerCase().includes(c.toLowerCase())||H.company.toLowerCase().includes(c.toLowerCase())||H.email.toLowerCase().includes(c.toLowerCase()),se=u==="all"||H.status===u;return ce&&se}),U=H=>{switch(H){case"active":return n.jsxs(Ce,{className:"bg-green-100 text-green-800",children:[n.jsx(_s,{className:"w-3 h-3 mr-1"}),"Active"]});case"inactive":return n.jsxs(Ce,{className:"bg-gray-100 text-gray-800",children:[n.jsx(po,{className:"w-3 h-3 mr-1"}),"Inactive"]});case"suspended":return n.jsxs(Ce,{className:"bg-red-100 text-red-800",children:[n.jsx(po,{className:"w-3 h-3 mr-1"}),"Suspended"]});default:return n.jsx(Ce,{variant:"secondary",children:H})}},ee=H=>{switch(H){case"manager":return n.jsx(Ce,{className:"bg-orange-100 text-orange-800",children:"Manager"});case"cashier":return n.jsx(Ce,{className:"bg-green-100 text-green-800",children:"Cashier"});case"pharmacist":return n.jsx(Ce,{className:"bg-blue-100 text-blue-800",children:"Pharmacist"});default:return n.jsx(Ce,{variant:"secondary",children:H})}},V=A.length,X=A.filter(H=>H.status==="active").length,Q=A.reduce((H,ce)=>H+ce.userCount,0),le=A.reduce((H,ce)=>H+ce.totalSales,0);return o?n.jsx("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Bt,{className:"w-6 h-6 animate-spin"}),n.jsx("span",{children:"Loading admins..."})]})})}):n.jsxs("div",{className:"p-6 space-y-6 bg-background min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Admin Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage all admins and their users across branches"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(z,{variant:"outline",onClick:B,children:[n.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Refresh"]}),n.jsxs(z,{variant:"outline",children:[n.jsx(ma,{className:"w-4 h-4 mr-2"}),"Export"]}),n.jsxs(it,{open:g,onOpenChange:y,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add Admin"]})}),n.jsxs(nt,{className:"max-w-md",children:[n.jsxs(st,{children:[n.jsx(at,{children:"Add New Admin"}),n.jsx(Mt,{children:"Create a new admin account for a branch."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"name",children:"Full Name"}),n.jsx(oe,{id:"name",placeholder:"Enter full name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"email",children:"Email"}),n.jsx(oe,{id:"email",type:"email",placeholder:"Enter email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"phone",children:"Phone"}),n.jsx(oe,{id:"phone",placeholder:"Enter phone number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"company",children:"Company/Pharmacy Name"}),n.jsx(oe,{id:"company",placeholder:"Enter company name"})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),n.jsx(z,{onClick:()=>y(!1),children:"Add Admin"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(te,{children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Admins"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:V})]}),n.jsx(ec,{className:"h-8 w-8 text-blue-600"})]})})}),n.jsx(te,{children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Admins"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:X})]}),n.jsx(_s,{className:"h-8 w-8 text-green-600"})]})})}),n.jsx(te,{children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:Q})]}),n.jsx(yt,{className:"h-8 w-8 text-purple-600"})]})})}),n.jsx(te,{children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Sales"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",le.toLocaleString()]})]}),n.jsx(ar,{className:"h-8 w-8 text-green-600"})]})})})]}),n.jsx(te,{children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(oe,{placeholder:"Search by admin name, company, or email...",value:c,onChange:H=>d(H.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(Dt,{value:u,onValueChange:f,children:[n.jsxs(Tt,{className:"w-40",children:[n.jsx(ma,{className:"w-4 h-4 mr-2"}),n.jsx($t,{})]}),n.jsxs(It,{children:[n.jsx(ze,{value:"all",children:"All Status"}),n.jsx(ze,{value:"active",children:"Active"}),n.jsx(ze,{value:"inactive",children:"Inactive"})]})]})})]})})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(H=>n.jsxs(te,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(Se,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Vr,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx(Ae,{className:"text-lg",children:H.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:H.company})]})]}),n.jsx("div",{className:"flex items-center space-x-1",children:U(H.status)})]})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx($s,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:H.email})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx($a,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:H.phone})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Da,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:H.address})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:H.userCount}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Users"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",H.totalSales.toLocaleString()]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Sales"})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2",children:[n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last active: ",H.lastActive]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>_(H),className:"flex items-center space-x-1",children:[n.jsx(_o,{className:"w-4 h-4"}),n.jsx("span",{children:"Manage"})]}),n.jsxs(z,{variant:"destructive",size:"sm",onClick:()=>O(H),className:"flex items-center space-x-1",children:[n.jsx(wr,{className:"w-4 h-4"}),n.jsx("span",{children:"Delete"})]})]})]})]})]},H.id))}),n.jsx(it,{open:b,onOpenChange:x,children:n.jsxs(nt,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(Vr,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:h==null?void 0:h.name}),n.jsx(Ce,{className:"bg-blue-100 text-blue-800",children:"Admin"})]}),n.jsxs(Mt,{children:["Manage ",h==null?void 0:h.company," admin and their users"]})]}),h&&n.jsxs(ih,{defaultValue:"overview",className:"w-full",children:[n.jsxs(Cd,{className:"grid w-full grid-cols-3",children:[n.jsx(Jr,{value:"overview",children:"Overview"}),n.jsxs(Jr,{value:"users",children:["Users (",r.length,")"]}),n.jsx(Jr,{value:"branches",children:"Branches"})]}),n.jsx(Zr,{value:"overview",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(te,{children:[n.jsx(Se,{children:n.jsx(Ae,{className:"text-lg",children:"Admin Information"})}),n.jsxs(re,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Email"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($s,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:h.email})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Phone"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($a,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:h.phone})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Company"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:h.company})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Address"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Da,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:h.address})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Status"}),U(h.status)]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Plan"}),n.jsx(Ce,{className:"bg-purple-100 text-purple-800",children:h.plan})]})]})]}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsx(Ae,{className:"text-lg",children:"Statistics"})}),n.jsx(re,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:h.userCount}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:h.managerCount}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Managers"})]}),n.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",h.totalSales.toLocaleString()]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Sales"})]}),n.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:h.createdAt}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"})]})]})})]})]})}),n.jsxs(Zr,{value:"users",className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Users Management"}),n.jsxs(z,{size:"sm",onClick:()=>I(h.id),children:[n.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),v?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Bt,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Loading users..."})]})}):n.jsx("div",{className:"border rounded-lg",children:n.jsxs(il,{children:[n.jsx(ol,{children:n.jsxs(Rn,{children:[n.jsx(jt,{children:"Name"}),n.jsx(jt,{children:"Email"}),n.jsx(jt,{children:"Role"}),n.jsx(jt,{children:"Status"}),n.jsx(jt,{children:"Created"}),n.jsx(jt,{children:"Actions"})]})}),n.jsx(ll,{children:r.map(H=>n.jsxs(Rn,{children:[n.jsx(vt,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:n.jsx(yt,{className:"w-4 h-4 text-gray-600"})}),n.jsx("span",{className:"font-medium",children:H.name})]})}),n.jsx(vt,{children:H.email}),n.jsx(vt,{children:ee(H.role)}),n.jsx(vt,{children:U(H.status)}),n.jsx(vt,{children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Lr,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm",children:H.createdAt})]})}),n.jsx(vt,{children:n.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>E(H.id,H.status),className:"flex items-center space-x-1",children:[H.status==="active"?n.jsx(j0,{className:"w-4 h-4 text-green-600"}):n.jsx(b0,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-xs",children:H.status==="active"?"Deactivate":"Activate"})]})})]},H.id))})]})})]}),n.jsxs(Zr,{value:"branches",className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Branch Information"}),n.jsxs(z,{size:"sm",onClick:L,children:[n.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),S?n.jsx("div",{className:"flex items-center justify-center h-32",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Bt,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Loading branches..."})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(H=>n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(AT,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:H.name}),H.isActive?n.jsx(Ce,{className:"bg-green-100 text-green-800",children:"Active"}):n.jsx(Ce,{className:"bg-gray-100 text-gray-800",children:"Inactive"})]})}),n.jsxs(re,{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx(Da,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:H.address})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx($a,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:H.phone})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[n.jsx($s,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:H.email})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2 border-t",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-bold text-blue-600",children:H._count.users}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Users"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-bold text-green-600",children:H._count.products}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Products"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-bold text-purple-600",children:H._count.customers}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Customers"})]})]})]})]},H.id))})]})]}),n.jsx(Hr,{children:n.jsx(z,{variant:"outline",onClick:()=>x(!1),children:"Close"})})]})}),n.jsx(it,{open:C,onOpenChange:k,children:n.jsxs(nt,{children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(yr,{className:"w-5 h-5 text-red-600"}),n.jsx("span",{children:"Delete Admin"})]}),n.jsxs(Mt,{children:["Are you sure you want to permanently delete ",n.jsx("strong",{children:D==null?void 0:D.name}),"? This action will remove the admin and ALL their related data from the database including:",n.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[n.jsx("li",{children:"All users under this admin"}),n.jsx("li",{children:"All products and inventory"}),n.jsx("li",{children:"All sales and transactions"}),n.jsx("li",{children:"All customers and suppliers"}),n.jsx("li",{children:"All branches and settings"})]}),n.jsx("strong",{className:"text-red-600",children:"This action cannot be undone!"})]})]}),n.jsxs(Hr,{children:[n.jsx(z,{variant:"outline",onClick:()=>k(!1),disabled:R,children:"Cancel"}),n.jsx(z,{variant:"destructive",onClick:M,disabled:R,className:"flex items-center space-x-2",children:R?n.jsxs(n.Fragment,{children:[n.jsx(Bt,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Deleting..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(wr,{className:"w-4 h-4"}),n.jsx("span",{children:"Delete Permanently"})]})})]})]})})]})},Fbe=({isOpen:e,onClose:t,amount:r,plan:s,onPaymentSuccess:a})=>{const[i,o]=m.useState("easypaisa"),[l,c]=m.useState(""),[d,u]=m.useState(""),[f,h]=m.useState(!1),[p,b]=m.useState("method"),{toast:x}=nd(),g=async()=>{if(!l){x({title:"Error",description:"Please enter your phone number",variant:"destructive"});return}h(!0),b("processing");try{await new Promise(P=>setTimeout(P,3e3));const w={method:i,phoneNumber:l,amount:r,transactionId:d||`TXN_${Date.now()}`};if((await fetch("http://localhost:5001/api/subscription/process-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(w)})).ok)b("success"),a(w),x({title:"Payment Successful",description:"Your subscription has been activated"});else throw new Error("Payment failed")}catch{x({title:"Payment Failed",description:"Please try again or contact support",variant:"destructive"}),b("details")}finally{h(!1)}},y=()=>{c(""),u(""),b("method"),h(!1)},v=()=>{y(),t()},S=(()=>{switch(i){case"easypaisa":return{title:"EasyPaisa Payment",steps:["1. Open your EasyPaisa app",'2. Go to "Send Money"',"3. Enter amount: PKR "+r.toLocaleString(),"4. Send to: 0312-3456789","5. Enter reference: "+s.toUpperCase(),"6. Complete transaction and enter Transaction ID below"],icon:n.jsx(Ul,{className:"w-8 h-8 text-blue-600"})};case"jazzcash":return{title:"JazzCash Payment",steps:["1. Open your JazzCash app",'2. Go to "Send Money"',"3. Enter amount: PKR "+r.toLocaleString(),"4. Send to: 0300-1234567","5. Enter reference: "+s.toUpperCase(),"6. Complete transaction and enter Transaction ID below"],icon:n.jsx(Ul,{className:"w-8 h-8 text-green-600"})};case"bank":return{title:"Bank Transfer",steps:["1. Transfer PKR "+r.toLocaleString()+" to:","2. Bank: Allied Bank Limited","3. Account: 1234567890123456","4. Reference: "+s.toUpperCase(),"5. Upload receipt or enter Transaction ID"],icon:n.jsx(p0,{className:"w-8 h-8 text-purple-600"})}}})();return n.jsx(it,{open:e,onOpenChange:v,children:n.jsxs(nt,{className:"max-w-2xl",children:[n.jsxs(st,{children:[n.jsxs(at,{className:"flex items-center space-x-2",children:[n.jsx(En,{className:"w-6 h-6"}),n.jsxs("span",{children:["Payment for ",s," Plan"]})]}),n.jsx(Mt,{children:"Complete your subscription payment using your preferred method"})]}),p==="method"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["PKR ",r.toLocaleString()]}),n.jsxs("p",{className:"text-gray-600",children:["Monthly subscription for ",s," plan"]})]}),n.jsxs(ih,{value:i,onValueChange:w=>o(w),children:[n.jsxs(Cd,{className:"grid w-full grid-cols-3",children:[n.jsx(Jr,{value:"easypaisa",children:"EasyPaisa"}),n.jsx(Jr,{value:"jazzcash",children:"JazzCash"}),n.jsx(Jr,{value:"bank",children:"Bank Transfer"})]}),n.jsx(Zr,{value:"easypaisa",className:"space-y-4",children:n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Ul,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:"EasyPaisa Payment"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ur,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Instant payment processing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vr,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Secure and encrypted"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Immediate activation"})]})]})})]})}),n.jsx(Zr,{value:"jazzcash",className:"space-y-4",children:n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(Ul,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{children:"JazzCash Payment"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ur,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Quick and reliable"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vr,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Bank-level security"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Real-time processing"})]})]})})]})}),n.jsx(Zr,{value:"bank",className:"space-y-4",children:n.jsxs(te,{children:[n.jsx(Se,{children:n.jsxs(Ae,{className:"flex items-center space-x-2",children:[n.jsx(p0,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{children:"Bank Transfer"})]})}),n.jsx(re,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ur,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Traditional banking"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vr,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm",children:"Bank security"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Nr,{className:"w-4 h-4 text-yellow-600"}),n.jsx("span",{className:"text-sm",children:"1-2 business days"})]})]})})]})})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(z,{variant:"outline",onClick:v,children:"Cancel"}),n.jsx(z,{onClick:()=>b("details"),children:"Continue"})]})]}),p==="details"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[S.icon,n.jsx("h3",{className:"text-xl font-semibold mt-2",children:S.title})]}),n.jsxs(te,{children:[n.jsx(Se,{children:n.jsx(Ae,{children:"Payment Instructions"})}),n.jsx(re,{children:n.jsx("div",{className:"space-y-2",children:S.steps.map((w,N)=>n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[w.split(".")[0],"."]}),n.jsx("span",{className:"text-sm",children:w.split(".").slice(1).join(".").trim()})]},N))})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ne,{htmlFor:"phone",children:"Phone Number"}),n.jsx(oe,{id:"phone",type:"tel",placeholder:"03XX-XXXXXXX",value:l,onChange:w=>c(w.target.value)})]}),n.jsxs("div",{children:[n.jsx(ne,{htmlFor:"transactionId",children:"Transaction ID (Optional)"}),n.jsx(oe,{id:"transactionId",placeholder:"Enter transaction ID if available",value:d,onChange:w=>u(w.target.value)})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(z,{variant:"outline",onClick:()=>b("method"),children:"Back"}),n.jsx(z,{onClick:g,disabled:!l,children:"Process Payment"})]})]}),p==="processing"&&n.jsxs("div",{className:"text-center space-y-6 py-8",children:[n.jsx(Ot,{className:"w-12 h-12 animate-spin mx-auto text-blue-600"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold",children:"Processing Payment"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait while we process your payment..."})]}),n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Amount:"})," PKR ",r.toLocaleString(),n.jsx("br",{}),n.jsx("strong",{children:"Method:"})," ",i==="easypaisa"?"EasyPaisa":i==="jazzcash"?"JazzCash":"Bank Transfer",n.jsx("br",{}),n.jsx("strong",{children:"Phone:"})," ",l]})})]}),p==="success"&&n.jsxs("div",{className:"text-center space-y-6 py-8",children:[n.jsx(ur,{className:"w-16 h-16 mx-auto text-green-600"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-semibold text-green-600",children:"Payment Successful!"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Your subscription has been activated"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[n.jsx(ds,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"font-semibold",children:"Transaction Details"})]}),n.jsxs("p",{className:"text-sm text-green-800",children:[n.jsx("strong",{children:"Amount:"})," PKR ",r.toLocaleString(),n.jsx("br",{}),n.jsx("strong",{children:"Plan:"})," ",s,n.jsx("br",{}),n.jsx("strong",{children:"Transaction ID:"})," ",d||"TXN_"+Date.now(),n.jsx("br",{}),n.jsx("strong",{children:"Status:"})," ",n.jsx(Ce,{className:"bg-green-100 text-green-800",children:"Completed"})]})]}),n.jsx(z,{onClick:v,className:"w-full",children:"Close"})]})]})})},Bbe=()=>{const[e,t]=m.useState(null),[r,s]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(!1),[u,f]=m.useState(!1),[h,p]=m.useState(null),[b,x]=m.useState({}),[g,y]=m.useState({type:"card",last4:"",brand:"",expiryMonth:0,expiryYear:0,holderName:"",isDefault:!1}),[v,j]=m.useState(!1),[S,w]=m.useState(null),{toast:N}=nd();m.useEffect(()=>{(async()=>{l(!0);try{const[M,A,U]=await Promise.all([pe.getSubscription(),pe.getPaymentMethods(),pe.getBillingHistory()]);M.success&&t(M.data),A.success&&s(A.data),U.success&&i(U.data)}catch(M){console.error("Error loading subscription data:",M),N({title:"Error",description:"Failed to load subscription data",variant:"destructive"})}finally{l(!1)}})()},[N]);const P=O=>{e&&t({...e,status:"active",startDate:new Date().toISOString(),endDate:new Date(Date.now()+30*24*60*60*1e3).toISOString()});const M={id:O.transactionId,amount:O.amount,status:"success",method:O.method==="easypaisa"?"EasyPaisa":O.method==="jazzcash"?"JazzCash":"Bank Transfer",date:new Date().toISOString().split("T")[0],invoiceNumber:`INV-${Date.now()}`,description:`${S==null?void 0:S.plan} Plan - Monthly`};i(A=>[M,...A]),j(!1),w(null)},C=(O,M)=>{w({plan:O,amount:M}),j(!0)},k=O=>{switch(O){case"basic":return n.jsx(Vr,{className:"w-5 h-5"});case"premium":return n.jsx(IS,{className:"w-5 h-5"});case"enterprise":return n.jsx(zm,{className:"w-5 h-5"});default:return n.jsx(Vr,{className:"w-5 h-5"})}},D=O=>{switch(O){case"basic":return"bg-blue-100 text-blue-800";case"premium":return"bg-purple-100 text-purple-800";case"enterprise":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},T=O=>{switch(O){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},R=O=>{switch(O){case"active":return n.jsx(ur,{className:"w-4 h-4"});case"expired":return n.jsx(yr,{className:"w-4 h-4"});case"cancelled":return n.jsx(yr,{className:"w-4 h-4"});case"pending":return n.jsx(Nr,{className:"w-4 h-4"});default:return n.jsx(yr,{className:"w-4 h-4"})}},q=O=>{x(M=>({...M,[O]:!M[O]}))},$=async()=>{try{if(!g.last4||!g.brand||!g.holderName||!g.expiryMonth||!g.expiryYear){N({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}const O=await pe.addPaymentMethod(g);O.success?(s(M=>[...M,O.data]),y({type:"card",last4:"",brand:"",expiryMonth:0,expiryYear:0,holderName:"",isDefault:!1}),d(!1),N({title:"Success",description:"Payment method added successfully"})):N({title:"Error",description:O.message||"Failed to add payment method",variant:"destructive"})}catch(O){console.error("Error adding payment method:",O),N({title:"Error",description:"Failed to add payment method",variant:"destructive"})}},B=O=>{p(O),y({type:O.type,last4:O.last4,brand:O.brand,expiryMonth:O.expiryMonth,expiryYear:O.expiryYear,holderName:O.holderName,isDefault:O.isDefault}),f(!0)},I=async()=>{if(h)try{s(O=>O.map(M=>M.id===h.id?{...M,...g}:M)),f(!1),p(null),N({title:"Success",description:"Payment method updated successfully"})}catch(O){console.error("Error updating payment method:",O),N({title:"Error",description:"Failed to update payment method",variant:"destructive"})}},L=async O=>{try{const M=await pe.setDefaultPaymentMethod(O);M.success?(s(A=>A.map(U=>({...U,isDefault:U.id===O}))),N({title:"Success",description:"Default payment method updated"})):N({title:"Error",description:M.message||"Failed to update default payment method",variant:"destructive"})}catch(M){console.error("Error setting default payment method:",M),N({title:"Error",description:"Failed to update default payment method",variant:"destructive"})}},E=async O=>{try{const M=await pe.deletePaymentMethod(O);M.success?(s(A=>A.filter(U=>U.id!==O)),N({title:"Success",description:"Payment method removed"})):N({title:"Error",description:M.message||"Failed to remove payment method",variant:"destructive"})}catch(M){console.error("Error deleting payment method:",M),N({title:"Error",description:"Failed to remove payment method",variant:"destructive"})}},_=O=>{N({title:"Download Invoice",description:`Downloading ${O}...`})};return o?n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-primary border-t-transparent rounded-full animate-spin"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Loading subscription data..."}),n.jsx("p",{className:"text-sm text-gray-500",children:"Please wait while we fetch your subscription information"})]})]})})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Subscription Management"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your subscription, payment methods, and billing"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(z,{variant:"outline",className:"shadow-soft border-0",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download Invoice"]}),n.jsxs(z,{className:"shadow-soft border-0",children:[n.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Update Plan"]})]})]})}),n.jsxs(ih,{defaultValue:"overview",className:"w-full",children:[n.jsxs(Cd,{className:"grid w-full grid-cols-3 mb-6 shadow-soft border-0",children:[n.jsx(Jr,{value:"overview",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Overview"}),n.jsx(Jr,{value:"payment-methods",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Payment Methods"}),n.jsx(Jr,{value:"billing-history",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Billing History"})]}),n.jsxs(Zr,{value:"overview",className:"space-y-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{className:"pb-4",children:n.jsxs(Ae,{className:"flex items-center space-x-3 text-xl",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(En,{className:"w-6 h-6 text-primary"})}),n.jsx("span",{children:"Current Subscription"})]})}),n.jsx(re,{className:"space-y-6",children:e&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{className:"text-sm font-medium text-gray-500",children:"Plan"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[k(e.plan),n.jsx(Ce,{className:`${D(e.plan)}`,children:e.plan.toUpperCase()})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{className:"text-sm font-medium text-gray-500",children:"Status"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[R(e.status),n.jsx(Ce,{className:`${T(e.status)}`,children:e.status.toUpperCase()})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{className:"text-sm font-medium text-gray-500",children:"Amount"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ar,{className:"w-4 h-4 text-gray-400"}),n.jsxs("span",{className:"text-lg font-semibold",children:["PKR ",e.amount.toLocaleString()]}),n.jsxs("span",{className:"text-sm text-gray-500",children:["/",e.billingCycle]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{className:"text-sm font-medium text-gray-500",children:"Remaining Days"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Lr,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-lg font-semibold",children:e.remainingDays}),n.jsx("span",{className:"text-sm text-gray-500",children:"days"})]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{className:"pb-4",children:n.jsx(Ae,{className:"text-lg",children:"Subscription Details"})}),n.jsx(re,{className:"space-y-4",children:e&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Start Date:"}),n.jsx("span",{className:"font-medium",children:e.startDate})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"End Date:"}),n.jsx("span",{className:"font-medium",children:e.endDate})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Billing Cycle:"}),n.jsx("span",{className:"font-medium capitalize",children:e.billingCycle})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Auto Renewal:"}),n.jsx(Ce,{className:e.autoRenew?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:e.autoRenew?"Enabled":"Disabled"})]})]})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsx(Se,{className:"pb-4",children:n.jsx(Ae,{className:"text-lg",children:"Plan Features"})}),n.jsx(re,{className:"space-y-4",children:(e==null?void 0:e.plan)==="premium"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ur,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"Up to 50 users"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ur,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"3 branches"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ur,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"Advanced reporting"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ur,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"Priority support"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ur,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"text-sm",children:"API access"})]})]})})]}),n.jsxs(te,{className:"shadow-soft border-0",children:[n.jsxs(Se,{className:"pb-4",children:[n.jsx(Ae,{className:"text-lg",children:"Available Plans"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Choose a plan that fits your needs"})]}),n.jsx(re,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(te,{className:"border-2 border-blue-200 hover:border-blue-300 transition-colors",children:[n.jsxs(Se,{children:[n.jsxs(Ae,{className:"text-blue-600 flex items-center space-x-2",children:[n.jsx(Vr,{className:"w-5 h-5"}),n.jsx("span",{children:"Basic Plan"})]}),n.jsxs("div",{className:"text-3xl font-bold",children:["PKR 5,000",n.jsx("span",{className:"text-sm font-normal",children:"/month"})]})]}),n.jsxs(re,{children:[n.jsxs("ul",{className:"space-y-2 text-sm mb-4",children:[n.jsx("li",{children:" Up to 10 users"}),n.jsx("li",{children:" 1 branch"}),n.jsx("li",{children:" Basic reporting"}),n.jsx("li",{children:" Email support"})]}),n.jsxs(z,{className:"w-full",variant:"outline",onClick:()=>C("Basic",5e3),children:[n.jsx(En,{className:"w-4 h-4 mr-2"}),"Pay with EasyPaisa/JazzCash"]})]})]}),n.jsxs(te,{className:"border-2 border-purple-200 hover:border-purple-300 transition-colors",children:[n.jsxs(Se,{children:[n.jsxs(Ae,{className:"text-purple-600 flex items-center space-x-2",children:[n.jsx(IS,{className:"w-5 h-5"}),n.jsx("span",{children:"Premium Plan"})]}),n.jsxs("div",{className:"text-3xl font-bold",children:["PKR 10,000",n.jsx("span",{className:"text-sm font-normal",children:"/month"})]})]}),n.jsxs(re,{children:[n.jsxs("ul",{className:"space-y-2 text-sm mb-4",children:[n.jsx("li",{children:" Up to 50 users"}),n.jsx("li",{children:" 3 branches"}),n.jsx("li",{children:" Advanced reporting"}),n.jsx("li",{children:" Priority support"})]}),n.jsxs(z,{className:"w-full",variant:"outline",onClick:()=>C("Premium",1e4),children:[n.jsx(En,{className:"w-4 h-4 mr-2"}),"Pay with EasyPaisa/JazzCash"]})]})]}),n.jsxs(te,{className:"border-2 border-orange-200 hover:border-orange-300 transition-colors",children:[n.jsxs(Se,{children:[n.jsxs(Ae,{className:"text-orange-600 flex items-center space-x-2",children:[n.jsx(zm,{className:"w-5 h-5"}),n.jsx("span",{children:"Enterprise Plan"})]}),n.jsxs("div",{className:"text-3xl font-bold",children:["PKR 20,000",n.jsx("span",{className:"text-sm font-normal",children:"/month"})]})]}),n.jsxs(re,{children:[n.jsxs("ul",{className:"space-y-2 text-sm mb-4",children:[n.jsx("li",{children:" Unlimited users"}),n.jsx("li",{children:" Unlimited branches"}),n.jsx("li",{children:" Custom reporting"}),n.jsx("li",{children:" 24/7 support"})]}),n.jsxs(z,{className:"w-full",variant:"outline",onClick:()=>C("Enterprise",2e4),children:[n.jsx(En,{className:"w-4 h-4 mr-2"}),"Pay with EasyPaisa/JazzCash"]})]})]})]})})]})]})]}),n.jsxs(Zr,{value:"payment-methods",className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Payment Methods"}),n.jsxs(it,{open:c,onOpenChange:d,children:[n.jsx(jn,{asChild:!0,children:n.jsxs(z,{className:"shadow-soft border-0",children:[n.jsx(fr,{className:"w-4 h-4 mr-2"}),"Add Payment Method"]})}),n.jsxs(nt,{children:[n.jsx(st,{children:n.jsx(at,{children:"Add Payment Method"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Card Brand"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:g.brand,onChange:O=>y(M=>({...M,brand:O.target.value})),children:[n.jsx("option",{value:"",children:"Select Brand"}),n.jsx("option",{value:"Visa",children:"Visa"}),n.jsx("option",{value:"Mastercard",children:"Mastercard"}),n.jsx("option",{value:"American Express",children:"American Express"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Last 4 Digits"}),n.jsx(oe,{placeholder:"1234",value:g.last4,onChange:O=>y(M=>({...M,last4:O.target.value})),maxLength:4})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Expiry Month"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:g.expiryMonth,onChange:O=>y(M=>({...M,expiryMonth:parseInt(O.target.value)})),children:[n.jsx("option",{value:0,children:"Select Month"}),Array.from({length:12},(O,M)=>n.jsx("option",{value:M+1,children:String(M+1).padStart(2,"0")},M+1))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Expiry Year"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:g.expiryYear,onChange:O=>y(M=>({...M,expiryYear:parseInt(O.target.value)})),children:[n.jsx("option",{value:0,children:"Select Year"}),Array.from({length:10},(O,M)=>{const A=new Date().getFullYear()+M;return n.jsx("option",{value:A,children:A},A)})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Cardholder Name"}),n.jsx(oe,{placeholder:"John Doe",value:g.holderName,onChange:O=>y(M=>({...M,holderName:O.target.value}))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"isDefault",checked:g.isDefault,onChange:O=>y(M=>({...M,isDefault:O.target.checked}))}),n.jsx(ne,{htmlFor:"isDefault",children:"Set as default payment method"})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(z,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),n.jsx(z,{onClick:$,children:"Add Card"})]})]})]})]})]}),n.jsx(it,{open:u,onOpenChange:f,children:n.jsxs(nt,{children:[n.jsx(st,{children:n.jsx(at,{children:"Edit Payment Method"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Card Brand"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:g.brand,onChange:O=>y(M=>({...M,brand:O.target.value})),children:[n.jsx("option",{value:"",children:"Select Brand"}),n.jsx("option",{value:"Visa",children:"Visa"}),n.jsx("option",{value:"Mastercard",children:"Mastercard"}),n.jsx("option",{value:"American Express",children:"American Express"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Last 4 Digits"}),n.jsx(oe,{placeholder:"1234",value:g.last4,onChange:O=>y(M=>({...M,last4:O.target.value})),maxLength:4})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Expiry Month"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:g.expiryMonth,onChange:O=>y(M=>({...M,expiryMonth:parseInt(O.target.value)})),children:[n.jsx("option",{value:0,children:"Select Month"}),Array.from({length:12},(O,M)=>n.jsx("option",{value:M+1,children:String(M+1).padStart(2,"0")},M+1))]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Expiry Year"}),n.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:g.expiryYear,onChange:O=>y(M=>({...M,expiryYear:parseInt(O.target.value)})),children:[n.jsx("option",{value:0,children:"Select Year"}),Array.from({length:10},(O,M)=>{const A=new Date().getFullYear()+M;return n.jsx("option",{value:A,children:A},A)})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{children:"Cardholder Name"}),n.jsx(oe,{placeholder:"John Doe",value:g.holderName,onChange:O=>y(M=>({...M,holderName:O.target.value}))})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"isDefaultEdit",checked:g.isDefault,onChange:O=>y(M=>({...M,isDefault:O.target.checked}))}),n.jsx(ne,{htmlFor:"isDefaultEdit",children:"Set as default payment method"})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(z,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),n.jsx(z,{onClick:I,children:"Update Card"})]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(O=>n.jsx(te,{className:"shadow-soft border-0 hover:shadow-lg transition-all duration-300 group",children:n.jsxs(re,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(En,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{children:[n.jsxs("span",{className:"font-semibold text-gray-900",children:[O.brand," ****",O.last4]}),O.isDefault&&n.jsx(Ce,{className:"ml-2 bg-green-100 text-green-800 border-0",children:"Default"})]})]}),n.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>q(O.id),className:"h-8 w-8 p-0 hover:bg-gray-100",children:b[O.id]?n.jsx(Bu,{className:"w-4 h-4"}):n.jsx(fn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>B(O),className:"h-8 w-8 p-0 hover:bg-gray-100",children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx(z,{variant:"ghost",size:"sm",onClick:()=>E(O.id),className:"h-8 w-8 p-0 hover:bg-red-100 hover:text-red-600",children:n.jsx(wr,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Cardholder:"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:O.holderName||"--"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Expires:"}),n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[O.expiryMonth?O.expiryMonth.toString().padStart(2,"0"):"--","/",O.expiryYear||"--"]})]}),b[O.id]&&n.jsx("div",{className:"pt-3 border-t border-gray-100",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Full Number:"}),n.jsxs("span",{className:"text-sm font-mono text-gray-900",children:[O.brand==="Visa"?"4":"5","*** **** **** ",O.last4||"----"]})]})})]}),!O.isDefault&&n.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:n.jsx(z,{variant:"outline",size:"sm",onClick:()=>L(O.id),className:"w-full shadow-soft border-0 hover:bg-primary hover:text-primary-foreground",children:"Set as Default"})})]})},O.id))})]}),n.jsxs(Zr,{value:"billing-history",className:"space-y-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Billing History"}),n.jsx("div",{className:"space-y-4",children:a.map(O=>n.jsx(te,{className:"shadow-soft border-0 hover:shadow-lg transition-all duration-300",children:n.jsx(re,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx(ds,{className:"w-6 h-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:O.description}),n.jsxs("p",{className:"text-sm text-gray-600",children:[O.date,"  ",O.method]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Invoice: ",O.invoiceNumber]})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-lg text-gray-900",children:["PKR ",O.amount.toLocaleString()]}),n.jsx(Ce,{className:O.status==="success"?"bg-green-100 text-green-800 border-0":O.status==="failed"?"bg-red-100 text-red-800 border-0":"bg-yellow-100 text-yellow-800 border-0",children:O.status.toUpperCase()})]}),n.jsxs(z,{variant:"outline",size:"sm",onClick:()=>_(O.invoiceNumber),className:"shadow-soft border-0 hover:bg-primary hover:text-primary-foreground",children:[n.jsx(hs,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})})},O.id))})]})]}),S&&n.jsx(Fbe,{isOpen:v,onClose:()=>{j(!1),w(null)},amount:S.amount,plan:S.plan,onPaymentSuccess:P})]})},Ube=()=>{const{user:e,logout:t}=Jt(),{toast:r}=nd(),s=m.useRef(null);m.useEffect(()=>{if(!e){s.current&&(s.current.close(),s.current=null);return}const a=l=>{r({title:"Account Deactivated",description:l.detail.message,variant:"destructive",duration:5e3}),t()};window.addEventListener("accountDeactivated",a);const i=localStorage.getItem("token");if(!i)return;const o=new EventSource(`http://localhost:5001/api/sse/events?token=${encodeURIComponent(i)}`);return s.current=o,o.onopen=()=>{},o.onmessage=l=>{var c,d,u,f,h,p,b,x,g,y;try{const v=JSON.parse(l.data);switch(v.type){case"connected":break;case"ping":break;case"account_deactivated":r({title:"Account Deactivated",description:v.message,variant:"destructive",duration:5e3}),t(),setTimeout(()=>{r({title:"Logged Out",description:"You have been logged out due to account deactivation",variant:"destructive"})},1e3);break;case"account_reactivated":r({title:"Account Reactivated",description:v.message,variant:"default",duration:5e3});break;case"product_change":const j=(c=v.data)==null?void 0:c.action,S=(d=v.data)==null?void 0:d.product;j&&S&&(window.dispatchEvent(new CustomEvent("productChanged",{detail:{action:j,product:S}})),r({title:`Product ${j.charAt(0).toUpperCase()+j.slice(1)}`,description:v.message||`Product ${S.name} was ${j}`,variant:"default",duration:3e3}));break;case"sale_change":const w=(u=v.data)==null?void 0:u.action,N=(f=v.data)==null?void 0:f.sale;w&&N&&(window.dispatchEvent(new CustomEvent("saleChanged",{detail:{action:w,sale:N}})),r({title:`Sale ${w.charAt(0).toUpperCase()+w.slice(1)}`,description:v.message||`Sale ${N.id} was ${w}`,variant:"default",duration:3e3}));break;case"refund_change":const P=(h=v.data)==null?void 0:h.action,C=(p=v.data)==null?void 0:p.refund;P&&C&&(window.dispatchEvent(new CustomEvent("refundChanged",{detail:{action:P,refund:C}})),r({title:`Refund ${P.charAt(0).toUpperCase()+P.slice(1)}`,description:v.message||`Refund ${C.id} was ${P}`,variant:"default",duration:3e3}));break;case"customer_change":const k=(b=v.data)==null?void 0:b.action,D=(x=v.data)==null?void 0:x.customer;k&&D&&(window.dispatchEvent(new CustomEvent("customerChanged",{detail:{action:k,customer:D}})),r({title:`Customer ${k.charAt(0).toUpperCase()+k.slice(1)}`,description:v.message||`Customer ${D.name} was ${k}`,variant:"default",duration:3e3}));break;case"inventory_change":const T=(g=v.data)==null?void 0:g.action,R=(y=v.data)==null?void 0:y.data;T&&R&&(window.dispatchEvent(new CustomEvent("inventoryChanged",{detail:{action:T,data:R}})),r({title:`Inventory ${T.charAt(0).toUpperCase()+T.slice(1)}`,description:v.message||"Inventory was updated",variant:"default",duration:3e3}));break;default:}}catch(v){console.error("Error parsing SSE message:",v)}},o.onerror=l=>{console.error("SSE connection error:",l),setTimeout(()=>{e&&s.current},5e3)},()=>{window.removeEventListener("accountDeactivated",a),s.current&&(s.current.close(),s.current=null)}},[e,t,r]),m.useEffect(()=>()=>{s.current&&(s.current.close(),s.current=null)},[])},ir=({children:e,fallback:t})=>{const{isAuthenticated:r,checkAuthStatus:s,logout:a,user:i}=Jt(),o=s();return console.log(" AuthStatus: isAuthenticated:",r),console.log(" AuthStatus: isProperlyAuthenticated:",o),console.log(" AuthStatus: user:",i),o?n.jsx(n.Fragment,{children:e}):t?n.jsx(n.Fragment,{children:t}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs(te,{className:"w-full max-w-md",children:[n.jsxs(Se,{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:n.jsx(yr,{className:"h-6 w-6 text-red-600"})}),n.jsx(Ae,{className:"text-xl font-semibold",children:"Authentication Required"}),n.jsx(M4,{children:"Your session has expired or you need to log in to continue."})]}),n.jsxs(re,{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Please log in to access the application."}),n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsxs(z,{onClick:()=>window.location.href="/login",className:"w-full",children:[n.jsx(v0,{className:"mr-2 h-4 w-4"}),"Go to Login"]}),n.jsx(z,{variant:"outline",onClick:()=>{a(),window.location.href="/login"},className:"w-full",children:"Clear Session & Login"}),n.jsx(z,{variant:"ghost",onClick:a,className:"w-full text-gray-600 hover:text-gray-800",children:"Just Logout"})]})]})]})})},zbe=new oz,Yr=({children:e,allowedRoles:t})=>{const{isAuthenticated:r,user:s}=Jt();return r?t.includes((s==null?void 0:s.role)||"")?n.jsx(n.Fragment,{children:e}):n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Your role: ",s==null?void 0:s.role," | Required roles: ",t.join(", ")]})]})}):n.jsx(Qz,{to:"/login",replace:!0})},Vbe=()=>{const{isAuthenticated:e,login:t}=Jt();return Ube(),n.jsx(i9,{children:n.jsxs(Zz,{children:[n.jsx(qt,{path:"/login",element:n.jsx(v9,{onLogin:r=>t(r)})}),n.jsx(qt,{path:"/signup",element:n.jsx(y9,{})}),n.jsx(qt,{path:"/",element:n.jsx(ir,{children:n.jsx(Obe,{})})}),n.jsx(qt,{path:"/pos",element:n.jsx(ir,{children:n.jsx(tr,{children:n.jsx(uV,{})})})}),n.jsx(qt,{path:"/customers",element:n.jsx(ir,{children:n.jsx(tr,{children:n.jsx(YV,{})})})}),n.jsx(qt,{path:"/invoices",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN","ADMIN","MANAGER","CASHIER","PHARMACIST"],children:n.jsx(tr,{children:n.jsx(Tbe,{})})})})}),n.jsx(qt,{path:"/refunds",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN","ADMIN","MANAGER","CASHIER","PHARMACIST"],children:n.jsx(tr,{children:n.jsx(kbe,{})})})})}),n.jsx(qt,{path:"/checkin",element:n.jsx(ir,{children:n.jsx(tr,{children:n.jsx(Ibe,{})})})}),n.jsx(qt,{path:"/shifts",element:n.jsx(ir,{children:n.jsx(tr,{children:n.jsx(_be,{})})})}),n.jsx(qt,{path:"/performance",element:n.jsx(ir,{children:n.jsx(tr,{children:n.jsx(Rbe,{})})})}),n.jsx(qt,{path:"/inventory-transfers",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["MANAGER","SUPERADMIN"],children:n.jsx(tr,{children:n.jsx(Mbe,{})})})})}),n.jsx(qt,{path:"/commission",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["MANAGER","SUPERADMIN"],children:n.jsx(tr,{children:n.jsx(Dbe,{})})})})}),n.jsx(qt,{path:"/inventory",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN","ADMIN","MANAGER","CASHIER","PHARMACIST"],children:n.jsx(tr,{children:n.jsx(KV,{})})})})}),n.jsx(qt,{path:"/reports",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["MANAGER","ADMIN","SUPERADMIN"],children:n.jsx(tr,{children:n.jsx(Wve,{})})})})}),n.jsx(qt,{path:"/settings",element:n.jsx(ir,{children:n.jsx(tr,{children:n.jsx(Zve,{})})})}),n.jsx(qt,{path:"/admin",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN"],children:n.jsx(tr,{children:n.jsx(P$,{})})})})}),n.jsx(qt,{path:"/admin/users",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN","ADMIN","PRODUCT_OWNER"],children:n.jsx(tr,{children:n.jsx(Uye,{})})})})}),n.jsx(qt,{path:"/manager/users",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["MANAGER"],children:n.jsx(tr,{children:n.jsx(gbe,{})})})})}),n.jsx(qt,{path:"/admin/employees",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN","ADMIN","MANAGER"],children:n.jsx(tr,{children:n.jsx(jbe,{})})})})}),n.jsx(qt,{path:"/admin/roles",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN","PRODUCT_OWNER"],children:n.jsx(tr,{children:n.jsx(Sbe,{})})})})}),n.jsx(qt,{path:"/admin/reports",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN"],children:n.jsx(tr,{children:n.jsx(Nbe,{})})})})}),n.jsx(qt,{path:"/admin/branches",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN","ADMIN"],children:n.jsx(tr,{children:n.jsx(wbe,{})})})})}),n.jsx(qt,{path:"/admin/subscription",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["ADMIN"],children:n.jsx(tr,{children:n.jsx(Bbe,{})})})})}),n.jsx(qt,{path:"/superadmin",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN","PRODUCT_OWNER"],children:n.jsx(Cbe,{})})})}),n.jsx(qt,{path:"/superadmin/payments",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN"],children:n.jsx(tr,{children:n.jsx($be,{})})})})}),n.jsx(qt,{path:"/superadmin/admins",element:n.jsx(ir,{children:n.jsx(Yr,{allowedRoles:["SUPERADMIN"],children:n.jsx(tr,{children:n.jsx(Lbe,{})})})})}),n.jsx(qt,{path:"*",element:n.jsx(eye,{})})]})})},qbe=()=>n.jsx(cz,{client:zbe,children:n.jsx(h9,{children:n.jsx(f9,{children:n.jsxs(p4,{children:[n.jsx(yB,{}),n.jsx(QB,{}),n.jsx(Vbe,{})]})})})});Yk(document.getElementById("root")).render(n.jsx(qbe,{}));
